// Translations
const translations = {
  fr: {
    "page-title": "Mas Airaga - Maison de charme √† Eyragues",
    "nav-atouts": "Atouts",
    "nav-photos": "Photos",
    "nav-amenities": "√âquipements",
    "nav-pricing": "Tarifs",
    "nav-location": "Localisation",
    "nav-book": "R√©server",
    "hero-eyebrow": "Villa avec piscine",
    "hero-title": "Mas Airaga ‚Äì Location de Vacances avec Piscine en Provence",
    "hero-lead": "Mas enti√®rement climatis√©, tout en lumi√®re, 185 m2 habitables. Jardin parfum√© √† la lavande et aux oliviers d'environ 2000 m2 avec piscine s√©curis√©e. D√âTENTE GARANTIE !",
    "cta-book": "R√©server en direct",
    "cta-discover": "D√©couvrir la maison",
    "meta-guests": "10 voyageurs",
    "meta-pool": "Piscine s√©curis√©e",
    "meta-parking": "Parking priv√©",
    "meta-ac": "Climatisation",
    "atouts-eyebrow": "Pourquoi ici",
    "atouts-title": "Les atouts pour vos s√©jours",
    "atouts-subtitle": "Un mas proven√ßal de 185 m2 tout en lumi√®re, √† proximit√© des commerces et √† 4 km de Saint-R√©my-de-Provence.",
    "atout1-title": "Piscine s√©curis√©e",
    "atout1-desc": "Jardin de 2000 m2 parfum√© √† la lavande et aux oliviers avec piscine priv√©e et s√©curis√©e pour une d√©tente absolue.",
    "atout2-title": "Espace g√©n√©reux",
    "atout2-desc": "185 m2 habitables enti√®rement climatis√©s avec 10 couchages, id√©al pour familles et groupes d'amis.",
    "atout3-title": "Emplacement id√©al",
    "atout3-desc": "√Ä 4 km de Saint-R√©my-de-Provence, proche des Alpilles et des plus beaux villages de Provence.",
    "photos-eyebrow": "Visite virtuelle",
    "photos-title": "D√©couvrez chaque espace",
    "photos-subtitle": "Une visite guid√©e du Mas Airaga, pi√®ce par pi√®ce.",
    "space-outdoor-title": "Piscine et ext√©rieurs",
    "space-outdoor-desc": "Jardin de 2000 m2 avec piscine priv√©e s√©curis√©e, lavande et oliviers. Parfait pour se d√©tendre en plein air.",
    "space-living-title": "Salon et espaces de vie",
    "space-living-desc": "Salon lumineux et spacieux avec TV, climatisation et grandes fen√™tres donnant sur le jardin.",
    "space-kitchen-title": "Cuisine et salle √† manger",
    "space-kitchen-desc": "Cuisine enti√®rement √©quip√©e avec machine √† caf√©, lave-vaisselle et grande table √† manger pour partager vos repas.",
    "space-bedrooms-title": "Chambres (4 chambres, 10 couchages)",
    "space-bedrooms-desc": "Chambres confortables avec literie de qualit√©.",
    "bedroom1-title": "Chambre 1 (RDC) - Salle de douche en suite",
    "bedroom1-desc": "Lit queen",
    "bedroom23-title": "Chambres 2 & 3 (√âtage) - Salle de bain attenante",
    "bedroom23-desc": "Lits queen avec canap√©s-lits simples",
    "bedroom4-title": "Chambre 4 (√âtage) - Master bedroom, salle de douche en suite",
    "bedroom4-desc": "Lit queen avec canap√©-lit",
    "space-bathrooms-title": "Salles de bain (3 salles de bain compl√®tes)",
    "space-bathrooms-desc": "Trois salles de bain modernes avec douche, WC et tous les √©quipements n√©cessaires.",
    "space-extras-title": "√âquipements et loisirs",
    "space-extras-desc": "Table de ping-pong, barbecue, terrasse ombrag√©e et tout le confort pour profiter de vos vacances.",
    "amenities-eyebrow": "√âquipements",
    "amenities-title": "Ce qui est inclus",
    "amenity1": "Climatisation int√©grale & chauffage",
    "amenity2": "Piscine priv√©e s√©curis√©e",
    "amenity3": "Jardin 2000 m2 (lavande, oliviers)",
    "amenity4": "Wi-Fi haut d√©bit",
    "amenity5": "10 couchages (4 chambres)",
    "amenity6": "Cuisine enti√®rement √©quip√©e",
    "amenity7": "Lave-linge et s√®che-linge",
    "amenity8": "Terrasse avec mobilier de jardin",
    "amenity9": "Parking priv√©",
    "amenity10": "Linge de maison fourni",
    "amenity11": "√Ä 4 km de Saint-R√©my-de-Provence",
    "amenity12": "Proche commerces et restaurants",
    "location-eyebrow": "Autour de vous",
    "location-title": "Localisation",
    "location-subtitle": "Eyragues, Bouches-du-Rh√¥ne. Id√©alement situ√© √† proximit√© des commerces, √† 4 km de Saint-R√©my-de-Provence et au c≈ìur de la Provence.",
    "access-title": "Temps d'acc√®s",
    "access-times": "Saint-R√©my : 4 km ¬∑ Avignon : 15 min ¬∑ Avignon TGV : 20 min ¬∑ Arles : 30 min ¬∑ A√©roport Marseille : 1h",
    "booking-eyebrow": "R√©servation",
    "booking-title": "R√©servez en direct ou sur Airbnb",
    "booking-subtitle": "Profitez du meilleur prix en direct. Indiquez vos dates, nous r√©pondons rapidement.",
    "form-name": "Pr√©nom et nom",
    "form-email": "Email",
    "form-phone": "T√©l√©phone",
    "form-adults": "Adultes",
    "form-children": "Enfants",
    "form-checkin": "Arriv√©e",
    "form-checkout": "D√©part",
    "form-message": "Message",
    "form-submit": "Demander une disponibilit√©",
    "booking-nights": "Nuits",
    "booking-rate": "H√©bergement",
    "booking-tax": "Taxe de s√©jour",
    "booking-total": "Total estim√©",
    "badge-quick": "R√©ponse rapide",
    "aside-title": "Tarif direct avantageux",
    "aside-desc": "Contact direct propri√©taire. Caution et contrat simple. Paiement s√©curis√©.",
    "benefits-title": "Avantages de la r√©servation directe",
    "benefit-1": "Aucun frais Airbnb / Abritel / Booking",
    "benefit-2": "Contact direct avec les propri√©taires",
    "benefit-3": "Contrat de location fourni",
    "benefit-4": "Offres sp√©ciales et r√©ductions pour s√©jours longue dur√©e",
    "btn-email": "√âcrire un email",
    "btn-whatsapp": "WhatsApp",
    "btn-airbnb": "Voir sur Airbnb",
    "whatsapp-float": "Besoin d'aide ?",
    "contact-owners": "Virginie et Flavien",
    "footer-registration": "Maison meubl√©e d√©clar√©e ‚Ä¢ Eyragues, Provence",
    "footer-contact": "Contact :",
    "footer-gallery": "Galerie",
    "footer-location": "Localisation",
    "footer-around": "Aux alentours",
    "footer-contact-page": "Contact",
    "footer-home": "Accueil",
    "back-home": "‚Üê Retour √† la page principale",
    "contact-title": "Contactez-nous",
    "contact-subtitle": "Nous sommes √† votre disposition pour toute question ou r√©servation.",
    "contact-email-title": "üìß Email",
    "contact-phone-title": "üìû T√©l√©phone",
    "contact-whatsapp-title": "üí¨ WhatsApp",
    "contact-whatsapp-btn": "Ouvrir WhatsApp",
    "contact-address-title": "üìç Adresse",
    "contact-address-line1": "Eyragues, Provence",
    "contact-address-line2": "√Ä 4 km de Saint-R√©my-de-Provence",
    "contact-address-line3": "Entre Alpilles et Avignon",
    "contact-book-btn": "Faire une r√©servation",
    "gallery-title": "Galerie Photos",
    "gallery-subtitle": "D√©couvrez chaque espace du Mas Airaga en images",
    "gallery-pool-title": "Piscine et Ext√©rieurs",
    "gallery-living-title": "Salon et Espaces de Vie",
    "gallery-kitchen-title": "Cuisine et Salle √† Manger",
    "gallery-bedrooms-title": "Chambres",
    "gallery-book-btn": "R√©server maintenant",
    "location-title": "Localisation",
    "location-subtitle": "Mas Airaga, au c≈ìur de la Provence, entre Alpilles et Avignon",
    "location-address-title": "üìç Adresse",
    "location-distances-title": "üöó Distances depuis Mas Airaga",
    "location-map-title": "üó∫Ô∏è Carte",
    "location-book-btn": "R√©server maintenant",
    "around-title": "D√©couvrez la Provence",
    "around-subtitle": "Sites incontournables, march√©s proven√ßaux et activit√©s autour du Mas Airaga",
    "around-eyragues-title": "üè° Eyragues - Notre Village",
    "around-historical-title": "üèõÔ∏è Sites Historiques",
    "around-wine-title": "üç∑ Vignobles & Gastronomie",
    "around-nature-title": "üåø Nature & Activit√©s",
    "around-culture-title": "üé® Culture & √âv√©nements",
    "around-book-btn": "R√©server votre s√©jour",
    "reviews-eyebrow": "Avis clients",
    "reviews-title": "Ce que nos voyageurs en pensent",
    "reviews-count": "44 avis",
    "review1-date": "Ao√ªt 2025",
    "review1-text": "L'emplacement est calme, et la maison confortable. Il y a vraiment de tout, nous nous sommes sentis comme chez nous ! L'h√¥te est tr√®s r√©active et √ßa fait vraiment la diff√©rence.",
    "review2-date": "Juillet 2025",
    "review2-text": "Maison incroyable et spacieuse, tr√®s confortable et bien √©quip√©e. Super jardin et piscine. Tr√®s propre et dans un bon emplacement.",
    "review3-date": "Ao√ªt 2025",
    "review3-text": "Magnifique maison pour une grande famille ! Superbe cour et piscine. Maison bien √©quip√©e et exactement comme sur les photos. Communication parfaite !",
    "review4-date": "Ao√ªt 2024",
    "review4-text": "Un s√©jour incroyable ! Maison tr√®s spacieuse, nombreuses commodit√©s et piscine g√©niale. Virginie a √©t√© super r√©active. Je recommande fortement !",
    "review5-date": "Juillet 2023",
    "review5-text": "Maison magnifique, propre et tr√®s bien entretenue dans un endroit calme et reposant. Un excellent s√©jour !",
    "review6-date": "Ao√ªt 2023",
    "review6-text": "Superbe maison avec piscine. Tous les √©quipements √©taient l√†. Belle chambre spacieuse et moderne. Parfaite pour les familles !",
    "reviews-see-all": "Voir les 44 avis sur Airbnb",
    "pricing-eyebrow": "Tarifs",
    "pricing-title": "Tarifs & Conditions",
    "pricing-subtitle": "Tarifs transparents pour votre s√©jour au Mas Airaga",
    "pricing-standard-title": "Tarif Standard",
    "pricing-standard-period": "17 avril au 3 juillet & 29 ao√ªt au 3 octobre",
    "pricing-standard-rate": "500‚Ç¨ / nuit",
    "pricing-standard-min": "Minimum 4 nuits",
    "pricing-standard-degressive": "Tarif d√©gressif",
    "pricing-standard-5nights": "5 nuits : 2 400‚Ç¨",
    "pricing-standard-6nights": "6 nuits : 2 700‚Ç¨",
    "pricing-standard-7nights": "7 nuits : 2 900‚Ç¨",
    "pricing-standard-15nights": "15 nuits : 5 000‚Ç¨",
    "pricing-high-title": "Haute Saison",
    "pricing-high-period": "4 juillet au 28 ao√ªt",
    "pricing-high-rate": "3 900‚Ç¨ / semaine",
    "pricing-high-constraint": "Arriv√©e/d√©part : samedi uniquement",
    "pricing-included": "M√©nage et linge de maison inclus",
    "pricing-deposit": "Caution : 1 500‚Ç¨",
    "pricing-tax": "Tarif hors Taxe de s√©jour",
    "pricing-closed": "Ferm√© avant le 17 avril et apr√®s le 3 octobre 2026",
    "faq-eyebrow": "Questions fr√©quentes",
    "faq-title": "Informations pratiques",
    "faq-checkin-q": "Horaires d'arriv√©e et de d√©part",
    "faq-checkin-a": "Arriv√©e : 17h - 23h ¬∑ D√©part : 8h - 10h",
    "faq-pets-q": "Animaux accept√©s ?",
    "faq-pets-a": "Oui, avec suppl√©ment de 200‚Ç¨",
    "faq-smoking-q": "Peut-on fumer ?",
    "faq-smoking-a": "Interdit √† l'int√©rieur, autoris√© en ext√©rieur",
    "calculator-title": "Calculateur de prix",
    "calculator-subtitle": "Estimez le co√ªt de votre s√©jour",
    "calculator-checkin": "Date d'arriv√©e",
    "calculator-checkout": "Date de d√©part",
    "calculator-adults": "Adultes (18 ans et +)",
    "calculator-children": "Enfants (- de 18 ans)",
    "calculator-nights": "Nombre de nuits",
    "calculator-guests": "Voyageurs",
    "calculator-rate": "Tarif h√©bergement",
    "calculator-tourism-tax": "Taxe de s√©jour",
    "calculator-total": "Total TTC",
    "calculator-send-email": "Envoyer une demande de r√©servation",
    "calendarBlocked": "Cette date n'est pas disponible. Veuillez en choisir une autre.",
    "calendarInsufficientDays": "Cette date ne peut pas √™tre s√©lectionn√©e comme date d'arriv√©e. Minimum 4 nuits requis en tarif standard.",
    "calendarHighSeasonSaturday": "En haute saison (4 juillet - 28 ao√ªt), les arriv√©es et d√©parts sont uniquement le samedi.",
    "calendar-title": "Calendrier des disponibilit√©s",
    "calendar-subtitle": "Dates disponibles et r√©serv√©es",
    "legend-available": "Disponible",
    "legend-blocked": "R√©serv√©",
    "legend-closed": "Ferm√©",
    "selection-checkin": "Arriv√©e",
    "selection-checkout": "D√©part",
    "selection-nights": "nuits",
    "selection-reset": "Modifier les dates",
    "selection-validate": "Voir le tarif et r√©server",
    "around-eyebrow": "Les Alentours",
    "around-title": "D√©couvrez les Alpilles",
    "around-subtitle": "Sites naturels, villages perch√©s et patrimoine proven√ßal √† explorer autour du Mas Airaga",
    "around-nature-title": "Nature & Paysages",
    "around-nature-desc": "Randonn√©es dans les Alpilles, champs de lavande, oliveraies centenaires",
    "around-villages-title": "Villages & Patrimoine",
    "around-villages-desc": "Les Baux-de-Provence, Saint-R√©my, Arles, Avignon et leurs march√©s proven√ßaux",
    "around-culture-title": "Culture & Art de vivre",
    "around-culture-desc": "Caves viticoles, moulins √† huile, antiquit√©s et gastronomie locale",
    "around-eyragues-terre-title": "Eyragues - Terre de Provence",
    "around-eyragues-terre-desc": "Village authentique des Alpilles. Histoire, patrimoine et vie locale",
    "around-eyragues-tourism-title": "Office de Tourisme",
    "around-eyragues-tourism-desc": "Informations touristiques officielles et visites guid√©es d'Eyragues",
    "around-events-title": "Calendrier des √âv√©nements",
    "around-events-desc": "Tous les √©v√©nements et loisirs de la r√©gion. Agenda culturel",
    "around-eyragues-distance": "Notre village",
    "around-events-distance": "Provence",
    "around-activity1": "Saint-R√©my-de-Provence",
    "around-activity1-desc": "Village proven√ßal authentique avec son c√©l√®bre march√©, √† 4 km",
    "around-activity2": "Les Baux-de-Provence",
    "around-activity2-desc": "Village m√©di√©val perch√© class√© parmi les plus beaux villages de France",
    "around-activity3": "Alpilles",
    "around-activity3-desc": "Parc naturel r√©gional avec sentiers de randonn√©e et panoramas",
    "around-activity4": "Avignon",
    "around-activity4-desc": "Palais des Papes et festival de th√©√¢tre, √† 15 minutes",
    "around-activity5": "Arles",
    "around-activity5-desc": "Ar√®nes romaines et patrimoine Van Gogh, √† 30 minutes",
    "around-activity6": "Vignobles",
    "around-activity6-desc": "Route des vins des Alpilles et d√©gustations dans les domaines",
    "around-discover-more": "D√©couvrir plus"
  },
  en: {
    "page-title": "Mas Airaga - Charming House in Eyragues",
    "nav-atouts": "Features",
    "nav-photos": "Photos",
    "nav-amenities": "Amenities",
    "nav-pricing": "Pricing",
    "nav-location": "Location",
    "nav-book": "Book",
    "hero-eyebrow": "Villa with pool",
    "hero-title": "Mas Airaga ‚Äì Holiday Rental with Pool in Provence",
    "hero-lead": "Fully air-conditioned farmhouse, full of light, 185 m2 of living space. Garden scented with lavender and olive trees on approximately 2000 m2 with secure swimming pool. RELAXATION GUARANTEED!",
    "cta-book": "Book direct",
    "cta-discover": "Discover the house",
    "meta-guests": "10 guests",
    "meta-pool": "Secure pool",
    "meta-parking": "Private parking",
    "meta-ac": "Air conditioning",
    "atouts-eyebrow": "Why here",
    "atouts-title": "Features for your stay",
    "atouts-subtitle": "A 185 m2 Proven√ßal farmhouse full of light, close to shops and 4 km from Saint-R√©my-de-Provence.",
    "atout1-title": "Secure swimming pool",
    "atout1-desc": "2000 m2 garden scented with lavender and olive trees with private secure swimming pool for absolute relaxation.",
    "atout2-title": "Generous space",
    "atout2-desc": "185 m2 of fully air-conditioned living space with 10 beds, ideal for families and groups of friends.",
    "atout3-title": "Ideal location",
    "atout3-desc": "4 km from Saint-R√©my-de-Provence, close to the Alpilles and the most beautiful villages of Provence.",
    "photos-eyebrow": "Virtual tour",
    "photos-title": "Discover each space",
    "photos-subtitle": "A guided tour of Mas Airaga, room by room.",
    "space-outdoor-title": "Pool and outdoor areas",
    "space-outdoor-desc": "2000 m2 garden with private secure pool, lavender and olive trees. Perfect for relaxing outdoors.",
    "space-living-title": "Living room and common areas",
    "space-living-desc": "Bright and spacious living room with TV, air conditioning and large windows overlooking the garden.",
    "space-kitchen-title": "Kitchen and dining room",
    "space-kitchen-desc": "Fully equipped kitchen with coffee machine, dishwasher and large dining table for sharing your meals.",
    "space-bedrooms-title": "Bedrooms (4 bedrooms, 10 beds)",
    "space-bedrooms-desc": "Comfortable bedrooms with quality bedding.",
    "bedroom1-title": "Bedroom 1 (Ground floor) - Ensuite shower room",
    "bedroom1-desc": "Queen bed",
    "bedroom23-title": "Bedrooms 2 & 3 (Upstairs) - Adjacent bathroom",
    "bedroom23-desc": "Queen beds with single sofa beds",
    "bedroom4-title": "Bedroom 4 (Upstairs) - Master bedroom, ensuite shower room",
    "bedroom4-desc": "Queen bed with sofa bed",
    "space-bathrooms-title": "Bathrooms (3 full bathrooms)",
    "space-bathrooms-desc": "Three modern bathrooms with shower, toilet and all necessary amenities.",
    "space-extras-title": "Amenities and leisure",
    "space-extras-desc": "Ping-pong table, barbecue, shaded terrace and all the comfort to enjoy your vacation.",
    "amenities-eyebrow": "Amenities",
    "amenities-title": "What's included",
    "amenity1": "Full air conditioning & heating",
    "amenity2": "Private secure swimming pool",
    "amenity3": "2000 m2 garden (lavender, olive trees)",
    "amenity4": "High-speed Wi-Fi",
    "amenity5": "10 beds (4 bedrooms)",
    "amenity6": "Fully equipped kitchen",
    "amenity7": "Washer and dryer",
    "amenity8": "Terrace with garden furniture",
    "amenity9": "Private parking",
    "amenity10": "Bed linen provided",
    "amenity11": "4 km from Saint-R√©my-de-Provence",
    "amenity12": "Close to shops and restaurants",
    "location-eyebrow": "Around you",
    "location-title": "Location",
    "location-subtitle": "Eyragues, Bouches-du-Rh√¥ne. Ideally located close to shops, 4 km from Saint-R√©my-de-Provence and in the heart of Provence.",
    "access-title": "Access times",
    "access-times": "Saint-R√©my: 4 km ¬∑ Avignon: 15 min ¬∑ Avignon TGV: 20 min ¬∑ Arles: 30 min ¬∑ Marseille Airport: 1h",
    "booking-eyebrow": "Booking",
    "booking-title": "Book direct or on Airbnb",
    "booking-subtitle": "Enjoy the best price by booking direct. Tell us your dates, we'll respond quickly.",
    "form-name": "First and last name",
    "form-email": "Email",
    "form-phone": "Phone",
    "form-adults": "Adults",
    "form-children": "Children",
    "form-checkin": "Check-in",
    "form-checkout": "Check-out",
    "form-message": "Message",
    "form-submit": "Request availability",
    "booking-nights": "Nights",
    "booking-rate": "Accommodation",
    "booking-tax": "Tourist tax",
    "booking-total": "Estimated total",
    "badge-quick": "Quick response",
    "aside-title": "Advantageous direct rate",
    "aside-desc": "Direct contact with owner. Simple deposit and contract. Secure payment.",
    "benefits-title": "Benefits of booking direct",
    "benefit-1": "No Airbnb / Abritel / Booking fees",
    "benefit-2": "Direct contact with the owners",
    "benefit-3": "Rental contract provided",
    "benefit-4": "Special offers and discounts for long stays",
    "btn-email": "Send an email",
    "btn-whatsapp": "WhatsApp",
    "btn-airbnb": "View on Airbnb",
    "whatsapp-float": "Need help?",
    "contact-owners": "Virginie and Flavien",
    "footer-registration": "Registered furnished accommodation ‚Ä¢ Eyragues, Provence",
    "footer-contact": "Contact:",
    "footer-gallery": "Gallery",
    "footer-location": "Location",
    "footer-around": "Around",
    "footer-contact-page": "Contact",
    "footer-home": "Home",
    "back-home": "‚Üê Back to main page",
    "contact-title": "Contact Us",
    "contact-subtitle": "We are at your disposal for any questions or reservations.",
    "contact-email-title": "üìß Email",
    "contact-phone-title": "üìû Phone",
    "contact-whatsapp-title": "üí¨ WhatsApp",
    "contact-whatsapp-btn": "Open WhatsApp",
    "contact-address-title": "üìç Address",
    "contact-address-line1": "Eyragues, Provence",
    "contact-address-line2": "4 km from Saint-R√©my-de-Provence",
    "contact-address-line3": "Between Alpilles and Avignon",
    "contact-book-btn": "Make a reservation",
    "gallery-title": "Photo Gallery",
    "gallery-subtitle": "Discover every space of Mas Airaga in images",
    "gallery-pool-title": "Pool and Outdoors",
    "gallery-living-title": "Living Room and Living Spaces",
    "gallery-kitchen-title": "Kitchen and Dining Room",
    "gallery-bedrooms-title": "Bedrooms",
    "gallery-book-btn": "Book now",
    "location-title": "Location",
    "location-subtitle": "Mas Airaga, in the heart of Provence, between Alpilles and Avignon",
    "location-address-title": "üìç Address",
    "location-distances-title": "üöó Distances from Mas Airaga",
    "location-map-title": "üó∫Ô∏è Map",
    "location-book-btn": "Book now",
    "around-title": "Discover Provence",
    "around-subtitle": "Must-see sites, Provencal markets and activities around Mas Airaga",
    "around-eyragues-title": "üè° Eyragues - Our Village",
    "around-historical-title": "üèõÔ∏è Historical Sites",
    "around-wine-title": "üç∑ Vineyards & Gastronomy",
    "around-nature-title": "üåø Nature & Activities",
    "around-culture-title": "üé® Culture & Events",
    "around-book-btn": "Book your stay",
    "around-eyebrow": "Surroundings",
    "around-title": "Discover the Alpilles",
    "around-subtitle": "Natural sites, hilltop villages and Provencal heritage to explore around Mas Airaga",
    "around-nature-title": "Nature & Landscapes",
    "around-nature-desc": "Hiking in the Alpilles, lavender fields, century-old olive groves",
    "around-villages-title": "Villages & Heritage",
    "around-villages-desc": "Les Baux-de-Provence, Saint-R√©my, Arles, Avignon and their Provencal markets",
    "around-culture-title": "Culture & Lifestyle",
    "around-culture-desc": "Wine cellars, oil mills, antiques and local gastronomy",
    "around-eyragues-terre-title": "Eyragues - Terre de Provence",
    "around-eyragues-terre-desc": "Authentic Alpilles village. History, heritage and local life",
    "around-eyragues-tourism-title": "Tourist Office",
    "around-eyragues-tourism-desc": "Official tourist information and guided tours of Eyragues",
    "around-events-title": "Events Calendar",
    "around-events-desc": "All events and leisure activities in the region. Cultural agenda",
    "around-eyragues-distance": "Our village",
    "around-events-distance": "Provence",
    "around-saintrem-title": "Saint-R√©my-de-Provence",
    "around-saintrem-desc": "Picturesque town with Provencal market, Van Gogh trail and authentic charm",
    "around-saintrem-distance": "4 km",
    "around-lesbaux-title": "Les Baux-de-Provence",
    "around-lesbaux-desc": "Medieval village perched on a rocky outcrop with breathtaking views",
    "around-lesbaux-distance": "12 km",
    "around-alpilles-title": "Alpilles Regional Park",
    "around-alpilles-desc": "Hiking trails, cycling, exceptional flora and fauna",
    "around-alpilles-distance": "In the heart",
    "around-avignon-title": "Avignon",
    "around-avignon-desc": "Papal City, Palais des Papes, Pont d'Avignon, summer festival",
    "around-avignon-distance": "25 km",
    "around-arles-title": "Arles",
    "around-arles-desc": "Roman arenas, Van Gogh heritage, Camargue gateway",
    "around-arles-distance": "30 km",
    "around-vineyards-title": "Vineyards",
    "around-vineyards-desc": "Wine estates, wine tastings, Ch√¢teauneuf-du-Pape and Provence wines",
    "around-vineyards-distance": "5-20 km",
    "reviews-eyebrow": "Guest reviews",
    "reviews-title": "What our guests think",
    "reviews-count": "44 reviews",
    "review1-date": "August 2025",
    "review1-text": "The location is quiet, and the house is comfortable. There's really everything, we felt at home! The host is very responsive and it really makes a difference.",
    "review2-date": "July 2025",
    "review2-text": "Amazing and spacious house, very comfortable and well equipped. Great garden and pool. Very clean and in a good location.",
    "review3-date": "August 2025",
    "review3-text": "Beautiful house for a large family! Superb yard and pool. House well equipped and exactly as in the photos. Perfect communication!",
    "review4-date": "August 2024",
    "review4-text": "An incredible stay! Very spacious house, numerous amenities and great pool. Virginie was super responsive. I highly recommend!",
    "review5-date": "July 2023",
    "review5-text": "Beautiful house, clean and very well maintained in a quiet and relaxing place. An excellent stay!",
    "review6-date": "August 2023",
    "review6-text": "Superb house with pool. All the equipment was there. Beautiful spacious and modern room. Perfect for families!",
    "reviews-see-all": "See all 44 reviews on Airbnb",
    "pricing-eyebrow": "Pricing",
    "pricing-title": "Rates & Conditions",
    "pricing-subtitle": "Transparent pricing for your stay at Mas Airaga",
    "pricing-standard-title": "Standard Rate",
    "pricing-standard-period": "April 17 to July 3 & August 29 to October 3",
    "pricing-standard-rate": "‚Ç¨500 / night",
    "pricing-standard-min": "Minimum 4 nights",
    "pricing-standard-degressive": "Degressive rate",
    "pricing-standard-5nights": "5 nights: ‚Ç¨2,400",
    "pricing-standard-6nights": "6 nights: ‚Ç¨2,700",
    "pricing-standard-7nights": "7 nights: ‚Ç¨2,900",
    "pricing-standard-15nights": "15 nights: ‚Ç¨5,000",
    "pricing-high-title": "High Season",
    "pricing-high-period": "July 4 to August 28",
    "pricing-high-rate": "‚Ç¨3,900 / week",
    "pricing-high-constraint": "Check-in/out: Saturday only",
    "pricing-included": "Cleaning and linens included",
    "pricing-deposit": "Deposit: ‚Ç¨1,500",
    "pricing-tax": "Price excluding tourist tax",
    "pricing-closed": "Closed before April 17 and after October 3, 2026",
    "faq-eyebrow": "FAQ",
    "faq-title": "Practical Information",
    "faq-checkin-q": "Check-in and check-out times",
    "faq-checkin-a": "Check-in: 5pm - 11pm ¬∑ Check-out: 8am - 10am",
    "faq-pets-q": "Pets allowed?",
    "faq-pets-a": "Yes, with ‚Ç¨200 surcharge",
    "faq-smoking-q": "Smoking allowed?",
    "faq-smoking-a": "Forbidden indoors, allowed outdoors",
    "calculator-title": "Price Calculator",
    "calculator-subtitle": "Estimate the cost of your stay",
    "calculator-checkin": "Check-in date",
    "calculator-checkout": "Check-out date",
    "calculator-adults": "Adults (18 years and over)",
    "calculator-children": "Children (under 18)",
    "calculator-nights": "Number of nights",
    "calculator-guests": "Guests",
    "calculator-rate": "Accommodation rate",
    "calculator-tourism-tax": "Tourist tax",
    "calculator-total": "Total incl. tax",
    "calculator-send-email": "Send booking request",
    "calendarBlocked": "This date is not available. Please choose another one.",
    "calendarInsufficientDays": "This date cannot be selected as arrival date. Minimum 4 nights required during standard rate.",
    "calendarHighSeasonSaturday": "During high season (July 4 - August 28), arrivals and departures are only on Saturdays.",
    "calendar-title": "Availability Calendar",
    "calendar-subtitle": "Available and reserved dates",
    "legend-available": "Available",
    "legend-blocked": "Reserved",
    "legend-closed": "Closed",
    "selection-checkin": "Check-in",
    "selection-checkout": "Check-out",
    "selection-nights": "nights",
    "selection-reset": "Change dates",
    "selection-validate": "View price and book",
    "around-discover-more": "Discover more",
  },
  nl: {
    "page-title": "Mas Airaga - Charmant vakantiehuis in Eyragues",
    "nav-atouts": "Voordelen",
    "nav-photos": "Foto's",
    "nav-amenities": "Voorzieningen",
    "nav-pricing": "Tarieven",
    "nav-location": "Locatie",
    "nav-book": "Reserveren",
    "hero-eyebrow": "Villa met zwembad",
    "hero-title": "Mas Airaga ‚Äì Vakantieverhuur met Zwembad in de Provence",
    "hero-lead": "Volledig geklimatiseerde mas, vol licht, 185 m2 woonoppervlak. Geparfumeerde tuin met lavendel en olijfbomen van ca. 2000 m2 met beveiligd zwembad. ONTSPANNING GEGARANDEERD!",
    "cta-book": "Direct reserveren",
    "cta-discover": "Ontdek het huis",
    "meta-guests": "10 gasten",
    "meta-pool": "Beveiligd zwembad",
    "meta-parking": "Priv√© parking",
    "meta-ac": "Airconditioning",
    "atouts-eyebrow": "Waarom hier",
    "atouts-title": "De voordelen voor uw verblijf",
    "atouts-subtitle": "Een Proven√ßaalse mas van 185 m2 vol licht, nabij winkels en op 4 km van Saint-R√©my-de-Provence.",
    "atout1-title": "Beveiligd zwembad",
    "atout1-desc": "Tuin van 2000 m2 geparfumeerd met lavendel en olijfbomen met priv√© beveiligd zwembad voor absolute ontspanning.",
    "atout2-title": "Ruime ruimte",
    "atout2-desc": "185 m2 woonoppervlak volledig geklimatiseerd met 10 slaapplaatsen, ideaal voor gezinnen en vriendengroepen.",
    "atout3-title": "Ideale locatie",
    "atout3-desc": "Op 4 km van Saint-R√©my-de-Provence, dicht bij de Alpilles en de mooiste dorpen van de Provence.",
    "photos-eyebrow": "Virtuele rondleiding",
    "photos-title": "Ontdek elke ruimte",
    "photos-subtitle": "Een rondleiding door Mas Airaga, kamer per kamer.",
    "space-outdoor-title": "Zwembad en buitenruimte",
    "space-outdoor-desc": "Tuin van 2000 m2 met priv√© beveiligd zwembad, lavendel en olijfbomen. Perfect om buiten te ontspannen.",
    "space-living-title": "Woonkamer en leefruimtes",
    "space-living-desc": "Lichte en ruime woonkamer met TV, airconditioning en grote ramen met uitzicht op de tuin.",
    "space-kitchen-title": "Keuken en eetkamer",
    "space-kitchen-desc": "Volledig uitgeruste keuken met koffiezetapparaat, vaatwasser en grote eettafel om uw maaltijden te delen.",
    "space-bedrooms-title": "Slaapkamers (4 slaapkamers, 10 slaapplaatsen)",
    "space-bedrooms-desc": "Comfortabele slaapkamers met kwaliteitsbeddengoed.",
    "bedroom1-title": "Slaapkamer 1 (begane grond) - En-suite doucheruimte",
    "bedroom1-desc": "Queensize bed",
    "bedroom23-title": "Slaapkamers 2 & 3 (verdieping) - Aangrenzende badkamer",
    "bedroom23-desc": "Queensize bedden met eenpersoonsslaapbanken",
    "bedroom4-title": "Slaapkamer 4 (verdieping) - Master bedroom, en-suite doucheruimte",
    "bedroom4-desc": "Queensize bed met slaapbank",
    "space-bathrooms-title": "Badkamers (3 complete badkamers)",
    "space-bathrooms-desc": "Drie moderne badkamers met douche, toilet en alle nodige voorzieningen.",
    "space-extras-title": "Uitrusting en ontspanning",
    "space-extras-desc": "Tafeltennistafel, barbecue, schaduwrijk terras en al het comfort om van uw vakantie te genieten.",
    "amenities-eyebrow": "Voorzieningen",
    "amenities-title": "Wat is inbegrepen",
    "amenity1": "Volledige airconditioning & verwarming",
    "amenity2": "Priv√© beveiligd zwembad",
    "amenity3": "Tuin 2000 m2 (lavendel, olijfbomen)",
    "amenity4": "Snel Wi-Fi",
    "amenity5": "10 slaapplaatsen (4 slaapkamers)",
    "amenity6": "Volledig uitgeruste keuken",
    "amenity7": "Wasmachine en droger",
    "amenity8": "Terras met tuinmeubilair",
    "amenity9": "Priv√© parking",
    "amenity10": "Huishoudlinnen verstrekt",
    "amenity11": "Op 4 km van Saint-R√©my-de-Provence",
    "amenity12": "Dicht bij winkels en restaurants",
    "location-eyebrow": "Rondom u",
    "location-title": "Locatie",
    "location-subtitle": "Eyragues, Bouches-du-Rh√¥ne. Ideaal gelegen nabij winkels, 4 km van Saint-R√©my-de-Provence en in het hart van de Provence.",
    "access-title": "Toegangstijden",
    "access-times": "Saint-R√©my: 4 km ¬∑ Avignon: 15 min ¬∑ Avignon TGV: 20 min ¬∑ Arles: 30 min ¬∑ Luchthaven Marseille: 1u",
    "booking-eyebrow": "Reservering",
    "booking-title": "Rechtstreeks reserveren of via Airbnb",
    "booking-subtitle": "Profiteer van de beste prijs rechtstreeks. Geef uw datums op, wij reageren snel.",
    "form-name": "Voor- en achternaam",
    "form-email": "E-mail",
    "form-phone": "Telefoon",
    "form-adults": "Volwassenen",
    "form-children": "Kinderen",
    "form-checkin": "Aankomst",
    "form-checkout": "Vertrek",
    "form-message": "Bericht",
    "form-submit": "Beschikbaarheid aanvragen",
    "booking-nights": "Nachten",
    "booking-rate": "Accommodatie",
    "booking-tax": "Toeristenbelasting",
    "booking-total": "Geschat totaal",
    "badge-quick": "Snelle reactie",
    "aside-title": "Voordelig direct tarief",
    "aside-desc": "Direct contact met eigenaar. Borg en eenvoudig contract. Veilige betaling.",
    "benefits-title": "Voordelen van directe reservering",
    "benefit-1": "Geen kosten Airbnb / Abritel / Booking",
    "benefit-2": "Direct contact met de eigenaren",
    "benefit-3": "Huurcontract verstrekt",
    "benefit-4": "Speciale aanbiedingen en kortingen voor langdurig verblijf",
    "btn-email": "E-mail versturen",
    "btn-whatsapp": "WhatsApp",
    "btn-airbnb": "Bekijk op Airbnb",
    "whatsapp-float": "Hulp nodig?",
    "contact-owners": "Virginie en Flavien",
    "footer-registration": "Gemeubileerd huis gedeclareerd ‚Ä¢ Eyragues, Provence",
    "footer-contact": "Contact:",
    "footer-gallery": "Galerij",
    "footer-location": "Locatie",
    "footer-around": "In de omgeving",
    "footer-contact-page": "Contact",
    "footer-home": "Home",
    "back-home": "‚Üê Terug naar hoofdpagina",
    "contact-title": "Neem contact met ons op",
    "contact-subtitle": "Wij staan tot uw beschikking voor vragen of reserveringen.",
    "contact-email-title": "üìß Email",
    "contact-phone-title": "üìû Telefoon",
    "contact-whatsapp-title": "üí¨ WhatsApp",
    "contact-whatsapp-btn": "Open WhatsApp",
    "contact-address-title": "üìç Adres",
    "contact-address-line1": "Eyragues, Provence",
    "contact-address-line2": "4 km van Saint-R√©my-de-Provence",
    "contact-address-line3": "Tussen Alpilles en Avignon",
    "contact-book-btn": "Maak een reservering",
    "gallery-title": "Fotogalerij",
    "gallery-subtitle": "Ontdek elke ruimte van Mas Airaga in beeld",
    "gallery-pool-title": "Zwembad en Buitenruimtes",
    "gallery-living-title": "Woonkamer en Leefruimtes",
    "gallery-kitchen-title": "Keuken en Eetkamer",
    "gallery-bedrooms-title": "Slaapkamers",
    "gallery-book-btn": "Nu boeken",
    "location-title": "Locatie",
    "location-subtitle": "Mas Airaga, in het hart van de Provence, tussen Alpilles en Avignon",
    "location-address-title": "üìç Adres",
    "location-distances-title": "üöó Afstanden vanaf Mas Airaga",
    "location-map-title": "üó∫Ô∏è Kaart",
    "location-book-btn": "Nu boeken",
    "around-title": "Ontdek de Provence",
    "around-subtitle": "Must-see bezienswaardigheden, Proven√ßaalse markten en activiteiten rond Mas Airaga",
    "around-eyragues-title": "üè° Eyragues - Ons Dorp",
    "around-historical-title": "üèõÔ∏è Historische Plaatsen",
    "around-wine-title": "üç∑ Wijngaarden & Gastronomie",
    "around-nature-title": "üåø Natuur & Activiteiten",
    "around-culture-title": "üé® Cultuur & Evenementen",
    "around-book-btn": "Boek uw verblijf",
    "reviews-eyebrow": "Klantbeoordelingen",
    "reviews-title": "Wat onze gasten ervan vinden",
    "reviews-count": "44 beoordelingen",
    "review1-date": "Augustus 2025",
    "review1-text": "We hadden een geweldige tijd in het prachtige huis van Virginie en Flavien in Eyragues. Het had alles wat we nodig hadden voor twee kleine kinderen en de gastheren waren extreem responsief en behulpzaam tijdens ons verblijf. We vonden het heerlijk om op loopafstand van het dorp te zijn en slechts 10 minuten rijden van Saint-R√©my!",
    "review2-date": "Juli 2025",
    "review2-text": "We hadden een geweldig verblijf - het huis is ruim, comfortabel en goed uitgerust. Uitstekende airconditioning in elke kamer. Mooi zwembadgedeelte met een tafeltennistafel en BBQ. Gemakkelijk te wandelen naar het nabijgelegen dorp. Korte rit naar St R√©my, een klassiek Proven√ßaals stadje.",
    "review3-date": "Augustus 2025",
    "review3-text": "We verbleven hier een week met een groot gezin. De vier slaapkamers waren allemaal groot en ruim voor onze 7 gasten. De tuin was zeer indrukwekkend met een zwembad van mooie omvang. De tafeltennistafel was een leuke toevoeging. De gastheer zorgde voor een goed babyledikant voor onze pasgeborene.",
    "review4-date": "Augustus 2024",
    "review4-text": "Ons verblijf was behoorlijk idyllisch - mooi huis in een charmante buurt. Het huis was uitzonderlijk goed uitgerust en Virginie was zeer responsief. Eyragues is een beetje licht op eetgelegenheden, maar verder weg (St R√©my) was de keuze uitstekend.",
    "review5-date": "Juli 2023",
    "review5-text": "We hadden een magisch verblijf in de Provence. Het was de perfecte plek om de steden en dorpen te verkennen en alles wat deze regio te bieden heeft, terwijl we een plek hadden om terug te keren om te ontspannen en af te koelen. Het huis was perfect voor ons gezin en kinderen - mooi, schoon en Virginie was een geweldige gastvrouw.",
    "review6-date": "Augustus 2023",
    "review6-text": "Dit huis is ongelooflijk. Het overtrof onze verwachtingen qua locatie. Eyragues is een briljant dorp met alles wat je nodig hebt: bakker, winkel, bar, restaurants. Het huis is onberispelijk. Prachtige kamers en badkamers en de buitenruimtes zijn perfect.",
    "reviews-see-all": "Bekijk alle 44 beoordelingen op Airbnb",
    "pricing-eyebrow": "Tarieven",
    "pricing-title": "Tarieven & Voorwaarden",
    "pricing-subtitle": "Transparante tarieven voor uw verblijf in Mas Airaga",
    "pricing-standard-title": "Standaard tarief",
    "pricing-standard-period": "17 april tot 3 juli & 29 augustus tot 3 oktober",
    "pricing-standard-rate": "‚Ç¨500 / nacht",
    "pricing-standard-min": "Minimaal 4 nachten",
    "pricing-standard-degressive": "Degressief tarief",
    "pricing-standard-5nights": "5 nachten: ‚Ç¨2.400",
    "pricing-standard-6nights": "6 nachten: ‚Ç¨2.700",
    "pricing-standard-7nights": "7 nachten: ‚Ç¨2.900",
    "pricing-standard-15nights": "15 nachten: ‚Ç¨5.000",
    "pricing-high-title": "Hoogseizoen",
    "pricing-high-period": "4 juli tot 28 augustus",
    "pricing-high-rate": "‚Ç¨3.900 / week",
    "pricing-high-constraint": "Aankomst/vertrek: alleen zaterdag",
    "pricing-included": "Schoonmaak en huishoudlinnen inbegrepen",
    "pricing-deposit": "Borg: ‚Ç¨1.500",
    "pricing-tax": "Tarief excl. toeristenbelasting",
    "pricing-closed": "Gesloten v√≥√≥r 17 april en na 3 oktober 2026",
    "faq-eyebrow": "Veelgestelde vragen",
    "faq-title": "Praktische informatie",
    "faq-checkin-q": "Check-in en check-out tijden",
    "faq-checkin-a": "Aankomst: 17u - 23u ¬∑ Vertrek: 8u - 10u",
    "faq-pets-q": "Huisdieren toegestaan?",
    "faq-pets-a": "Ja, met toeslag van ‚Ç¨200",
    "faq-smoking-q": "Roken toegestaan?",
    "faq-smoking-a": "Verboden binnen, toegestaan buiten",
    "calculator-title": "Prijscalculator",
    "calculator-subtitle": "Schat de kosten van uw verblijf",
    "calculator-checkin": "Aankomstdatum",
    "calculator-checkout": "Vertrekdatum",
    "calculator-adults": "Volwassenen (18 jaar en ouder)",
    "calculator-children": "Kinderen (jonger dan 18)",
    "calculator-nights": "Aantal nachten",
    "calculator-guests": "Gasten",
    "calculator-rate": "Accommodatietarief",
    "calculator-tourism-tax": "Toeristenbelasting",
    "calculator-total": "Totaal incl. belasting",
    "calculator-send-email": "Reserveringsverzoek versturen",
    "calendarBlocked": "Deze datum is niet beschikbaar. Kies een andere datum.",
    "calendarInsufficientDays": "Deze datum kan niet worden geselecteerd als aankomstdatum. Minimaal 4 nachten vereist tijdens standaardtarief.",
    "calendarHighSeasonSaturday": "Tijdens het hoogseizoen (4 juli - 28 augustus) zijn aankomst en vertrek alleen op zaterdag.",
    "calendar-title": "Beschikbaarheidskalender",
    "calendar-subtitle": "Beschikbare en gereserveerde data",
    "legend-available": "Beschikbaar",
    "legend-blocked": "Gereserveerd",
    "legend-closed": "Gesloten",
    "selection-checkin": "Aankomst",
    "selection-checkout": "Vertrek",
    "selection-nights": "nachten",
    "selection-reset": "Datums wijzigen",
    "selection-validate": "Prijs bekijken en reserveren",
    "around-discover-more": "Meer ontdekken",
    "around-eyebrow": "De omgeving",
    "around-title": "Ontdek de Alpilles",
    "around-subtitle": "Natuurgebieden, bergdorpen en Proven√ßaals erfgoed om te verkennen rond Mas Airaga",
    "around-nature-title": "Natuur & Landschappen",
    "around-nature-desc": "Wandelingen in de Alpilles, lavendelvelden, eeuwenoude olijfgaarden",
    "around-villages-title": "Dorpen & Erfgoed",
    "around-villages-desc": "Les Baux-de-Provence, Saint-R√©my, Arles, Avignon en hun Proven√ßaalse markten",
    "around-culture-title": "Cultuur & Levenskunst",
    "around-culture-desc": "Wijnkelders, olijfoliemolens, antiek en lokale gastronomie",
    "around-eyragues-terre-title": "Eyragues - Terre de Provence",
    "around-eyragues-terre-desc": "Authentiek dorp in de Alpilles. Geschiedenis, erfgoed en lokaal leven",
    "around-eyragues-tourism-title": "Toeristisch Bureau",
    "around-eyragues-tourism-desc": "Offici√´le toeristische informatie en rondleidingen in Eyragues",
    "around-events-title": "Evenementenkalender",
    "around-events-desc": "Alle evenementen en vrijetijdsactiviteiten in de regio. Culturele agenda",
    "around-eyragues-distance": "Ons dorp",
    "around-events-distance": "Provence",
    "around-saintrem-title": "Saint-R√©my-de-Provence",
    "around-saintrem-desc": "Pittoresk stadje met Proven√ßaalse markt, Van Gogh-pad en authentieke charme",
    "around-saintrem-distance": "4 km",
    "around-lesbaux-title": "Les Baux-de-Provence",
    "around-lesbaux-desc": "Middeleeuws dorp op een rotsachtige uitloper met adembenemend uitzicht",
    "around-lesbaux-distance": "12 km",
    "around-alpilles-title": "Natuurpark Alpilles",
    "around-alpilles-desc": "Wandelpaden, fietsen, uitzonderlijke flora en fauna",
    "around-alpilles-distance": "In het hart",
    "around-avignon-title": "Avignon",
    "around-avignon-desc": "Pausenstad, Pausenpaleis, Brug van Avignon, zomerfestival",
    "around-avignon-distance": "25 km",
    "around-arles-title": "Arles",
    "around-arles-desc": "Romeinse arena, Van Gogh-erfgoed, poort naar de Camargue",
    "around-arles-distance": "30 km",
    "around-vineyards-title": "Wijngaarden",
    "around-vineyards-desc": "Wijndomeinen, proeverijen, Ch√¢teauneuf-du-Pape en wijnen van de Provence",
    "around-vineyards-distance": "5-20 km"
  },
  de: {
    "page-title": "Mas Airaga - Charmantes Ferienhaus in Eyragues",
    "nav-atouts": "Vorteile",
    "nav-photos": "Fotos",
    "nav-amenities": "Ausstattung",
    "nav-pricing": "Preise",
    "nav-location": "Lage",
    "nav-book": "Buchen",
    "hero-eyebrow": "Villa mit Pool",
    "hero-title": "Mas Airaga ‚Äì Ferienvermietung mit Pool in der Provence",
    "hero-lead": "Voll klimatisiertes Mas, lichtdurchflutet, 185 m2 Wohnfl√§che. Nach Lavendel und Olivenb√§umen duftender Garten von ca. 2000 m2 mit gesichertem Pool. ENTSPANNUNG GARANTIERT!",
    "cta-book": "Direkt buchen",
    "cta-discover": "Haus entdecken",
    "meta-guests": "10 G√§ste",
    "meta-pool": "Gesicherter Pool",
    "meta-parking": "Privater Parkplatz",
    "meta-ac": "Klimaanlage",
    "atouts-eyebrow": "Warum hier",
    "atouts-title": "Die Vorteile f√ºr Ihren Aufenthalt",
    "atouts-subtitle": "Ein provenzalisches Mas von 185 m2 voller Licht, in der N√§he von Gesch√§ften und 4 km von Saint-R√©my-de-Provence entfernt.",
    "atout1-title": "Gesicherter Pool",
    "atout1-desc": "Garten von 2000 m2, duftend nach Lavendel und Olivenb√§umen mit privatem gesicherten Pool f√ºr absolute Entspannung.",
    "atout2-title": "Gro√üz√ºgiger Raum",
    "atout2-desc": "185 m2 Wohnfl√§che vollst√§ndig klimatisiert mit 10 Schlafpl√§tzen, ideal f√ºr Familien und Freundesgruppen.",
    "atout3-title": "Ideale Lage",
    "atout3-desc": "4 km von Saint-R√©my-de-Provence, in der N√§he der Alpilles und der sch√∂nsten D√∂rfer der Provence.",
    "photos-eyebrow": "Virtuelle Tour",
    "photos-title": "Entdecken Sie jeden Raum",
    "photos-subtitle": "Eine F√ºhrung durch Mas Airaga, Zimmer f√ºr Zimmer.",
    "space-outdoor-title": "Pool und Au√üenbereich",
    "space-outdoor-desc": "Garten von 2000 m2 mit privatem gesicherten Pool, Lavendel und Olivenb√§umen. Perfekt zum Entspannen im Freien.",
    "space-living-title": "Wohnzimmer und Wohnbereiche",
    "space-living-desc": "Helles und ger√§umiges Wohnzimmer mit TV, Klimaanlage und gro√üen Fenstern mit Blick auf den Garten.",
    "space-kitchen-title": "K√ºche und Esszimmer",
    "space-kitchen-desc": "Voll ausgestattete K√ºche mit Kaffeemaschine, Geschirrsp√ºler und gro√üem Esstisch zum Teilen Ihrer Mahlzeiten.",
    "space-bedrooms-title": "Schlafzimmer (4 Schlafzimmer, 10 Schlafpl√§tze)",
    "space-bedrooms-desc": "Komfortable Schlafzimmer mit hochwertiger Bettw√§sche.",
    "bedroom1-title": "Schlafzimmer 1 (Erdgeschoss) - En-suite Duschbad",
    "bedroom1-desc": "Queensize-Bett",
    "bedroom23-title": "Schlafzimmer 2 & 3 (Obergeschoss) - Angrenzendes Badezimmer",
    "bedroom23-desc": "Queensize-Betten mit Einzelschlafsofas",
    "bedroom4-title": "Schlafzimmer 4 (Obergeschoss) - Master-Schlafzimmer, en-suite Duschbad",
    "bedroom4-desc": "Queensize-Bett mit Schlafsofa",
    "space-bathrooms-title": "Badezimmer (3 komplette Badezimmer)",
    "space-bathrooms-desc": "Drei moderne Badezimmer mit Dusche, WC und allen notwendigen Einrichtungen.",
    "space-extras-title": "Ausstattung und Freizeit",
    "space-extras-desc": "Tischtennisplatte, Grill, schattige Terrasse und allen Komfort, um Ihren Urlaub zu genie√üen.",
    "amenities-eyebrow": "Ausstattung",
    "amenities-title": "Was ist inbegriffen",
    "amenity1": "Komplette Klimaanlage & Heizung",
    "amenity2": "Privater gesicherter Pool",
    "amenity3": "Garten 2000 m2 (Lavendel, Olivenb√§ume)",
    "amenity4": "Schnelles WLAN",
    "amenity5": "10 Schlafpl√§tze (4 Schlafzimmer)",
    "amenity6": "Voll ausgestattete K√ºche",
    "amenity7": "Waschmaschine und Trockner",
    "amenity8": "Terrasse mit Gartenm√∂beln",
    "amenity9": "Privater Parkplatz",
    "amenity10": "Haushaltsw√§sche bereitgestellt",
    "amenity11": "4 km von Saint-R√©my-de-Provence",
    "amenity12": "In der N√§he von Gesch√§ften und Restaurants",
    "location-eyebrow": "Um Sie herum",
    "location-title": "Lage",
    "location-subtitle": "Eyragues, Bouches-du-Rh√¥ne. Ideal gelegen in der N√§he von Gesch√§ften, 4 km von Saint-R√©my-de-Provence und im Herzen der Provence.",
    "access-title": "Zugangszeiten",
    "access-times": "Saint-R√©my: 4 km ¬∑ Avignon: 15 Min ¬∑ Avignon TGV: 20 Min ¬∑ Arles: 30 Min ¬∑ Flughafen Marseille: 1 Std",
    "booking-eyebrow": "Buchung",
    "booking-title": "Direkt buchen oder √ºber Airbnb",
    "booking-subtitle": "Profitieren Sie vom besten Preis direkt. Geben Sie Ihre Daten an, wir antworten schnell.",
    "form-name": "Vor- und Nachname",
    "form-email": "E-Mail",
    "form-phone": "Telefon",
    "form-adults": "Erwachsene",
    "form-children": "Kinder",
    "form-checkin": "Ankunft",
    "form-checkout": "Abreise",
    "form-message": "Nachricht",
    "form-submit": "Verf√ºgbarkeit anfragen",
    "booking-nights": "N√§chte",
    "booking-rate": "Unterkunft",
    "booking-tax": "Kurtaxe",
    "booking-total": "Gesch√§tztes Gesamt",
    "badge-quick": "Schnelle Antwort",
    "aside-title": "Vorteilhafter Direktpreis",
    "aside-desc": "Direkter Kontakt mit dem Eigent√ºmer. Kaution und einfacher Vertrag. Sichere Zahlung.",
    "benefits-title": "Vorteile der Direktbuchung",
    "benefit-1": "Keine Geb√ºhren Airbnb / Abritel / Booking",
    "benefit-2": "Direkter Kontakt mit den Eigent√ºmern",
    "benefit-3": "Mietvertrag bereitgestellt",
    "benefit-4": "Sonderangebote und Erm√§√üigungen f√ºr Langzeitaufenthalte",
    "btn-email": "E-Mail senden",
    "btn-whatsapp": "WhatsApp",
    "btn-airbnb": "Auf Airbnb ansehen",
    "whatsapp-float": "Brauchen Sie Hilfe?",
    "contact-owners": "Virginie und Flavien",
    "footer-registration": "M√∂bliertes Haus deklariert ‚Ä¢ Eyragues, Provence",
    "footer-contact": "Kontakt:",
    "footer-gallery": "Galerie",
    "footer-location": "Lage",
    "footer-around": "In der Umgebung",
    "footer-contact-page": "Kontakt",
    "footer-home": "Startseite",
    "back-home": "‚Üê Zur√ºck zur Hauptseite",
    "contact-title": "Kontaktieren Sie uns",
    "contact-subtitle": "Wir stehen Ihnen f√ºr Fragen oder Reservierungen zur Verf√ºgung.",
    "contact-email-title": "üìß E-Mail",
    "contact-phone-title": "üìû Telefon",
    "contact-whatsapp-title": "üí¨ WhatsApp",
    "contact-whatsapp-btn": "WhatsApp √∂ffnen",
    "contact-address-title": "üìç Adresse",
    "contact-address-line1": "Eyragues, Provence",
    "contact-address-line2": "4 km von Saint-R√©my-de-Provence",
    "contact-address-line3": "Zwischen Alpilles und Avignon",
    "contact-book-btn": "Reservierung vornehmen",
    "gallery-title": "Fotogalerie",
    "gallery-subtitle": "Entdecken Sie jeden Raum von Mas Airaga in Bildern",
    "gallery-pool-title": "Pool und Au√üenbereiche",
    "gallery-living-title": "Wohnzimmer und Wohnbereiche",
    "gallery-kitchen-title": "K√ºche und Esszimmer",
    "gallery-bedrooms-title": "Schlafzimmer",
    "gallery-book-btn": "Jetzt buchen",
    "location-title": "Lage",
    "location-subtitle": "Mas Airaga, im Herzen der Provence, zwischen Alpilles und Avignon",
    "location-address-title": "üìç Adresse",
    "location-distances-title": "üöó Entfernungen von Mas Airaga",
    "location-map-title": "üó∫Ô∏è Karte",
    "location-book-btn": "Jetzt buchen",
    "around-title": "Entdecken Sie die Provence",
    "around-subtitle": "Sehensw√ºrdigkeiten, provenzalische M√§rkte und Aktivit√§ten rund um Mas Airaga",
    "around-eyragues-title": "üè° Eyragues - Unser Dorf",
    "around-historical-title": "üèõÔ∏è Historische St√§tten",
    "around-wine-title": "üç∑ Weinberge & Gastronomie",
    "around-nature-title": "üåø Natur & Aktivit√§ten",
    "around-culture-title": "üé® Kultur & Veranstaltungen",
    "around-book-btn": "Buchen Sie Ihren Aufenthalt",
    "reviews-eyebrow": "Kundenbewertungen",
    "reviews-title": "Was unsere G√§ste denken",
    "reviews-count": "44 Bewertungen",
    "review1-date": "August 2025",
    "review1-text": "Wir hatten eine gro√üartige Zeit in Virginie und Flaviens sch√∂nem Haus in Eyragues. Es hatte alles, was wir f√ºr zwei kleine Kinder brauchten, und die Gastgeber waren w√§hrend unseres Aufenthalts √§u√üerst reaktionsschnell und zuvorkommend. Wir liebten es, zu Fu√ü vom Dorf entfernt zu sein und nur 10 Minuten Fahrt von Saint-R√©my!",
    "review2-date": "Juli 2025",
    "review2-text": "Wir hatten einen ausgezeichneten Aufenthalt - das Haus ist ger√§umig, komfortabel und gut ausgestattet. Ausgezeichnete Klimaanlage in jedem Zimmer. Sch√∂ner Poolbereich mit Tischtennisplatte und Grill. Einfach zu Fu√ü zum nahe gelegenen Dorf. Kurze Fahrt nach St R√©my, einer klassischen provenzalischen Stadt.",
    "review3-date": "August 2025",
    "review3-text": "Wir verbrachten hier eine Woche mit einer gro√üen Familie. Die vier Schlafzimmer waren alle gro√ü und ger√§umig f√ºr unsere 7 G√§ste. Der Garten war sehr beeindruckend mit einem sch√∂n gro√üen Pool. Die Tischtennisplatte war eine sch√∂ne Erg√§nzung. Der Gastgeber stellte ein gutes Babybett f√ºr unser Neugeborenes zur Verf√ºgung.",
    "review4-date": "August 2024",
    "review4-text": "Unser Aufenthalt war ziemlich idyllisch - sch√∂nes Haus in einer charmanten Gegend. Das Haus war au√üergew√∂hnlich gut ausgestattet und Virginie war sehr reaktionsschnell. Eyragues ist etwas d√ºnn besetzt mit Restaurants, aber weiter entfernt (St R√©my) war die Auswahl ausgezeichnet.",
    "review5-date": "Juli 2023",
    "review5-text": "Wir hatten einen magischen Aufenthalt in der Provence. Es war der perfekte Ort, um die St√§dte und D√∂rfer und alles, was diese Region zu bieten hat, zu erkunden, w√§hrend wir einen Ort hatten, um zur√ºckzukehren, um zu entspannen und abzuk√ºhlen. Das Haus war perfekt f√ºr unsere Familie und Kinder - sch√∂n, sauber und Virginie war eine wunderbare Gastgeberin.",
    "review6-date": "August 2023",
    "review6-text": "Dieses Haus ist unglaublich. Es √ºbertraf unsere Erwartungen in Bezug auf die Lage. Eyragues ist ein brillantes Dorf mit allem, was Sie brauchen: B√§ckerei, Laden, Bar, Restaurants. Das Haus ist tadellos. Sch√∂ne Zimmer und Badezimmer und die Au√üenbereiche sind perfekt.",
    "reviews-see-all": "Alle 44 Bewertungen auf Airbnb ansehen",
    "pricing-eyebrow": "Preise",
    "pricing-title": "Preise & Bedingungen",
    "pricing-subtitle": "Transparente Preise f√ºr Ihren Aufenthalt im Mas Airaga",
    "pricing-standard-title": "Standardpreis",
    "pricing-standard-period": "17. April bis 3. Juli & 29. August bis 3. Oktober",
    "pricing-standard-rate": "‚Ç¨500 / Nacht",
    "pricing-standard-min": "Mindestens 4 N√§chte",
    "pricing-standard-degressive": "Degressiver Preis",
    "pricing-standard-5nights": "5 N√§chte: ‚Ç¨2.400",
    "pricing-standard-6nights": "6 N√§chte: ‚Ç¨2.700",
    "pricing-standard-7nights": "7 N√§chte: ‚Ç¨2.900",
    "pricing-standard-15nights": "15 N√§chte: ‚Ç¨5.000",
    "pricing-high-title": "Hochsaison",
    "pricing-high-period": "4. Juli bis 28. August",
    "pricing-high-rate": "‚Ç¨3.900 / Woche",
    "pricing-high-constraint": "Ankunft/Abreise: nur Samstag",
    "pricing-included": "Reinigung und Haushaltsw√§sche inbegriffen",
    "pricing-deposit": "Kaution: ‚Ç¨1.500",
    "pricing-tax": "Preis ohne Kurtaxe",
    "pricing-closed": "Geschlossen vor dem 17. April und nach dem 3. Oktober 2026",
    "faq-eyebrow": "H√§ufig gestellte Fragen",
    "faq-title": "Praktische Informationen",
    "faq-checkin-q": "Check-in und Check-out Zeiten",
    "faq-checkin-a": "Ankunft: 17-23 Uhr ¬∑ Abreise: 8-10 Uhr",
    "faq-pets-q": "Haustiere erlaubt?",
    "faq-pets-a": "Ja, mit Zuschlag von ‚Ç¨200",
    "faq-smoking-q": "Rauchen erlaubt?",
    "faq-smoking-a": "Verboten drinnen, erlaubt drau√üen",
    "calculator-title": "Preisrechner",
    "calculator-subtitle": "Sch√§tzen Sie die Kosten Ihres Aufenthalts",
    "calculator-checkin": "Ankunftsdatum",
    "calculator-checkout": "Abreisedatum",
    "calculator-adults": "Erwachsene (18 Jahre und √§lter)",
    "calculator-children": "Kinder (unter 18 Jahren)",
    "calculator-nights": "Anzahl der N√§chte",
    "calculator-guests": "G√§ste",
    "calculator-rate": "Unterkunftspreis",
    "calculator-tourism-tax": "Kurtaxe",
    "calculator-total": "Gesamt inkl. Steuer",
    "calculator-send-email": "Buchungsanfrage senden",
    "calendarBlocked": "Dieses Datum ist nicht verf√ºgbar. Bitte w√§hlen Sie ein anderes.",
    "calendarInsufficientDays": "Dieses Datum kann nicht als Ankunftsdatum ausgew√§hlt werden. Mindestens 4 N√§chte erforderlich w√§hrend des Standardtarifs.",
    "calendarHighSeasonSaturday": "In der Hochsaison (4. Juli - 28. August) sind An- und Abreise nur samstags m√∂glich.",
    "calendar-title": "Verf√ºgbarkeitskalender",
    "calendar-subtitle": "Verf√ºgbare und reservierte Termine",
    "legend-available": "Verf√ºgbar",
    "legend-blocked": "Reserviert",
    "legend-closed": "Geschlossen",
    "selection-checkin": "Anreise",
    "selection-checkout": "Abreise",
    "selection-nights": "N√§chte",
    "selection-reset": "Daten √§ndern",
    "selection-validate": "Preis ansehen und buchen",
    "around-discover-more": "Mehr entdecken",
    "around-eyebrow": "Die Umgebung",
    "around-title": "Entdecken Sie die Alpilles",
    "around-subtitle": "Naturgebiete, Bergd√∂rfer und provenzalisches Erbe rund um Mas Airaga",
    "around-nature-title": "Natur & Landschaften",
    "around-nature-desc": "Wanderungen in den Alpilles, Lavendelfelder, jahrhundertealte Olivenhaine",
    "around-villages-title": "D√∂rfer & Erbe",
    "around-villages-desc": "Les Baux-de-Provence, Saint-R√©my, Arles, Avignon und ihre provenzalischen M√§rkte",
    "around-culture-title": "Kultur & Lebenskunst",
    "around-culture-desc": "Weinkeller, √ñlm√ºhlen, Antiquit√§ten und lokale Gastronomie",
    "around-eyragues-terre-title": "Eyragues - Terre de Provence",
    "around-eyragues-terre-desc": "Authentisches Dorf in den Alpilles. Geschichte, Erbe und lokales Leben",
    "around-eyragues-tourism-title": "Tourismusb√ºro",
    "around-eyragues-tourism-desc": "Offizielle Touristeninformationen und F√ºhrungen durch Eyragues",
    "around-events-title": "Veranstaltungskalender",
    "around-events-desc": "Alle Veranstaltungen und Freizeitaktivit√§ten der Region. Kultureller Terminkalender",
    "around-eyragues-distance": "Unser Dorf",
    "around-events-distance": "Provence",
    "around-saintrem-title": "Saint-R√©my-de-Provence",
    "around-saintrem-desc": "Malerische Stadt mit provenzalischem Markt, Van-Gogh-Pfad und authentischem Charme",
    "around-saintrem-distance": "4 km",
    "around-lesbaux-title": "Les Baux-de-Provence",
    "around-lesbaux-desc": "Mittelalterliches Dorf auf einem Felsvorsprung mit atemberaubender Aussicht",
    "around-lesbaux-distance": "12 km",
    "around-alpilles-title": "Naturpark Alpilles",
    "around-alpilles-desc": "Wanderwege, Radfahren, au√üergew√∂hnliche Flora und Fauna",
    "around-alpilles-distance": "Im Herzen",
    "around-avignon-title": "Avignon",
    "around-avignon-desc": "Papststadt, Papstpalast, Br√ºcke von Avignon, Sommerfestival",
    "around-avignon-distance": "25 km",
    "around-arles-title": "Arles",
    "around-arles-desc": "R√∂mische Arena, Van-Gogh-Erbe, Tor zur Camargue",
    "around-arles-distance": "30 km",
    "around-vineyards-title": "Weinberge",
    "around-vineyards-desc": "Weing√ºter, Verkostungen, Ch√¢teauneuf-du-Pape und Weine der Provence",
    "around-vineyards-distance": "5-20 km"
  }
};

// Language switcher
let currentLang = 'fr';

function setLanguage(lang) {
  currentLang = lang;
  document.documentElement.lang = lang;

  // Update all elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });

  // Update active button
  document.querySelectorAll('.nav-lang-btn').forEach(btn => {
    btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
  });

  // Save preference
  localStorage.setItem('preferred-language', lang);
}

// Initialize language system on DOM ready
document.addEventListener('DOMContentLoaded', function() {
  // Language button listeners
  document.querySelectorAll('.nav-lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      setLanguage(btn.getAttribute('data-lang'));
    });
  });

  // Load saved language preference or detect browser language
  const savedLang = localStorage.getItem('preferred-language');
  let browserLang = 'en'; // default to English
  if (navigator.language.startsWith('fr')) {
    browserLang = 'fr';
  } else if (navigator.language.startsWith('nl')) {
    browserLang = 'nl';
  } else if (navigator.language.startsWith('de')) {
    browserLang = 'de';
  }
  const initialLang = savedLang || browserLang;
  setLanguage(initialLang);
});

// Booking form with intelligent calendar and automatic price calculation
const bookingForm = document.getElementById("bookingForm");
const bookingCheckinInput = document.getElementById("booking-checkin");
const bookingCheckoutInput = document.getElementById("booking-checkout");
const bookingAdultsInput = document.getElementById("booking-adults");
const bookingChildrenInput = document.getElementById("booking-children");
const bookingPriceSummary = document.getElementById("booking-price-summary");
const bookingNightsValue = document.getElementById("booking-nights-value");
const bookingRateValue = document.getElementById("booking-rate-value");
const bookingTaxValue = document.getElementById("booking-tax-value");
const bookingTotalValue = document.getElementById("booking-total-value");
const bookingErrorsDiv = document.getElementById("booking-errors");

let bookingCalculatedData = null;

// Set default value to first available date (April 17, 2026)
if (bookingCheckinInput) {
  bookingCheckinInput.value = '2026-04-17';
}

// Helper function to get next Saturday
function getNextSaturday(date) {
  const result = new Date(date);
  result.setDate(result.getDate() + ((6 - result.getDay() + 7) % 7));
  return result;
}

// Helper function to format date as YYYY-MM-DD
function formatDateInput(date) {
  return date.toISOString().split('T')[0];
}

// Calculate tourist tax according to Terre de Provence regulations
// For non-classified lodgings: 5% proportional rate, capped at 3.18‚Ç¨, + 10% departmental + 34% regional
function calculateTouristTax(totalAccommodationPrice, nights, adults, children) {
  // Configuration constants (Terre de Provence Agglom√©ration)
  // Source: https://terredeprovence.taxesejour.fr/
  const PROPORTIONAL_RATE = 0.05; // 5%
  const CAP_PER_PERSON_PER_NIGHT = 3.18; // ‚Ç¨
  const DEPARTMENTAL_TAX_RATE = 0.10; // 10% (Bouches-du-Rh√¥ne)
  const REGIONAL_TAX_RATE = 0.34; // 34% (Ligne Nouvelle Provence C√¥te d'Azur, since 01/01/2023)
  
  // Safety check: avoid division by zero
  if (nights <= 0 || adults <= 0) {
    return {
      baseTaxPerPersonPerNight: 0,
      departmentalTaxPerPersonPerNight: 0,
      regionalTaxPerPersonPerNight: 0,
      totalTaxPerPersonPerNight: 0,
      totalTouristTax: 0
    };
  }
  
  const totalGuests = adults + children;
  
  // Safety check: avoid division by zero
  if (totalGuests <= 0) {
    return {
      baseTaxPerPersonPerNight: 0,
      departmentalTaxPerPersonPerNight: 0,
      regionalTaxPerPersonPerNight: 0,
      totalTaxPerPersonPerNight: 0,
      totalTouristTax: 0
    };
  }
  
  // Calculate nightly price (HT - excluding tax)
  const nightlyPriceHT = totalAccommodationPrice / nights;
  
  // Calculate price per person per night
  const pricePerPersonPerNight = nightlyPriceHT / totalGuests;
  
  // Calculate base tax: 5% of price per person per night
  let baseTaxPerPersonPerNight = pricePerPersonPerNight * PROPORTIONAL_RATE;
  
  // Apply cap: maximum 3.18‚Ç¨ per person per night (before additional taxes)
  baseTaxPerPersonPerNight = Math.min(baseTaxPerPersonPerNight, CAP_PER_PERSON_PER_NIGHT);
  
  // Round base tax to 2 decimals (as per official calculation method)
  baseTaxPerPersonPerNight = Math.round(baseTaxPerPersonPerNight * 100) / 100;
  
  // Calculate additional taxes (rounded to 2 decimals)
  const departmentalTaxPerPersonPerNight = Math.round(baseTaxPerPersonPerNight * DEPARTMENTAL_TAX_RATE * 100) / 100;
  const regionalTaxPerPersonPerNight = Math.round(baseTaxPerPersonPerNight * REGIONAL_TAX_RATE * 100) / 100;
  
  // Total tax per person per night
  const totalTaxPerPersonPerNight = baseTaxPerPersonPerNight + departmentalTaxPerPersonPerNight + regionalTaxPerPersonPerNight;
  
  // Calculate total tourist tax: only for adults (18+), for all nights
  const totalTouristTax = totalTaxPerPersonPerNight * adults * nights;
  
  return {
    baseTaxPerPersonPerNight,
    departmentalTaxPerPersonPerNight,
    regionalTaxPerPersonPerNight,
    totalTaxPerPersonPerNight,
    totalTouristTax
  };
}

// Helper function to get all Saturdays in high season
function getHighSeasonSaturdays() {
  const saturdays = [];
  const start = new Date('2026-07-04');
  const end = new Date('2026-08-29');

  let current = getNextSaturday(new Date('2026-07-03'));
  while (current <= end) {
    saturdays.push(formatDateInput(current));
    current.setDate(current.getDate() + 7);
  }

  return saturdays;
}

// Calculate booking price
function calculateBookingPrice() {
  if (!bookingCheckinInput.value || !bookingCheckoutInput.value) {
    bookingPriceSummary.style.display = 'none';
    bookingCalculatedData = null;
    return;
  }

  const checkin = new Date(bookingCheckinInput.value);
  const checkout = new Date(bookingCheckoutInput.value);
  const adults = parseInt(bookingAdultsInput.value) || 0;
  const children = parseInt(bookingChildrenInput.value) || 0;
  const totalGuests = adults + children;
  const errors = [];

  const nights = Math.round((checkout - checkin) / (1000 * 60 * 60 * 24));

  if (nights <= 0) {
    bookingPriceSummary.style.display = 'none';
    bookingCalculatedData = null;
    return;
  }

  if (totalGuests > 10) {
    errors.push(currentLang === 'fr'
      ? 'Maximum 10 voyageurs.'
      : 'Maximum 10 guests.');
  }

  const seasonStart = new Date('2026-04-17');
  const highSeasonStart = new Date('2026-07-04');
  const highSeasonEnd = new Date('2026-08-28');
  const standardSeasonEnd = new Date('2026-10-03');

  if (checkin < seasonStart || checkout > standardSeasonEnd) {
    errors.push(currentLang === 'fr'
      ? 'Ferm√© avant le 17 avril et apr√®s le 3 octobre 2026.'
      : 'Closed before April 17 and after October 3, 2026.');
  }

  const isHighSeason = checkin >= highSeasonStart && checkout <= highSeasonEnd;
  const isMixedSeason = checkin < highSeasonStart && checkout > highSeasonStart;

  let price = 0;

  if (isHighSeason) {
    // Fully in high season
    const checkinDay = checkin.getDay();
    const checkoutDay = checkout.getDay();

    if (checkinDay !== 6 || checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les arriv√©es et d√©parts doivent √™tre le samedi.'
        : 'During high season, check-in and check-out must be on Saturday.');
    }

    if (nights % 7 !== 0) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les s√©jours doivent √™tre par semaine compl√®te (7, 14, 21 nuits...).'
        : 'During high season, stays must be full weeks (7, 14, 21 nights...).');
    }

    const weeks = Math.floor(nights / 7);
    price = weeks * 3900;

  } else if (isMixedSeason) {
    // Mixed season: starts in standard, extends into high season
    const checkoutDay = checkout.getDay();

    // Check if checkout is in July/August (high season period)
    const isCheckoutInHighSeason = checkout >= highSeasonStart && checkout <= highSeasonEnd;

    if (isCheckoutInHighSeason && checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'D√©part en juillet/ao√ªt uniquement possible le samedi.'
        : 'Check-out in July/August only allowed on Saturday.');
    }

    // Calculate split pricing
    // Standard season nights: from checkin to July 4
    const standardNights = Math.round((highSeasonStart - checkin) / (1000 * 60 * 60 * 24));

    // High season nights: from July 4 to checkout
    const highSeasonNights = Math.round((checkout - highSeasonStart) / (1000 * 60 * 60 * 24));

    // Calculate standard season portion
    let standardPrice = 0;
    if (standardNights >= 15) {
      standardPrice = 5000 + ((standardNights - 15) * 333);
    } else if (standardNights === 7) {
      standardPrice = 2900;
    } else if (standardNights === 6) {
      standardPrice = 2700;
    } else if (standardNights === 5) {
      standardPrice = 2400;
    } else {
      standardPrice = standardNights * 500;
    }

    // Calculate high season portion (7-day blocks at 3900‚Ç¨/week)
    const highSeasonWeeks = Math.floor(highSeasonNights / 7);
    const highSeasonPrice = highSeasonWeeks * 3900;

    // Remaining nights in high season (less than a week) - not allowed if checkout is in high season
    const remainingHighSeasonNights = highSeasonNights % 7;
    if (remainingHighSeasonNights > 0 && isCheckoutInHighSeason) {
      errors.push(currentLang === 'fr'
        ? 'En juillet/ao√ªt, les s√©jours doivent √™tre par semaine compl√®te (7 jours).'
        : 'In July/August, stays must be full weeks (7 days).');
    }

    price = standardPrice + highSeasonPrice;

  } else {
    // Fully in standard season
    if (nights < 4) {
      errors.push(currentLang === 'fr'
        ? 'Minimum 4 nuits en p√©riode normale.'
        : 'Minimum 4 nights during standard period.');
    }

    if (nights >= 15) {
      price = 5000 + ((nights - 15) * 333);
    } else if (nights === 7) {
      price = 2900;
    } else if (nights === 6) {
      price = 2700;
    } else if (nights === 5) {
      price = 2400;
    } else {
      price = nights * 500;
    }
  }

  // Calculate tourist tax (Terre de Provence - meubl√© non class√©)
  // Proportional rate: 5% of nightly price per person, capped at 3.18‚Ç¨, + 10% departmental + 34% regional
  const taxCalculation = calculateTouristTax(price, nights, adults, children);
  const touristTax = taxCalculation.totalTouristTax;
  const totalPrice = price + touristTax;

  bookingCalculatedData = {
    checkin: bookingCheckinInput.value,
    checkout: bookingCheckoutInput.value,
    nights,
    adults,
    children,
    price,
    touristTax,
    totalPrice
  };

  bookingNightsValue.textContent = nights;
  bookingRateValue.textContent = `${price.toLocaleString('fr-FR')}‚Ç¨`;
  bookingTaxValue.textContent = `${touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨`;
  bookingTotalValue.textContent = `${totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨`;

  if (errors.length > 0) {
    bookingErrorsDiv.innerHTML = errors.join('<br>');
  } else {
    bookingErrorsDiv.textContent = '';
  }

  bookingPriceSummary.style.display = 'block';
}

// Flag to prevent auto-setting checkout when dates are set from calendar
let isSettingFromCalendar = false;

// Intelligent calendar constraints
if (bookingCheckinInput) {
  bookingCheckinInput.addEventListener('change', () => {
    const checkinDate = new Date(bookingCheckinInput.value);
    const highSeasonStart = new Date('2026-07-04');
    const highSeasonEnd = new Date('2026-08-28');

    // Check if in high season
    const isHighSeason = checkinDate >= highSeasonStart && checkinDate <= highSeasonEnd;

    if (isHighSeason) {
      // High season: only Saturdays
      const checkinDay = checkinDate.getDay();
      if (checkinDay !== 6) {
        // Find next Saturday
        const nextSat = getNextSaturday(checkinDate);
        bookingCheckinInput.value = formatDateInput(nextSat);
      }

      // Only auto-set checkout if not being set from calendar
      if (!isSettingFromCalendar) {
        // Set checkout to 7 days later (next Saturday)
        const checkoutDate = new Date(bookingCheckinInput.value);
        checkoutDate.setDate(checkoutDate.getDate() + 7);
        bookingCheckoutInput.value = formatDateInput(checkoutDate);
      }

      const checkoutDate = new Date(bookingCheckinInput.value);
      checkoutDate.setDate(checkoutDate.getDate() + 7);
      bookingCheckoutInput.min = formatDateInput(checkoutDate);

    } else {
      // Standard season: minimum 4 nights
      const minCheckout = new Date(checkinDate);
      minCheckout.setDate(minCheckout.getDate() + 4);
      bookingCheckoutInput.min = formatDateInput(minCheckout);

      // Only auto-set checkout if not being set from calendar
      if (!isSettingFromCalendar) {
        bookingCheckoutInput.value = formatDateInput(minCheckout);
      }
    }

    calculateBookingPrice();
  });
}

if (bookingCheckoutInput) {
  bookingCheckoutInput.addEventListener('change', () => {
    const checkinDate = new Date(bookingCheckinInput.value);
    const checkoutDate = new Date(bookingCheckoutInput.value);
    const highSeasonStart = new Date('2026-07-04');
    const highSeasonEnd = new Date('2026-08-28');

    // Check if checkout is in high season but checkin is not (mixed season)
    const isMixedSeason = checkinDate < highSeasonStart && checkoutDate > highSeasonStart;
    const isCheckoutInHighSeason = checkoutDate >= highSeasonStart && checkoutDate <= highSeasonEnd;

    if (isMixedSeason && isCheckoutInHighSeason) {
      // If checkout is in July/August, it must be a Saturday
      const checkoutDay = checkoutDate.getDay();
      if (checkoutDay !== 6) {
        // Find next Saturday
        const nextSat = getNextSaturday(checkoutDate);
        bookingCheckoutInput.value = formatDateInput(nextSat);
      }
    }

    calculateBookingPrice();
  });
}

if (bookingAdultsInput) {
  bookingAdultsInput.addEventListener('change', () => {
    const adults = parseInt(bookingAdultsInput.value) || 0;
    const children = parseInt(bookingChildrenInput.value) || 0;
    if (adults + children > 10) {
      bookingAdultsInput.value = 10 - children;
    }
    calculateBookingPrice();
  });
}

if (bookingChildrenInput) {
  bookingChildrenInput.addEventListener('change', () => {
    const adults = parseInt(bookingAdultsInput.value) || 0;
    const children = parseInt(bookingChildrenInput.value) || 0;
    if (adults + children > 10) {
      bookingChildrenInput.value = 10 - adults;
    }
    calculateBookingPrice();
  });
}

// Initial calculation (only if booking form exists)
if (bookingCheckinInput) {
  calculateBookingPrice();
}

if (bookingForm) {
  bookingForm.addEventListener("submit", (event) => {
    event.preventDefault();

    if (!bookingCalculatedData) {
      const messages = {
        fr: 'Veuillez s√©lectionner des dates valides.',
        en: 'Please select valid dates.',
        nl: 'Selecteer geldige datums.',
        de: 'Bitte w√§hlen Sie g√ºltige Daten.'
      };
      alert(messages[currentLang] || messages.fr);
      return;
    }

    const formData = new FormData(bookingForm);
    const name = formData.get("name");
    const email = formData.get("email");
    const phone = formData.get("phone") || "";
    const message = formData.get("message") || "";

    const contactEmail = "mas.airaga.contact@gmail.com";
    const subject = encodeURIComponent(
      currentLang === 'fr'
        ? "Demande de r√©servation - Mas Airaga"
        : "Booking request - Mas Airaga"
    );

    const phoneText = phone ? `\n${currentLang === 'fr' ? 'T√©l√©phone' : 'Phone'} : ${phone}` : '';

    const body = encodeURIComponent(
      currentLang === 'fr'
        ? `Bonjour,\n\nJe souhaite r√©server le Mas Airaga avec les informations suivantes :\n\nNom : ${name}\nEmail : ${email}${phoneText}\n\nArriv√©e : ${bookingCalculatedData.checkin}\nD√©part : ${bookingCalculatedData.checkout}\nNombre de nuits : ${bookingCalculatedData.nights}\n\nVoyageurs :\n- Adultes : ${bookingCalculatedData.adults}\n- Enfants : ${bookingCalculatedData.children}\n\nEstimation du prix :\n- Tarif h√©bergement : ${bookingCalculatedData.price.toLocaleString('fr-FR')}‚Ç¨\n- Taxe de s√©jour : ${bookingCalculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨\n- Total TTC : ${bookingCalculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨\n\nMessage : ${message}\n\nCordialement`
        : `Hello,\n\nI would like to book Mas Airaga with the following information:\n\nName: ${name}\nEmail: ${email}${phoneText}\n\nCheck-in: ${bookingCalculatedData.checkin}\nCheck-out: ${bookingCalculatedData.checkout}\nNumber of nights: ${bookingCalculatedData.nights}\n\nGuests:\n- Adults: ${bookingCalculatedData.adults}\n- Children: ${bookingCalculatedData.children}\n\nPrice estimate:\n- Accommodation rate: ‚Ç¨${bookingCalculatedData.price.toLocaleString('fr-FR')}\n- Tourist tax: ‚Ç¨${bookingCalculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n- Total incl. tax: ‚Ç¨${bookingCalculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n\nMessage: ${message}\n\nBest regards`
    );

    window.location.href = `mailto:${contactEmail}?subject=${subject}&body=${body}`;
  });
}

// Hero slider
const slides = document.querySelectorAll('.hero__slide');
let currentSlide = 0;

function nextSlide() {
  slides[currentSlide].classList.remove('active');
  currentSlide = (currentSlide + 1) % slides.length;
  slides[currentSlide].classList.add('active');
}

if (slides.length > 0) {
  setInterval(nextSlide, 5000); // Change slide every 5 seconds
}

// Scroll arrow
const scrollArrow = document.querySelector('.hero__scroll-arrow');
if (scrollArrow) {
  scrollArrow.addEventListener('click', () => {
    const firstSection = document.querySelector('#atouts');
    if (firstSection) {
      firstSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  });
}

// Sticky header shrink on scroll
const nav = document.querySelector('.nav');
let lastScroll = 0;

window.addEventListener('scroll', () => {
  const currentScroll = window.pageYOffset;

  if (currentScroll > 100) {
    nav.classList.add('scrolled');
  } else {
    nav.classList.remove('scrolled');
  }

  lastScroll = currentScroll;
});

// Scroll animations (fade-in, slide-up)
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      observer.unobserve(entry.target); // Only animate once
    }
  });
}, observerOptions);

// Observe all sections
document.querySelectorAll('.section').forEach(section => {
  section.classList.add('fade-in');
  observer.observe(section);
});

// Observe cards with slide-up animation
document.querySelectorAll('.atout-card, .pricing-card, .faq-item, .around-category, .around-card, .review-card').forEach((card, index) => {
  card.classList.add('slide-up');

  // Add stagger effect for cards in the same container
  const staggerClass = `stagger-${(index % 4) + 1}`;
  card.classList.add(staggerClass);

  observer.observe(card);
});

// Price Calculator
const checkinInput = document.getElementById('calc-checkin');
const checkoutInput = document.getElementById('calc-checkout');
const adultsInput = document.getElementById('calc-adults');
const childrenInput = document.getElementById('calc-children');
const resultDiv = document.getElementById('calculator-result');
const nightsSpan = document.getElementById('calc-nights');
const guestsSpan = document.getElementById('calc-guests');
const rateSpan = document.getElementById('calc-rate');
const taxSpan = document.getElementById('calc-tax');
const totalSpan = document.getElementById('calc-total');
const errorsDiv = document.getElementById('calc-errors');
const sendEmailBtn = document.getElementById('calc-send-email');
const sendWhatsAppBtn = document.getElementById('calc-send-whatsapp');

let calculatedData = null;

function calculatePrice() {
  if (!checkinInput.value || !checkoutInput.value) {
    resultDiv.style.display = 'none';
    if (sendEmailBtn) sendEmailBtn.style.display = 'none';
    if (sendWhatsAppBtn) sendWhatsAppBtn.style.display = 'none';
    return;
  }

  const checkin = new Date(checkinInput.value);
  const checkout = new Date(checkoutInput.value);
  const adults = parseInt(adultsInput.value) || 0;
  const children = parseInt(childrenInput.value) || 0;
  const totalGuests = adults + children;
  const errors = [];

  // Calculate number of nights
  const nights = Math.round((checkout - checkin) / (1000 * 60 * 60 * 24));

  if (nights <= 0) {
    errorsDiv.textContent = currentLang === 'fr'
      ? 'La date de d√©part doit √™tre apr√®s la date d\'arriv√©e.'
      : 'Check-out date must be after check-in date.';
    resultDiv.style.display = 'block';
    nightsSpan.textContent = '-';
    guestsSpan.textContent = '-';
    rateSpan.textContent = '-';
    taxSpan.textContent = '-';
    totalSpan.textContent = '-';
    if (sendEmailBtn) sendEmailBtn.style.display = 'none';
    if (sendWhatsAppBtn) sendWhatsAppBtn.style.display = 'none';
    return;
  }

  if (totalGuests > 10) {
    errors.push(currentLang === 'fr'
      ? 'Maximum 10 voyageurs.'
      : 'Maximum 10 guests.');
  }

  // Define season dates for 2026
  const seasonStart = new Date('2026-04-17');
  const highSeasonStart = new Date('2026-07-04');
  const highSeasonEnd = new Date('2026-08-28');
  const standardSeasonEnd = new Date('2026-10-03');

  // Check if dates are within valid season
  if (checkin < seasonStart || checkout > standardSeasonEnd) {
    errorsDiv.textContent = currentLang === 'fr'
      ? 'Ferm√© avant le 17 avril et apr√®s le 3 octobre 2026.'
      : 'Closed before April 17 and after October 3, 2026.';
    resultDiv.style.display = 'block';
    nightsSpan.textContent = nights;
    guestsSpan.textContent = `${adults} adulte(s), ${children} enfant(s)`;
    rateSpan.textContent = '-';
    taxSpan.textContent = '-';
    totalSpan.textContent = '-';
    if (sendEmailBtn) sendEmailBtn.style.display = 'none';
    if (sendWhatsAppBtn) sendWhatsAppBtn.style.display = 'none';
    return;
  }

  // Check if stay is entirely in high season
  const isHighSeason = checkin >= highSeasonStart && checkout <= highSeasonEnd;
  const isMixedSeason = checkin < highSeasonStart && checkout > highSeasonStart;

  let price = 0;
  let rateDescription = '';

  if (isHighSeason) {
    // Fully in high season: ‚Ç¨3900/week, Saturday to Saturday only, multiple weeks allowed
    const checkinDay = checkin.getDay();
    const checkoutDay = checkout.getDay();

    if (checkinDay !== 6 || checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les arriv√©es et d√©parts doivent √™tre le samedi.'
        : 'During high season, check-in and check-out must be on Saturday.');
    }

    if (nights % 7 !== 0) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les s√©jours doivent √™tre par semaine compl√®te (7, 14, 21 nuits...).'
        : 'During high season, stays must be full weeks (7, 14, 21 nights...).');
    }

    const weeks = Math.floor(nights / 7);
    price = weeks * 3900;
    rateDescription = currentLang === 'fr'
      ? (weeks === 1 ? '3 900‚Ç¨ / semaine' : `${weeks} semaines √ó 3 900‚Ç¨ = ${price.toLocaleString('fr-FR')}‚Ç¨`)
      : (weeks === 1 ? '‚Ç¨3,900 / week' : `${weeks} weeks √ó ‚Ç¨3,900 = ‚Ç¨${price.toLocaleString('fr-FR')}`);

  } else if (isMixedSeason) {
    // Mixed season: starts in standard, extends into high season
    const checkoutDay = checkout.getDay();

    // Check if checkout is in July/August (high season period)
    const isCheckoutInHighSeason = checkout >= highSeasonStart && checkout <= highSeasonEnd;

    if (isCheckoutInHighSeason && checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'D√©part en juillet/ao√ªt uniquement possible le samedi.'
        : 'Check-out in July/August only allowed on Saturday.');
    }

    // Calculate split pricing
    // Standard season nights: from checkin to July 4
    const standardNights = Math.round((highSeasonStart - checkin) / (1000 * 60 * 60 * 24));

    // High season nights: from July 4 to checkout
    const highSeasonNights = Math.round((checkout - highSeasonStart) / (1000 * 60 * 60 * 24));

    // Calculate standard season portion
    let standardPrice = 0;
    if (standardNights >= 15) {
      standardPrice = 5000 + ((standardNights - 15) * 333);
    } else if (standardNights === 7) {
      standardPrice = 2900;
    } else if (standardNights === 6) {
      standardPrice = 2700;
    } else if (standardNights === 5) {
      standardPrice = 2400;
    } else {
      standardPrice = standardNights * 500;
    }

    // Calculate high season portion (7-day blocks at 3900‚Ç¨/week)
    const highSeasonWeeks = Math.floor(highSeasonNights / 7);
    const highSeasonPrice = highSeasonWeeks * 3900;

    // Remaining nights in high season (less than a week) - not allowed if checkout is in high season
    const remainingHighSeasonNights = highSeasonNights % 7;
    if (remainingHighSeasonNights > 0 && isCheckoutInHighSeason) {
      errors.push(currentLang === 'fr'
        ? 'En juillet/ao√ªt, les s√©jours doivent √™tre par semaine compl√®te (7 jours).'
        : 'In July/August, stays must be full weeks (7 days).');
    }

    price = standardPrice + highSeasonPrice;
    rateDescription = currentLang === 'fr'
      ? `Standard: ${standardPrice.toLocaleString('fr-FR')}‚Ç¨ + Haute saison: ${highSeasonPrice.toLocaleString('fr-FR')}‚Ç¨`
      : `Standard: ‚Ç¨${standardPrice.toLocaleString('fr-FR')} + High season: ‚Ç¨${highSeasonPrice.toLocaleString('fr-FR')}`;

  } else {
    // Fully in standard season pricing
    if (nights < 4) {
      errors.push(currentLang === 'fr'
        ? 'Minimum 4 nuits en p√©riode normale.'
        : 'Minimum 4 nights during standard period.');
    }

    // Degressive pricing
    if (nights >= 15) {
      // 15 nuits = 5000‚Ç¨, puis 333‚Ç¨ par nuit suppl√©mentaire
      price = 5000 + ((nights - 15) * 333);
      rateDescription = currentLang === 'fr'
        ? `5 000‚Ç¨ + ${nights - 15} √ó 333‚Ç¨ = ${price.toLocaleString('fr-FR')}‚Ç¨`
        : `‚Ç¨5,000 + ${nights - 15} √ó ‚Ç¨333 = ‚Ç¨${price.toLocaleString('fr-FR')}`;
    } else if (nights === 7) {
      price = 2900;
      rateDescription = currentLang === 'fr' ? '2 900‚Ç¨ (7 nuits)' : '‚Ç¨2,900 (7 nights)';
    } else if (nights === 6) {
      price = 2700;
      rateDescription = currentLang === 'fr' ? '2 700‚Ç¨ (6 nuits)' : '‚Ç¨2,700 (6 nights)';
    } else if (nights === 5) {
      price = 2400;
      rateDescription = currentLang === 'fr' ? '2 400‚Ç¨ (5 nuits)' : '‚Ç¨2,400 (5 nights)';
    } else {
      price = nights * 500;
      rateDescription = currentLang === 'fr' ? `500‚Ç¨ √ó ${nights} nuits` : `‚Ç¨500 √ó ${nights} nights`;
    }
  }

  // Calculate tourist tax (Terre de Provence - meubl√© non class√©)
  // Proportional rate: 5% of nightly price per person, capped at 3.18‚Ç¨, + 10% departmental + 34% regional
  const taxCalculation = calculateTouristTax(price, nights, adults, children);
  const touristTax = taxCalculation.totalTouristTax;
  const totalPrice = price + touristTax;

  // Store calculated data for email
  calculatedData = {
    checkin: checkinInput.value,
    checkout: checkoutInput.value,
    nights,
    adults,
    children,
    price,
    touristTax,
    totalPrice
  };

  // Display results
  nightsSpan.textContent = nights;
  guestsSpan.textContent = currentLang === 'fr'
    ? `${adults} adulte(s), ${children} enfant(s)`
    : `${adults} adult(s), ${children} child(ren)`;
  rateSpan.textContent = `${price.toLocaleString('fr-FR')}‚Ç¨`;
  taxSpan.textContent = `${touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨`;
  totalSpan.textContent = `${totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨`;

  if (errors.length > 0) {
    errorsDiv.innerHTML = errors.join('<br>');
    if (sendEmailBtn) sendEmailBtn.style.display = 'none';
    if (sendWhatsAppBtn) sendWhatsAppBtn.style.display = 'none';
  } else {
    errorsDiv.textContent = '';
    if (sendEmailBtn) sendEmailBtn.style.display = 'block';
    if (sendWhatsAppBtn) sendWhatsAppBtn.style.display = 'block';
  }

  resultDiv.style.display = 'block';
}

// Send email button handler
if (sendEmailBtn) {
  sendEmailBtn.addEventListener('click', () => {
    if (!calculatedData) return;

    const subject = encodeURIComponent(
      currentLang === 'fr'
        ? "Demande de r√©servation - Mas Airaga"
        : "Booking request - Mas Airaga"
    );

    const body = encodeURIComponent(
      currentLang === 'fr'
        ? `Bonjour,\n\nJe souhaite r√©server le Mas Airaga avec les informations suivantes :\n\nArriv√©e : ${calculatedData.checkin}\nD√©part : ${calculatedData.checkout}\nNombre de nuits : ${calculatedData.nights}\n\nVoyageurs :\n- Adultes : ${calculatedData.adults}\n- Enfants : ${calculatedData.children}\n\nR√©capitulatif des prix :\n- Tarif h√©bergement : ${calculatedData.price.toLocaleString('fr-FR')}‚Ç¨\n- Taxe de s√©jour : ${calculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨\n- Total TTC : ${calculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}‚Ç¨\n\nCordialement`
        : `Hello,\n\nI would like to book Mas Airaga with the following information:\n\nCheck-in: ${calculatedData.checkin}\nCheck-out: ${calculatedData.checkout}\nNumber of nights: ${calculatedData.nights}\n\nGuests:\n- Adults: ${calculatedData.adults}\n- Children: ${calculatedData.children}\n\nPrice summary:\n- Accommodation rate: ‚Ç¨${calculatedData.price.toLocaleString('fr-FR')}\n- Tourist tax: ‚Ç¨${calculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n- Total incl. tax: ‚Ç¨${calculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n\nBest regards`
    );

    window.location.href = `mailto:mas.airaga.contact@gmail.com?subject=${subject}&body=${body}`;
  });
}

if (checkinInput && checkoutInput && adultsInput && childrenInput) {
  checkinInput.addEventListener('change', calculatePrice);
  checkoutInput.addEventListener('change', calculatePrice);
  adultsInput.addEventListener('change', calculatePrice);
  childrenInput.addEventListener('change', calculatePrice);
}

// Fix for mobile Safari/Chrome image loading issues
const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
if (isMobile) {
  // Wait for DOM to be fully loaded
  window.addEventListener('DOMContentLoaded', function() {
    // Remove lazy loading on mobile devices
    const lazyImages = document.querySelectorAll('img[loading="lazy"]');

    lazyImages.forEach(img => {
      // Remove lazy loading attribute
      img.removeAttribute('loading');

      // Force eager loading
      img.loading = 'eager';

      // Add visibility and rendering hints
      img.style.visibility = 'visible';
      img.style.opacity = '1';

      // Force browser to recognize the image
      const src = img.getAttribute('src');
      if (src) {
        img.src = '';
        img.src = src;
      }
    });

    // Additional check after a small delay to ensure images are loaded
    setTimeout(() => {
      lazyImages.forEach(img => {
        if (!img.complete || img.naturalHeight === 0) {
          const src = img.getAttribute('src');
          if (src) {
            img.src = src + '?reload=' + Date.now();
          }
        }
      });
    }, 100);
  });
}

// Mobile hamburger menu
const hamburger = document.getElementById('nav-hamburger');
const navLinks = document.getElementById('nav-links');

if (hamburger && navLinks) {
  hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navLinks.classList.toggle('active');
    document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
  });

  // Close menu when clicking on a link
  navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      hamburger.classList.remove('active');
      navLinks.classList.remove('active');
      document.body.style.overflow = '';
    });
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!hamburger.contains(e.target) && !navLinks.contains(e.target)) {
      hamburger.classList.remove('active');
      navLinks.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
}

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
  anchor.addEventListener("click", function (e) {
    const targetId = this.getAttribute("href");
    const target = document.querySelector(targetId);
    if (target) {
      e.preventDefault();
      target.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  });
});

// Scroll to top button
const scrollToTopBtn = document.getElementById('scroll-to-top');

if (scrollToTopBtn) {
  window.addEventListener('scroll', () => {
    if (window.pageYOffset > 300) {
      scrollToTopBtn.classList.add('visible');
    } else {
      scrollToTopBtn.classList.remove('visible');
    }
  });

  scrollToTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
}

// Lightbox functionality
const lightbox = document.getElementById('lightbox');
const lightboxImage = document.getElementById('lightbox-image');
const lightboxCaption = document.getElementById('lightbox-caption');
const galleryItems = document.querySelectorAll('.gallery-item');
const closeBtn = lightbox ? lightbox.querySelector('.lightbox__close') : null;
const prevBtn = lightbox ? lightbox.querySelector('.lightbox__prev') : null;
const nextBtn = lightbox ? lightbox.querySelector('.lightbox__next') : null;

let currentImageIndex = 0;
let currentGalleryImages = [];

if (lightbox && galleryItems.length > 0) {
  // Add click listeners to all gallery items
  galleryItems.forEach((item, index) => {
    item.addEventListener('click', () => {
      openLightbox(index);
    });
  });

  // Close button
  closeBtn.addEventListener('click', closeLightbox);

  // Previous/Next buttons
  prevBtn.addEventListener('click', showPrevImage);
  nextBtn.addEventListener('click', showNextImage);

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (lightbox.style.display === 'flex') {
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft') showPrevImage();
      if (e.key === 'ArrowRight') showNextImage();
    }
  });

  // Close on background click
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
      closeLightbox();
    }
  });
}

function openLightbox(index) {
  // Convert NodeList to Array for easier manipulation
  currentGalleryImages = Array.from(galleryItems);
  currentImageIndex = index;

  const img = currentGalleryImages[currentImageIndex];
  lightboxImage.src = img.src;
  lightboxImage.alt = img.alt;

  // Set caption from data-category and alt
  const category = img.getAttribute('data-category') || '';
  const alt = img.alt || '';
  lightboxCaption.textContent = category ? `${category}` : alt;

  lightbox.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  lightbox.style.display = 'none';
  document.body.style.overflow = '';
}

function showPrevImage() {
  currentImageIndex = (currentImageIndex - 1 + currentGalleryImages.length) % currentGalleryImages.length;
  updateLightboxImage();
}

function showNextImage() {
  currentImageIndex = (currentImageIndex + 1) % currentGalleryImages.length;
  updateLightboxImage();
}

function updateLightboxImage() {
  const img = currentGalleryImages[currentImageIndex];
  lightboxImage.src = img.src;
  lightboxImage.alt = img.alt;

  const category = img.getAttribute('data-category') || '';
  const alt = img.alt || '';
  lightboxCaption.textContent = category ? `${category}` : alt;
}

// Mobile carousel navigation
document.addEventListener('DOMContentLoaded', function() {
  const carouselCards = document.querySelectorAll('.carousel-card');

  carouselCards.forEach(card => {
    card.addEventListener('click', function() {
      const targetId = this.getAttribute('data-target');
      const targetSection = document.getElementById(targetId);

      if (targetSection) {
        // Smooth scroll to the section
        targetSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
});

// Touch gesture support for lightbox (swipe left/right)
let touchStartX = 0;
let touchEndX = 0;
let touchStartY = 0;
let touchEndY = 0;

function handleSwipeGesture() {
  const swipeThreshold = 50; // Minimum distance for swipe
  const deltaX = touchEndX - touchStartX;
  const deltaY = touchEndY - touchStartY;

  // Only register horizontal swipes (ignore vertical scrolling)
  if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > swipeThreshold) {
    if (deltaX > 0) {
      // Swipe right - show previous image
      showPrevImage();
    } else {
      // Swipe left - show next image
      showNextImage();
    }
  }
}

if (lightbox) {
  lightbox.addEventListener('touchstart', function(e) {
    touchStartX = e.changedTouches[0].screenX;
    touchStartY = e.changedTouches[0].screenY;
  }, false);

  lightbox.addEventListener('touchend', function(e) {
    touchEndX = e.changedTouches[0].screenX;
    touchEndY = e.changedTouches[0].screenY;
    handleSwipeGesture();
  }, false);
}

// ========================================
// WebP Support with Automatic Fallback
// ========================================

/**
 * Automatically upgrade JPG images to WebP format with fallback
 * Converts <img src="image.jpg"> to:
 * <picture>
 *   <source srcset="image.webp" type="image/webp">
 *   <img src="image.jpg" ...>
 * </picture>
 */
(function initWebPSupport() {
  // Check if browser supports WebP
  const supportsWebP = (function() {
    const elem = document.createElement('canvas');
    if (!!(elem.getContext && elem.getContext('2d'))) {
      return elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;
    }
    return false;
  })();

  // Get all gallery images (not logo or other UI elements)
  const images = document.querySelectorAll('.gallery-item, .space-gallery img, .hero__slide, .carousel-card img');

  images.forEach(img => {
    // Skip if already processed
    if (img.dataset.webpProcessed) {
      return;
    }

    // For background images on hero slides
    if (img.classList.contains('hero__slide')) {
      const bgImage = img.style.backgroundImage;
      if (bgImage && bgImage.includes('.jpg')) {
        const jpgPath = bgImage.match(/url\(['"]?([^'"]+)['"]?\)/)?.[1];
        if (jpgPath) {
          const webpPath = jpgPath.replace(/\.jpg$/i, '.webp');
          // Try loading WebP, fallback to JPG if fails
          const testImg = new Image();
          testImg.onload = () => {
            img.style.backgroundImage = `url('${webpPath}')`;
          };
          testImg.onerror = () => {
            // Keep JPG - already set
          };
          testImg.src = webpPath;
        }
      }
      img.dataset.webpProcessed = 'true';
      return;
    }

    const jpgSrc = img.getAttribute('src');
    if (!jpgSrc || !jpgSrc.endsWith('.jpg')) {
      img.dataset.webpProcessed = 'true';
      return;
    }

    // Create WebP path
    const webpSrc = jpgSrc.replace(/\.jpg$/i, '.webp');

    // If browser supports WebP, just swap the src
    if (supportsWebP) {
      // Test if WebP exists
      const testImg = new Image();
      testImg.onload = () => {
        img.src = webpSrc;
        img.dataset.webpProcessed = 'true';
      };
      testImg.onerror = () => {
        // Keep JPG
        img.dataset.webpProcessed = 'true';
      };
      testImg.src = webpSrc;
    } else {
      // Browser doesn't support WebP, keep JPG
      img.dataset.webpProcessed = 'true';
    }
  });

  console.log(`‚úÖ WebP support initialized (Browser supports WebP: ${supportsWebP})`);
})();

// ========================================
// Airbnb Calendar Sync (iCal)
// ========================================

/**
 * Fetch and parse Airbnb iCal calendar to get blocked dates
 */
(function initAirbnbCalendar() {
  const ICAL_URL = 'https://www.airbnb.com/calendar/ical/11578905.ics?t=a3a2aff205c847e8b1ddbabf18d0ec55&locale=en';
  const CORS_PROXY = 'https://api.allorigins.win/raw?url='; // Free CORS proxy
  const CACHE_KEY = 'mas-airaga-blocked-dates';
  const CACHE_DURATION = 6 * 60 * 60 * 1000; // 6 hours in milliseconds

  let blockedDates = [];

  /**
   * Parse iCal format to extract blocked date ranges
   */
  function parseICalendar(icalData) {
    const blocked = [];
    const lines = icalData.split(/\r?\n/);
    let currentEvent = {};

    for (let i = 0; i < lines.length; i++) {
      const line = lines[i].trim();

      if (line === 'BEGIN:VEVENT') {
        currentEvent = {};
      } else if (line === 'END:VEVENT') {
        // Process the event
        if (currentEvent.dtstart && currentEvent.dtend) {
          // Parse dates (format: YYYYMMDD or YYYYMMDDTHHMMSSZ)
          const startDate = parseDateFromIcal(currentEvent.dtstart);
          const endDate = parseDateFromIcal(currentEvent.dtend);

          if (startDate && endDate) {
            blocked.push({ start: startDate, end: endDate });
          }
        }
        currentEvent = {};
      } else if (line.startsWith('DTSTART')) {
        const match = line.match(/DTSTART[;:](.+)/);
        if (match) currentEvent.dtstart = match[1];
      } else if (line.startsWith('DTEND')) {
        const match = line.match(/DTEND[;:](.+)/);
        if (match) currentEvent.dtend = match[1];
      }
    }

    return blocked;
  }

  /**
   * Parse iCal date format to JavaScript Date
   */
  function parseDateFromIcal(dateStr) {
    // Handle VALUE=DATE format (YYYYMMDD)
    const cleanStr = dateStr.replace(/^VALUE=DATE:/, '');

    if (cleanStr.length === 8) {
      // YYYYMMDD format
      const year = parseInt(cleanStr.substring(0, 4));
      const month = parseInt(cleanStr.substring(4, 6)) - 1; // JS months are 0-indexed
      const day = parseInt(cleanStr.substring(6, 8));
      return new Date(year, month, day);
    } else if (cleanStr.includes('T')) {
      // YYYYMMDDTHHMMSSZ format
      const year = parseInt(cleanStr.substring(0, 4));
      const month = parseInt(cleanStr.substring(4, 6)) - 1;
      const day = parseInt(cleanStr.substring(6, 8));
      return new Date(year, month, day);
    }

    return null;
  }

  /**
   * Check if a date is blocked
   */
  function isDateBlocked(date) {
    const checkDate = new Date(date);
    checkDate.setHours(0, 0, 0, 0);

    return blockedDates.some(range => {
      const start = new Date(range.start);
      const end = new Date(range.end);
      start.setHours(0, 0, 0, 0);
      end.setHours(0, 0, 0, 0);

      // Check if date falls within blocked range (inclusive)
      return checkDate >= start && checkDate < end;
    });
  }

  /**
   * Format date as YYYY-MM-DD
   */
  function formatDate(date) {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
  }

  /**
   * Fetch calendar data from Airbnb
   */
  async function fetchCalendar() {
    try {
      // Check cache first
      const cached = localStorage.getItem(CACHE_KEY);
      if (cached) {
        const { data, timestamp } = JSON.parse(cached);
        const age = Date.now() - timestamp;

        if (age < CACHE_DURATION) {
          console.log('‚úÖ Using cached calendar data');
          return data;
        }
      }

      // Fetch fresh data
      console.log('‚¨áÔ∏è Fetching Airbnb calendar...');
      const response = await fetch(CORS_PROXY + encodeURIComponent(ICAL_URL));

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const icalData = await response.text();
      const parsed = parseICalendar(icalData);

      // Cache the result
      localStorage.setItem(CACHE_KEY, JSON.stringify({
        data: parsed,
        timestamp: Date.now()
      }));

      console.log(`‚úÖ Calendar synced: ${parsed.length} blocked periods found`);
      return parsed;

    } catch (error) {
      console.warn('‚ö†Ô∏è Failed to fetch Airbnb calendar:', error);

      // Fallback to cached data if available
      const cached = localStorage.getItem(CACHE_KEY);
      if (cached) {
        const { data } = JSON.parse(cached);
        console.log('‚ÑπÔ∏è Using stale cache as fallback');
        return data;
      }

      return [];
    }
  }

  /**
   * Update date inputs to disable blocked dates
   */
  function updateDateInputs() {
    const checkinInput = document.getElementById('booking-checkin');
    const checkoutInput = document.getElementById('booking-checkout');
    const calcCheckinInput = document.getElementById('calc-checkin');
    const calcCheckoutInput = document.getElementById('calc-checkout');

    if (!checkinInput) return;

    // Add change listeners to validate selected dates
    const validateDate = (input) => {
      if (!input.value) return;

      const selectedDate = new Date(input.value);
      if (isDateBlocked(selectedDate)) {
        alert(translations[currentLang].calendarBlocked || 'Cette date n\'est pas disponible. Veuillez en choisir une autre.');
        input.value = '';
      }
    };

    [checkinInput, checkoutInput, calcCheckinInput, calcCheckoutInput].forEach(input => {
      if (input) {
        input.addEventListener('change', () => validateDate(input));
      }
    });
  }

  /**
   * Initialize calendar sync
   */
  /**
   * Render visual availability calendar
   */
  // Selection state
  let selectedCheckin = null;
  let selectedCheckout = null;

  function formatDateForInput(date) {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
  }

  // Check if date is a Saturday
  function isSaturday(date) {
    return date.getDay() === 6;
  }

  // Determine pricing season for a date
  function getSeason(date) {
    const month = date.getMonth();
    const day = date.getDate();

    // High season: July 4 - August 28
    if ((month === 6 && day >= 4) || (month === 7 && day <= 28)) {
      return 'high';
    }
    // Standard season: April 17 - July 3 & August 29 - October 3
    return 'standard';
  }

  // Check if a date range contains any blocked dates (existing reservations)
  // IMPORTANT: Checkout on the first day of a blocked period is ALLOWED
  // (guests leave in morning, new guests arrive in afternoon)
  function hasBlockedDatesInRange(startDate, endDate) {
    for (const blocked of blockedDates) {
      // Check if there's any overlap between the range and blocked period
      // Overlap exists if: (start < blocked.end) AND (end > blocked.start)
      // BUT: Allow checkout on blocked.start (first day of blocked period)
      if (startDate < blocked.end && endDate > blocked.start) {
        // Exception: If endDate equals blocked.start, it's allowed (checkout on arrival day)
        if (endDate.toDateString() === blocked.start.toDateString()) {
          console.log(`  ‚ÑπÔ∏è Checkout ${endDate.toDateString()} equals blocked period start ${blocked.start.toDateString()} - ALLOWED`);
          continue; // This overlap is OK - checkout on blocked start date
        }
        console.log(`  ‚ö†Ô∏è Range ${startDate.toDateString()} to ${endDate.toDateString()} overlaps with blocked ${blocked.start.toDateString()} to ${blocked.end.toDateString()}`);
        return true;
      }
    }
    return false;
  }

  // Find the next blocked date after a given date (or null if none)
  function getNextBlockedDate(fromDate) {
    let nextBlocked = null;
    for (const blocked of blockedDates) {
      if (blocked.start > fromDate) {
        if (!nextBlocked || blocked.start < nextBlocked) {
          nextBlocked = blocked.start;
        }
      }
    }
    return nextBlocked;
  }

  // Find the next unavailable date (blocked or closed) after a given date
  // IMPORTANT: Returns the day AFTER the first blocked date starts
  // (since checkout on the first day of a blocked period is allowed)
  function getNextUnavailableDate(fromDate) {
    const startDate = new Date(2026, 3, 17); // April 17, 2026
    const endDate = new Date(2026, 9, 3); // October 3, 2026

    let nextUnavailable = null;
    let currentDate = new Date(fromDate);
    currentDate.setDate(currentDate.getDate() + 1); // Start checking from the next day

    // Check each day until we find an unavailable one
    while (currentDate <= endDate) {
      // Check if closed (outside season)
      if (currentDate < startDate || currentDate > endDate) {
        return currentDate;
      }

      // Check if blocked by Airbnb
      if (isDateBlocked(currentDate)) {
        // Return the day AFTER this blocked date starts
        // (checkout is allowed on the first day of blocked period)
        const dayAfterBlocked = new Date(currentDate);
        dayAfterBlocked.setDate(dayAfterBlocked.getDate() + 1);
        return dayAfterBlocked;
      }

      currentDate.setDate(currentDate.getDate() + 1);
    }

    // If we've gone past the end of the season, return the day after season end
    if (currentDate > endDate) {
      const dayAfterEnd = new Date(endDate);
      dayAfterEnd.setDate(dayAfterEnd.getDate() + 1);
      return dayAfterEnd;
    }

    return nextUnavailable;
  }

  // Check if a blocked date is the FIRST day of a blocked period
  // (only the first day of a blocked period can be used as checkout)
  function isFirstDayOfBlockedPeriod(date) {
    if (!isDateBlocked(date)) {
      return false;
    }

    // Check the day before - if it's NOT blocked, then this IS the first day
    const dayBefore = new Date(date);
    dayBefore.setDate(dayBefore.getDate() - 1);

    return !isDateBlocked(dayBefore);
  }

  // Find the last possible checkout date before a blocked/closed period
  // This is used for minimum nights validation when selecting check-in
  // Returns the blocked date itself (not the day after), since checkout is allowed on first day of blocked period
  function getLastPossibleCheckout(fromDate) {
    const startDate = new Date(2026, 3, 17); // April 17, 2026
    const endDate = new Date(2026, 9, 3); // October 3, 2026

    let currentDate = new Date(fromDate);
    currentDate.setDate(currentDate.getDate() + 1); // Start checking from the next day

    // Check each day until we find an unavailable one
    while (currentDate <= endDate) {
      // Check if closed (outside season)
      if (currentDate < startDate || currentDate > endDate) {
        return currentDate;
      }

      // Check if blocked by Airbnb
      if (isDateBlocked(currentDate)) {
        // Only return this date if it's the FIRST day of a blocked period
        // (checkout is only allowed on the first day, not subsequent blocked days)
        if (isFirstDayOfBlockedPeriod(currentDate)) {
          return currentDate;
        }
        // If not first day, continue to find the start of this blocked period
        // by going backward to find where it starts
        const blockStart = new Date(currentDate);
        while (isDateBlocked(blockStart) && blockStart >= fromDate) {
          blockStart.setDate(blockStart.getDate() - 1);
        }
        // Now blockStart is the last unblocked date, so the next day is the first blocked day
        blockStart.setDate(blockStart.getDate() + 1);
        return blockStart;
      }

      currentDate.setDate(currentDate.getDate() + 1);
    }

    // If we've gone past the end of the season, return the day after season end
    if (currentDate > endDate) {
      const dayAfterEnd = new Date(endDate);
      dayAfterEnd.setDate(dayAfterEnd.getDate() + 1);
      return dayAfterEnd;
    }

    return null;
  }

  // Check if a date can be a valid arrival date
  function isValidArrivalDate(date) {
    const season = getSeason(date);
    // High season: only Saturdays
    if (season === 'high') {
      return isSaturday(date);
    }
    // Standard season: any day
    return true;
  }

  // Check if a date is selectable based on current selection and rules
  function isDateSelectable(date, isCheckout = false) {
    console.log(`üîç isDateSelectable called: date=${date.toDateString()}, isCheckout=${isCheckout}, selectedCheckin=${selectedCheckin?.toDateString()}`);

    // If selecting check-in (no selection yet)
    if (!selectedCheckin && !isCheckout) {
      console.log('  ‚Üí Path: Selecting initial check-in');
      // Don't allow dates in the past (before today)
      const today = new Date();
      today.setHours(0, 0, 0, 0);
      if (date < today) {
        console.log('  ‚ùå Date is in the past');
        return false;
      }

      // Must be a valid arrival date (Saturdays in high season, any day in standard)
      if (!isValidArrivalDate(date)) {
        console.log('  ‚ùå Not a valid arrival date');
        return false;
      }

      console.log('  ‚úÖ Valid arrival date');
      return true;
    }

    // If selecting check-out (check-in already selected)
    if (selectedCheckin && !selectedCheckout && isCheckout) {
      console.log('  ‚Üí Path: Selecting check-out');

      // Cannot select a date before or equal to check-in
      if (date <= selectedCheckin) {
        console.log('  ‚ùå Date is before or equal to check-in');
        return false;
      }

      const daysDiff = Math.round((date - selectedCheckin) / (1000 * 60 * 60 * 24));
      const checkinSeason = getSeason(selectedCheckin);
      const checkoutSeason = getSeason(date);

      // CRITICAL: Check if there are blocked dates between check-in and check-out
      if (hasBlockedDatesInRange(selectedCheckin, date)) {
        console.log('  ‚ùå Blocked dates exist in range');
        return false;
      }

      // Get the next unavailable date (blocked or closed) after check-in
      const nextUnavailable = getNextUnavailableDate(selectedCheckin);
      if (nextUnavailable && date > nextUnavailable) {
        console.log('  ‚ùå Checkout is after next unavailable date (blocked or closed)');
        return false;
      }

      // HIGH SEASON CHECK-IN RULES
      if (checkinSeason === 'high') {
        console.log('  ‚Üí Check-in is in high season');

        // If checkout is in high season (July 4 - Aug 28)
        if (checkoutSeason === 'high') {
          // Must be a Saturday
          if (!isSaturday(date)) {
            console.log('  ‚ùå High season checkout must be Saturday');
            return false;
          }
          // Must be 7, 14, 21... days (multiples of 7)
          if (daysDiff % 7 !== 0) {
            console.log(`  ‚ùå High season must be multiples of 7 days (got ${daysDiff})`);
            return false;
          }
          console.log(`  ‚úÖ Valid high season checkout (${daysDiff} days)`);
          return true;
        }
        // If checkout is in September (Aug 29+)
        else {
          // Can checkout any day in September if continuous (no blocked dates)
          console.log(`  ‚úÖ High season to September checkout (${daysDiff} days)`);
          return true;
        }
      }

      // STANDARD SEASON CHECK-IN RULES
      if (checkinSeason === 'standard') {
        console.log('  ‚Üí Check-in is in standard season');

        // Minimum 4 nights
        if (daysDiff < 4) {
          console.log(`  ‚ùå Standard season requires minimum 4 nights (got ${daysDiff})`);
          return false;
        }

        // If checkout is in standard season
        if (checkoutSeason === 'standard') {
          // Any date after 4 nights is OK if continuous
          console.log(`  ‚úÖ Standard season checkout (${daysDiff} days)`);
          return true;
        }

        // If checkout is in high season
        if (checkoutSeason === 'high') {
          // Can extend to high season Saturdays if continuous
          // This creates a mixed reservation (standard + high season)
          if (!isSaturday(date)) {
            console.log('  ‚ùå Checkout in high season must be Saturday');
            return false;
          }

          // Find the boundary between standard and high season
          const highSeasonStart = new Date(selectedCheckin.getFullYear(), 6, 4); // July 4

          // Check if the transition happens on a Saturday
          if (!isSaturday(highSeasonStart)) {
            // If July 4 is not a Saturday, we need to ensure proper alignment
            // For mixed reservations, the checkout must align with high season rules
            const daysInHighSeason = Math.round((date - highSeasonStart) / (1000 * 60 * 60 * 24));
            if (daysInHighSeason % 7 !== 0) {
              console.log('  ‚ùå Mixed reservation: high season portion must be multiples of 7');
              return false;
            }
          }

          console.log(`  ‚úÖ Mixed reservation (standard to high season, ${daysDiff} days total)`);
          return true;
        }
      }

      return false;
    }

    return false;
  }

  function handleDateClick(date) {
    console.log('üîµ handleDateClick called with date:', date.toDateString());

    // If both dates are already selected, reset and start over
    if (selectedCheckin && selectedCheckout) {
      console.log('üîÑ Both dates selected, resetting...');
      selectedCheckin = null;
      selectedCheckout = null;
    }

    // If no check-in selected, set it
    if (!selectedCheckin) {
      console.log('üìÖ No check-in selected yet, validating date...');
      // Validate check-in date
      const isValid = isDateSelectable(date, false);
      console.log('‚úÖ Validation result:', isValid);
      if (!isValid) {
        const season = getSeason(date);
        const lang = document.documentElement.lang || 'fr';
        const messages = {
          fr: season === 'high'
            ? 'En haute saison, les arriv√©es sont uniquement possibles le samedi.'
            : 'Cette date ne peut pas √™tre s√©lectionn√©e comme date d\'arriv√©e.',
          en: season === 'high'
            ? 'In high season, check-in is only allowed on Saturdays.'
            : 'This date cannot be selected as check-in date.',
          nl: season === 'high'
            ? 'In het hoogseizoen is inchecken alleen mogelijk op zaterdag.'
            : 'Deze datum kan niet worden geselecteerd als incheckdatum.',
          de: season === 'high'
            ? 'In der Hochsaison ist der Check-in nur samstags m√∂glich.'
            : 'Dieses Datum kann nicht als Check-in-Datum ausgew√§hlt werden.'
        };
        alert(messages[lang] || messages.fr);
        return;
      }

      // In standard season, check if there are blocked dates within 3 days (need 4-night minimum)
      const season = getSeason(date);
      if (season === 'standard') {
        const lastPossibleCheckout = getLastPossibleCheckout(date);
        if (lastPossibleCheckout) {
          const daysDiff = Math.round((lastPossibleCheckout - date) / (1000 * 60 * 60 * 24));
          if (daysDiff < 4) {
            const lang = document.documentElement.lang || 'fr';
            const messages = {
              fr: 'Cette date ne peut pas √™tre s√©lectionn√©e car il n\'y a pas assez de jours disponibles avant la prochaine r√©servation. Minimum 4 nuits requis en saison standard.',
              en: 'This date cannot be selected as there are not enough available days before the next booking. Minimum 4 nights required in standard season.',
              nl: 'Deze datum kan niet worden geselecteerd omdat er niet genoeg beschikbare dagen zijn voor de volgende boeking. Minimaal 4 nachten vereist in het standaardseizoen.',
              de: 'Dieses Datum kann nicht ausgew√§hlt werden, da nicht gen√ºgend verf√ºgbare Tage vor der n√§chsten Buchung vorhanden sind. Mindestens 4 N√§chte in der Standardsaison erforderlich.'
            };
            alert(messages[lang] || messages.fr);
            return;
          }
        }
      }

      selectedCheckin = date;
      selectedCheckout = null;
      console.log('‚úÖ Check-in set to:', selectedCheckin.toDateString());
    }
    // If check-in is selected but no check-out
    else if (!selectedCheckout) {
      // Check if trying to select earlier date (reset selection)
      if (date <= selectedCheckin) {
        selectedCheckin = date;
        selectedCheckout = null;
        renderCalendar();
        return;
      }

      // Validate check-out date
      if (!isDateSelectable(date, true)) {
        const season = getSeason(selectedCheckin);
        const daysDiff = Math.round((date - selectedCheckin) / (1000 * 60 * 60 * 24));
        const lang = document.documentElement.lang || 'fr';

        let message = '';
        if (season === 'high') {
          const messages = {
            fr: 'En haute saison, le d√©part doit √™tre un samedi (s√©jour de 7 nuits exactement).',
            en: 'In high season, check-out must be on Saturday (exactly 7 nights).',
            nl: 'In het hoogseizoen moet uitchecken op zaterdag (precies 7 nachten).',
            de: 'In der Hochsaison muss der Check-out samstags sein (genau 7 N√§chte).'
          };
          message = messages[lang] || messages.fr;
        } else if (daysDiff < 4) {
          const messages = {
            fr: 'Le s√©jour doit √™tre de minimum 4 nuits.',
            en: 'Stay must be minimum 4 nights.',
            nl: 'Verblijf moet minimaal 4 nachten zijn.',
            de: 'Aufenthalt muss mindestens 4 N√§chte betragen.'
          };
          message = messages[lang] || messages.fr;
        } else {
          const messages = {
            fr: 'Cette date de d√©part n\'est pas valide selon les r√®gles de r√©servation.',
            en: 'This check-out date is not valid according to booking rules.',
            nl: 'Deze uitcheckdatum is niet geldig volgens de boekingsregels.',
            de: 'Dieses Check-out-Datum ist gem√§√ü den Buchungsregeln nicht g√ºltig.'
          };
          message = messages[lang] || messages.fr;
        }
        alert(message);
        return;
      }

      selectedCheckout = date;
      console.log('‚úÖ Check-out set to:', selectedCheckout.toDateString());
    }

    // Update form inputs with flag to prevent auto-setting
    isSettingFromCalendar = true;

    const checkinInput = document.getElementById('booking-checkin');
    const checkoutInput = document.getElementById('booking-checkout');
    const calcCheckinInput = document.getElementById('calc-checkin');
    const calcCheckoutInput = document.getElementById('calc-checkout');

    if (checkinInput && selectedCheckin) {
      checkinInput.value = formatDateForInput(selectedCheckin);
    }
    if (checkoutInput && selectedCheckout) {
      checkoutInput.value = formatDateForInput(selectedCheckout);
    }
    if (calcCheckinInput && selectedCheckin) {
      calcCheckinInput.value = formatDateForInput(selectedCheckin);
    }
    if (calcCheckoutInput && selectedCheckout) {
      calcCheckoutInput.value = formatDateForInput(selectedCheckout);
    }

    // Reset flag
    setTimeout(() => {
      isSettingFromCalendar = false;
    }, 50);

    // Update selection summary UI
    updateSelectionSummary();

    // Re-render calendar to update visual state
    renderCalendar();
  }

  function updateSelectionSummary() {
    const summaryDiv = document.getElementById('calendar-selection-summary');
    const checkinDateSpan = document.getElementById('selection-checkin-date');
    const checkoutDateSpan = document.getElementById('selection-checkout-date');
    const nightsCountSpan = document.getElementById('selection-nights-count');

    if (!summaryDiv) return;

    // Show/hide based on selection state
    if (selectedCheckin && selectedCheckout) {
      // Both dates selected - show summary
      summaryDiv.style.display = 'block';

      // Auto-scroll to selection summary
      setTimeout(() => {
        summaryDiv.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }, 300);

      // Format dates for display
      const options = { weekday: 'short', year: 'numeric', month: 'short', day: 'numeric' };
      const lang = document.documentElement.lang || 'fr';
      const locale = lang === 'fr' ? 'fr-FR' : lang === 'en' ? 'en-US' : lang === 'nl' ? 'nl-NL' : 'de-DE';

      if (checkinDateSpan) {
        checkinDateSpan.textContent = selectedCheckin.toLocaleDateString(locale, options);
      }
      if (checkoutDateSpan) {
        checkoutDateSpan.textContent = selectedCheckout.toLocaleDateString(locale, options);
      }

      // Calculate nights
      const nights = Math.round((selectedCheckout - selectedCheckin) / (1000 * 60 * 60 * 24));
      if (nightsCountSpan) {
        nightsCountSpan.textContent = nights;
      }
    } else {
      // Not both dates selected - hide summary
      summaryDiv.style.display = 'none';
    }
  }

  function renderCalendar() {
    const calendarGrid = document.getElementById('availability-calendar-grid');
    if (!calendarGrid) return;

    calendarGrid.innerHTML = '';

    const today = new Date();
    const startDate = new Date(2026, 3, 17); // April 17, 2026
    const endDate = new Date(2026, 9, 3); // October 3, 2026

    const monthNames = ['Janvier', 'F√©vrier', 'Mars', 'Avril', 'Mai', 'Juin',
                        'Juillet', 'Ao√ªt', 'Septembre', 'Octobre', 'Novembre', 'D√©cembre'];
    const weekdayNames = ['D', 'L', 'M', 'M', 'J', 'V', 'S'];

    let currentMonth = new Date(startDate.getFullYear(), startDate.getMonth(), 1);

    while (currentMonth <= endDate) {
      const monthDiv = document.createElement('div');
      monthDiv.className = 'calendar-month';

      // Month header
      const header = document.createElement('div');
      header.className = 'calendar-month-header';
      header.textContent = `${monthNames[currentMonth.getMonth()]} ${currentMonth.getFullYear()}`;
      monthDiv.appendChild(header);

      // Weekday headers
      const weekdaysDiv = document.createElement('div');
      weekdaysDiv.className = 'calendar-weekdays';
      weekdayNames.forEach(day => {
        const dayDiv = document.createElement('div');
        dayDiv.className = 'calendar-weekday';
        dayDiv.textContent = day;
        weekdaysDiv.appendChild(dayDiv);
      });
      monthDiv.appendChild(weekdaysDiv);

      // Days grid
      const daysDiv = document.createElement('div');
      daysDiv.className = 'calendar-days';

      const firstDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);
      const lastDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0);
      const startDay = firstDay.getDay();

      // Empty cells before first day
      for (let i = 0; i < startDay; i++) {
        const emptyDiv = document.createElement('div');
        emptyDiv.className = 'calendar-day calendar-day--empty';
        daysDiv.appendChild(emptyDiv);
      }

      // Days of month
      for (let day = 1; day <= lastDay.getDate(); day++) {
        const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), day);
        const dayDiv = document.createElement('div');
        dayDiv.className = 'calendar-day';
        dayDiv.textContent = day;

        // Determine base availability (color from Airbnb data)
        let isAvailable = false;

        if (date < startDate || date > endDate) {
          // Closed period
          dayDiv.classList.add('calendar-day--closed');
        } else if (isDateBlocked(date)) {
          // Blocked/reserved
          dayDiv.classList.add('calendar-day--blocked');
        } else {
          // Available date - keep original green color
          isAvailable = true;
          dayDiv.classList.add('calendar-day--available');
        }

        // Determine if date can be selected and if it should be grayed out
        let canSelect = false;
        let shouldGrayOut = false;
        let isPossibleArrival = false;
        let blockReason = null; // Track why date cannot be selected

        // SPECIAL CASE: Blocked dates can be checkout dates ONLY if they're the first day of a blocked period
        // (guests leave in morning, new guests arrive in afternoon)
        if (!isAvailable && selectedCheckin && !selectedCheckout) {
          // This is a blocked date, but check if it can be a valid checkout
          console.log(`üîç Checking blocked date ${date.toDateString()} as potential checkout from ${selectedCheckin.toDateString()}`);

          // CRITICAL: Only allow checkout on FIRST day of blocked period
          if (!isFirstDayOfBlockedPeriod(date)) {
            console.log(`   ‚ùå Blocked date ${date.toDateString()} is NOT the first day of blocked period`);
            canSelect = false;
          } else {
            const isValidCheckout = isDateSelectable(date, true);
            console.log(`   Result: isValidCheckout = ${isValidCheckout}`);
            if (isValidCheckout) {
              canSelect = true;
              console.log(`   ‚úÖ Blocked date ${date.toDateString()} IS allowed as checkout (first day of blocked period)`);
              // Don't gray out - allow it to be selected
            } else {
              console.log(`   ‚ùå Blocked date ${date.toDateString()} is NOT allowed as checkout`);
            }
          }
        }

        if (isAvailable) {
          if (!selectedCheckin) {
            // No selection yet - only allow valid check-in dates
            canSelect = isDateSelectable(date, false);

            // In standard season, check if there are at least 4 days before next blocked date
            if (canSelect && getSeason(date) === 'standard') {
              const lastPossibleCheckout = getLastPossibleCheckout(date);
              if (lastPossibleCheckout) {
                const daysDiff = Math.round((lastPossibleCheckout - date) / (1000 * 60 * 60 * 24));
                if (daysDiff < 4) {
                  canSelect = false;
                  blockReason = 'insufficientDays'; // Don't grey out, show popup instead
                }
              }
            }

            // High season: check if it's not a Saturday
            if (canSelect === false && !blockReason && getSeason(date) === 'high' && !isSaturday(date)) {
              blockReason = 'highSeasonSaturday';
            }

            isPossibleArrival = canSelect; // Mark possible arrival dates
            console.log(`Date ${date.toDateString()}: isAvailable=${isAvailable}, canSelect=${canSelect}, isPossibleArrival=${isPossibleArrival}, blockReason=${blockReason}`);
          } else if (!selectedCheckout) {
            // Check-in selected, now selecting check-out
            if (date < selectedCheckin) {
              // Dates before check-in should be grayed out and not clickable
              shouldGrayOut = true;
              canSelect = false;
            } else if (date.toDateString() === selectedCheckin.toDateString()) {
              // Can click check-in date to reset selection
              canSelect = true;
            } else {
              // Date is after check-in - check if valid check-out based on rules
              const isValidCheckout = isDateSelectable(date, true);
              canSelect = isValidCheckout;

              // Gray out invalid checkout dates (too soon or invalid based on rules)
              if (!isValidCheckout) {
                shouldGrayOut = true;
              }
            }
          } else {
            // Both selected - can click any available to reset
            canSelect = true;
          }
        }

        // Apply gray-out visual effect for impossible dates (EXCEPT for dates with blockReason)
        if (shouldGrayOut && !blockReason) {
          dayDiv.classList.add('calendar-day--disabled');
        }

        // Make possible arrival dates BOLD (always show, even after selection)
        if (isPossibleArrival) {
          dayDiv.classList.add('calendar-day--possible-arrival');
        }

        // Check if this date is selected (blue highlighting)
        const dateStr = date.toDateString();
        if (selectedCheckin && dateStr === selectedCheckin.toDateString()) {
          dayDiv.classList.add('calendar-day--selected');
          dayDiv.classList.add('calendar-day--checkin');
        } else if (selectedCheckout && dateStr === selectedCheckout.toDateString()) {
          dayDiv.classList.add('calendar-day--selected');
          dayDiv.classList.add('calendar-day--checkout');
        } else if (selectedCheckin && selectedCheckout && date > selectedCheckin && date < selectedCheckout) {
          // Dates in between check-in and check-out (light blue)
          dayDiv.classList.add('calendar-day--in-range');
        }

        // Highlight today
        if (date.toDateString() === today.toDateString()) {
          dayDiv.classList.add('calendar-day--today');
        }

        // Set cursor and click handler
        if (canSelect) {
          dayDiv.style.cursor = 'pointer';
          dayDiv.addEventListener('click', (e) => {
            e.stopPropagation(); // CRITICAL: Prevent the global click listener from resetting the selection
            console.log('üéØ CLICK EVENT FIRED for date:', date.toDateString());
            try {
              console.log('‚Üí About to call handleDateClick...');
              handleDateClick(date);
              console.log('‚Üí handleDateClick returned successfully');
            } catch (error) {
              console.error('‚ùå Error in handleDateClick:', error);
            }
          });
          console.log('‚úÖ Event listener attached to', date.toDateString());
        } else if (blockReason) {
          // Date is available but has a blocking reason - show popup on click
          dayDiv.style.cursor = 'pointer';
          dayDiv.addEventListener('click', (e) => {
            e.stopPropagation();
            const lang = document.documentElement.lang || 'fr';
            const message = blockReason === 'insufficientDays'
              ? translations[lang].calendarInsufficientDays
              : translations[lang].calendarHighSeasonSaturday;
            alert(message);
          });
        } else if (isAvailable) {
          // Available but not selectable - show not-allowed cursor
          dayDiv.style.cursor = 'not-allowed';
        }

        daysDiv.appendChild(dayDiv);
      }

      monthDiv.appendChild(daysDiv);
      calendarGrid.appendChild(monthDiv);

      // Move to next month
      currentMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1);
    }
  }

  async function init() {
    try {
      blockedDates = await fetchCalendar();
      updateDateInputs();
      renderCalendar();
      console.log('‚úÖ Airbnb calendar integration initialized');
    } catch (error) {
      console.error('‚ùå Calendar initialization failed:', error);
    }
  }

  // Reset selection when clicking outside calendar
  document.addEventListener('click', (e) => {
    const calendarElement = document.querySelector('.availability-calendar');
    if (!calendarElement) return;

    console.log('üåê Global click detected, target:', e.target.className, 'id:', e.target.id);

    // Don't reset if clicking on the validate or reset buttons
    if (e.target.id === 'calendar-validate-btn' || e.target.id === 'calendar-reset-btn') {
      console.log('‚Üí Click is on calendar control button, NOT resetting selection');
      return;
    }

    // Check if click is outside the calendar
    if (!calendarElement.contains(e.target)) {
      console.log('‚Üí Click is OUTSIDE calendar');
      // Only reset if there's an active selection
      if (selectedCheckin || selectedCheckout) {
        console.log('‚Üí Resetting selection...');
        selectedCheckin = null;
        selectedCheckout = null;
        updateDateInputs();
      }
    } else {
      console.log('‚Üí Click is INSIDE calendar');
    }
  });

  // Selection summary button handlers (using event delegation)
  document.addEventListener('click', (e) => {
    // Reset button
    if (e.target && e.target.id === 'calendar-reset-btn') {
      console.log('üîÑ Reset button clicked');
      e.preventDefault();
      e.stopPropagation();
      selectedCheckin = null;
      selectedCheckout = null;
      updateDateInputs();

      // Scroll to the calendar
      const calendar = document.querySelector('.availability-calendar');
      if (calendar) {
        calendar.scrollIntoView({ behavior: 'smooth', block: 'center' });
      }
    }

    // Validate button
    if (e.target && e.target.id === 'calendar-validate-btn') {
      console.log('‚úÖ Validate button clicked');
      e.preventDefault();
      e.stopPropagation();

      // Scroll to the booking form section
      const bookingForm = document.getElementById('bookingForm');
      if (bookingForm) {
        bookingForm.scrollIntoView({ behavior: 'smooth', block: 'center' });

        // Wait for scroll, then fill form with selected dates and base values
        setTimeout(() => {
          const bookingCheckinInput = document.getElementById('booking-checkin');
          const bookingCheckoutInput = document.getElementById('booking-checkout');
          const bookingAdultsInput = document.getElementById('booking-adults');
          const bookingChildrenInput = document.getElementById('booking-children');

          console.log('üìÖ Filling booking form with:', {
            checkin: selectedCheckin,
            checkout: selectedCheckout
          });

          // Set flag to prevent auto-setting checkout in change listeners
          isSettingFromCalendar = true;

          // Fill the selected dates using formatDateForInput to avoid timezone issues
          if (selectedCheckin && bookingCheckinInput) {
            const checkinStr = formatDateForInput(selectedCheckin);
            bookingCheckinInput.value = checkinStr;
            console.log('  ‚úÖ Set check-in to:', checkinStr);
          }
          if (selectedCheckout && bookingCheckoutInput) {
            const checkoutStr = formatDateForInput(selectedCheckout);
            bookingCheckoutInput.value = checkoutStr;
            console.log('  ‚úÖ Set check-out to:', checkoutStr);
          }

          // Set default guest values
          if (bookingAdultsInput) bookingAdultsInput.value = '2';
          if (bookingChildrenInput) bookingChildrenInput.value = '0';

          // Trigger price calculation BEFORE resetting flag
          setTimeout(() => {
            if (bookingCheckinInput) {
              bookingCheckinInput.dispatchEvent(new Event('change', { bubbles: true }));
            }
            if (bookingCheckoutInput) {
              bookingCheckoutInput.dispatchEvent(new Event('change', { bubbles: true }));
            }
            console.log('  ‚úÖ Triggered price calculation');

            // Reset flag AFTER triggering price calculation
            setTimeout(() => {
              isSettingFromCalendar = false;
            }, 50);
          }, 100);
        }, 1000);
      }
    }
  });

  // Initialize on page load
  init();

  // Re-sync every 6 hours
  setInterval(() => {
    console.log('üîÑ Re-syncing Airbnb calendar...');
    init();
  }, CACHE_DURATION);

  // Expose for debugging
  window.MasAiraga = {
    isDateBlocked,
    getBlockedDates: () => blockedDates,
    refreshCalendar: init,
    resetSelection: () => {
      selectedCheckin = null;
      selectedCheckout = null;
      renderCalendar();
    }
  };
})();

// =======================
// WhatsApp Integration
// =======================
(function() {
  const WHATSAPP_NUMBER = '33614325706'; // Virginie et Flavien's number

  /**
   * Generate WhatsApp message based on current form data and language
   */
  function generateWhatsAppMessage() {
    const lang = document.documentElement.lang || 'fr';
    const checkin = document.getElementById('booking-checkin')?.value || '';
    const checkout = document.getElementById('booking-checkout')?.value || '';
    const adults = document.getElementById('booking-adults')?.value || '2';
    const children = document.getElementById('booking-children')?.value || '0';
    const email = document.querySelector('input[name="email"]')?.value || '';
    const phone = document.querySelector('input[name="phone"]')?.value || '';
    const name = document.querySelector('input[name="name"]')?.value || '';

    // Message templates by language
    const templates = {
      fr: {
        greeting: "Bonjour,",
        intro: "Je souhaite obtenir des informations sur le Mas Airaga.",
        dates: checkin && checkout ? `\n\nDates souhait√©es:\n‚Ä¢ Arriv√©e: ${formatDateForDisplay(checkin)}\n‚Ä¢ D√©part: ${formatDateForDisplay(checkout)}` : '',
        guests: `\n\nNombre de voyageurs:\n‚Ä¢ Adultes: ${adults}\n‚Ä¢ Enfants: ${children}`,
        contact: name || email || phone ? `\n\nMes coordonn√©es:\n${name ? `‚Ä¢ Nom: ${name}\n` : ''}${email ? `‚Ä¢ Email: ${email}\n` : ''}${phone ? `‚Ä¢ T√©l√©phone: ${phone}` : ''}` : '',
        closing: "\n\nMerci !"
      },
      en: {
        greeting: "Hello,",
        intro: "I would like to get information about Mas Airaga.",
        dates: checkin && checkout ? `\n\nDesired dates:\n‚Ä¢ Check-in: ${formatDateForDisplay(checkin)}\n‚Ä¢ Check-out: ${formatDateForDisplay(checkout)}` : '',
        guests: `\n\nNumber of guests:\n‚Ä¢ Adults: ${adults}\n‚Ä¢ Children: ${children}`,
        contact: name || email || phone ? `\n\nMy contact details:\n${name ? `‚Ä¢ Name: ${name}\n` : ''}${email ? `‚Ä¢ Email: ${email}\n` : ''}${phone ? `‚Ä¢ Phone: ${phone}` : ''}` : '',
        closing: "\n\nThank you!"
      },
      nl: {
        greeting: "Hallo,",
        intro: "Ik zou graag informatie willen over Mas Airaga.",
        dates: checkin && checkout ? `\n\nGewenste datums:\n‚Ä¢ Aankomst: ${formatDateForDisplay(checkin)}\n‚Ä¢ Vertrek: ${formatDateForDisplay(checkout)}` : '',
        guests: `\n\nAantal gasten:\n‚Ä¢ Volwassenen: ${adults}\n‚Ä¢ Kinderen: ${children}`,
        contact: name || email || phone ? `\n\nMijn contactgegevens:\n${name ? `‚Ä¢ Naam: ${name}\n` : ''}${email ? `‚Ä¢ E-mail: ${email}\n` : ''}${phone ? `‚Ä¢ Telefoon: ${phone}` : ''}` : '',
        closing: "\n\nDank u!"
      },
      de: {
        greeting: "Hallo,",
        intro: "Ich m√∂chte gerne Informationen √ºber das Mas Airaga erhalten.",
        dates: checkin && checkout ? `\n\nGew√ºnschte Daten:\n‚Ä¢ Anreise: ${formatDateForDisplay(checkin)}\n‚Ä¢ Abreise: ${formatDateForDisplay(checkout)}` : '',
        guests: `\n\nAnzahl der G√§ste:\n‚Ä¢ Erwachsene: ${adults}\n‚Ä¢ Kinder: ${children}`,
        contact: name || email || phone ? `\n\nMeine Kontaktdaten:\n${name ? `‚Ä¢ Name: ${name}\n` : ''}${email ? `‚Ä¢ E-Mail: ${email}\n` : ''}${phone ? `‚Ä¢ Telefon: ${phone}` : ''}` : '',
        closing: "\n\nVielen Dank!"
      }
    };

    const template = templates[lang] || templates.fr;
    const message = template.greeting + '\n' + template.intro + template.dates + template.guests + template.contact + template.closing;

    return encodeURIComponent(message);
  }

  /**
   * Format date for display (DD/MM/YYYY)
   */
  function formatDateForDisplay(dateString) {
    if (!dateString) return '';
    const [year, month, day] = dateString.split('-');
    return `${day}/${month}/${year}`;
  }

  /**
   * Open WhatsApp with pre-filled message
   */
  function openWhatsApp() {
    const message = generateWhatsAppMessage();
    const url = `https://wa.me/${WHATSAPP_NUMBER}?text=${message}`;
    window.open(url, '_blank');
  }

  // Create floating WhatsApp button
  const floatingBtn = document.createElement('a');
  floatingBtn.id = 'whatsapp-float';
  floatingBtn.className = 'whatsapp-float';
  floatingBtn.href = '#';
  floatingBtn.setAttribute('aria-label', 'Contact via WhatsApp');
  floatingBtn.innerHTML = `
    <svg viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M16 0C7.163 0 0 7.163 0 16c0 2.825.744 5.488 2.038 7.8L.7 30.012l6.363-1.663A15.938 15.938 0 0016 32c8.837 0 16-7.163 16-16S24.837 0 16 0z" fill="#25D366"/>
      <path d="M25.2 22.488c-.375 1.062-1.862 1.95-3.05 2.2-.825.162-1.9.3-5.525-1.188-4.638-1.9-7.625-6.587-7.863-6.887-.237-.3-1.937-2.588-1.937-4.938 0-2.35 1.225-3.5 1.662-3.987.438-.488.963-.613 1.288-.613.325 0 .65.012.925.025.3.013.7-.113 1.1.837.412 1 1.412 3.463 1.537 3.713.125.25.212.538.038.838-.175.3-.262.487-.525.787-.262.3-.55.675-.787.9-.25.25-.513.538-.225.987.288.45 1.275 2.113 2.738 3.413 1.875 1.675 3.462 2.2 3.962 2.438.5.237.788.2 1.075-.125.288-.325 1.225-1.438 1.55-1.938.325-.5.65-.413 1.088-.238.437.175 2.775 1.313 3.25 1.55.475.238.788.35.9.55.113.2.113 1.15-.262 2.2z" fill="#fff"/>
    </svg>
    <span class="whatsapp-float-text" data-i18n="whatsapp-float"></span>
  `;

  floatingBtn.addEventListener('click', (e) => {
    e.preventDefault();
    openWhatsApp();
  });

  document.body.appendChild(floatingBtn);

  // Update button text with translation
  function updateWhatsAppFloatText() {
    const textSpan = floatingBtn.querySelector('.whatsapp-float-text');
    if (textSpan) {
      const lang = document.documentElement.lang || 'fr';
      const text = translations[lang]?.['whatsapp-float'] || translations.fr['whatsapp-float'];
      textSpan.textContent = text;
    }
  }

  // Initial text update
  updateWhatsAppFloatText();

  // Update on language change
  document.querySelectorAll('.nav-lang-btn').forEach(btn => {
    btn.addEventListener('click', () => {
      setTimeout(updateWhatsAppFloatText, 100);
    });
  });

  // Expose WhatsApp function globally
  window.openWhatsApp = openWhatsApp;
})();
