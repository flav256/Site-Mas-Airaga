// Translations
const translations = {
  fr: {
    "page-title": "Mas Airaga - Maison de charme à Eyragues",
    "nav-atouts": "Atouts",
    "nav-photos": "Photos",
    "nav-amenities": "Équipements",
    "nav-pricing": "Tarifs",
    "nav-location": "Localisation",
    "nav-book": "Réserver",
    "hero-eyebrow": "Villa avec piscine",
    "hero-title": "Très beau \"Mas Airaga\" au calme, à 4 km de St-Rémy",
    "hero-lead": "Mas entièrement climatisé, tout en lumière, 185 m2 habitables. Jardin parfumé à la lavande et aux oliviers d'environ 2000 m2 avec piscine sécurisée. DÉTENTE GARANTIE !",
    "cta-book": "Réserver en direct",
    "cta-discover": "Découvrir la maison",
    "meta-guests": "10 voyageurs",
    "meta-pool": "Piscine sécurisée",
    "meta-parking": "Parking privé",
    "meta-ac": "Climatisation",
    "atouts-eyebrow": "Pourquoi ici",
    "atouts-title": "Les atouts pour vos séjours",
    "atouts-subtitle": "Un mas provençal de 185 m2 tout en lumière, à proximité des commerces et à 4 km de Saint-Rémy-de-Provence.",
    "atout1-title": "Piscine sécurisée",
    "atout1-desc": "Jardin de 2000 m2 parfumé à la lavande et aux oliviers avec piscine privée et sécurisée pour une détente absolue.",
    "atout2-title": "Espace généreux",
    "atout2-desc": "185 m2 habitables entièrement climatisés avec 10 couchages, idéal pour familles et groupes d'amis.",
    "atout3-title": "Emplacement idéal",
    "atout3-desc": "À 4 km de Saint-Rémy-de-Provence, proche des Alpilles et des plus beaux villages de Provence.",
    "photos-eyebrow": "Visite virtuelle",
    "photos-title": "Découvrez chaque espace",
    "photos-subtitle": "Une visite guidée du Mas Airaga, pièce par pièce.",
    "space-outdoor-title": "Piscine et extérieurs",
    "space-outdoor-desc": "Jardin de 2000 m2 avec piscine privée sécurisée, lavande et oliviers. Parfait pour se détendre en plein air.",
    "space-living-title": "Salon et espaces de vie",
    "space-living-desc": "Salon lumineux et spacieux avec TV, climatisation et grandes fenêtres donnant sur le jardin.",
    "space-kitchen-title": "Cuisine et salle à manger",
    "space-kitchen-desc": "Cuisine entièrement équipée avec machine à café, lave-vaisselle et grande table à manger pour partager vos repas.",
    "space-bedrooms-title": "Chambres (4 chambres, 10 couchages)",
    "space-bedrooms-desc": "Chambres confortables avec literie de qualité.",
    "bedroom1-title": "Chambre 1 (RDC) - Salle de douche en suite",
    "bedroom1-desc": "Lit queen",
    "bedroom23-title": "Chambres 2 & 3 (Étage) - Salle de bain attenante",
    "bedroom23-desc": "Lits queen avec canapés-lits simples",
    "bedroom4-title": "Chambre 4 (Étage) - Master bedroom, salle de douche en suite",
    "bedroom4-desc": "Lit queen avec canapé-lit",
    "space-bathrooms-title": "Salles de bain (3 salles de bain complètes)",
    "space-bathrooms-desc": "Trois salles de bain modernes avec douche, WC et tous les équipements nécessaires.",
    "space-extras-title": "Équipements et loisirs",
    "space-extras-desc": "Table de ping-pong, barbecue, terrasse ombragée et tout le confort pour profiter de vos vacances.",
    "amenities-eyebrow": "Équipements",
    "amenities-title": "Ce qui est inclus",
    "amenity1": "Climatisation intégrale & chauffage",
    "amenity2": "Piscine privée sécurisée",
    "amenity3": "Jardin 2000 m2 (lavande, oliviers)",
    "amenity4": "Wi-Fi haut débit",
    "amenity5": "10 couchages (4 chambres)",
    "amenity6": "Cuisine entièrement équipée",
    "amenity7": "Lave-linge et sèche-linge",
    "amenity8": "Terrasse avec mobilier de jardin",
    "amenity9": "Parking privé",
    "amenity10": "Linge de maison fourni",
    "amenity11": "À 4 km de Saint-Rémy-de-Provence",
    "amenity12": "Proche commerces et restaurants",
    "location-eyebrow": "Autour de vous",
    "location-title": "Localisation",
    "location-subtitle": "Eyragues, Bouches-du-Rhône. Idéalement situé à proximité des commerces, à 4 km de Saint-Rémy-de-Provence et au cœur de la Provence.",
    "access-title": "Temps d'accès",
    "access-times": "Saint-Rémy : 4 km · Avignon : 15 min · Arles : 30 min · Aéroport Marseille : 1h",
    "booking-eyebrow": "Réservation",
    "booking-title": "Réservez en direct ou sur Airbnb",
    "booking-subtitle": "Profitez du meilleur prix en direct. Indiquez vos dates, nous répondons rapidement.",
    "form-name": "Prénom et nom",
    "form-email": "Email",
    "form-phone": "Téléphone",
    "form-adults": "Adultes",
    "form-children": "Enfants",
    "form-checkin": "Arrivée",
    "form-checkout": "Départ",
    "form-message": "Message",
    "form-submit": "Demander une disponibilité",
    "booking-nights": "Nuits",
    "booking-rate": "Hébergement",
    "booking-tax": "Taxe de séjour",
    "booking-total": "Total estimé",
    "badge-quick": "Réponse rapide",
    "aside-title": "Tarif direct avantageux",
    "aside-desc": "Contact direct propriétaire. Caution et contrat simple. Paiement sécurisé.",
    "benefits-title": "Avantages de la réservation directe",
    "benefit-1": "Aucun frais Airbnb / Abritel / Booking",
    "benefit-2": "Contact direct avec les propriétaires",
    "benefit-3": "Contrat de location fourni",
    "benefit-4": "Offres spéciales et réductions pour séjours longue durée",
    "btn-email": "Écrire un email",
    "btn-airbnb": "Voir sur Airbnb",
    "contact-owners": "Virginie et Flavien",
    "footer-registration": "Maison meublée déclarée • Eyragues, Provence",
    "footer-contact": "Contact :",
    "reviews-eyebrow": "Avis clients",
    "reviews-title": "Ce que nos voyageurs en pensent",
    "reviews-count": "44 avis",
    "review1-date": "Août 2025",
    "review1-text": "L'emplacement est calme, et la maison confortable. Il y a vraiment de tout, nous nous sommes sentis comme chez nous ! L'hôte est très réactive et ça fait vraiment la différence.",
    "review2-date": "Juillet 2025",
    "review2-text": "Maison incroyable et spacieuse, très confortable et bien équipée. Super jardin et piscine. Très propre et dans un bon emplacement.",
    "review3-date": "Août 2025",
    "review3-text": "Magnifique maison pour une grande famille ! Superbe cour et piscine. Maison bien équipée et exactement comme sur les photos. Communication parfaite !",
    "review4-date": "Août 2024",
    "review4-text": "Un séjour incroyable ! Maison très spacieuse, nombreuses commodités et piscine géniale. Virginie a été super réactive. Je recommande fortement !",
    "review5-date": "Juillet 2023",
    "review5-text": "Maison magnifique, propre et très bien entretenue dans un endroit calme et reposant. Un excellent séjour !",
    "review6-date": "Août 2023",
    "review6-text": "Superbe maison avec piscine. Tous les équipements étaient là. Belle chambre spacieuse et moderne. Parfaite pour les familles !",
    "reviews-see-all": "Voir les 44 avis sur Airbnb",
    "pricing-eyebrow": "Tarifs",
    "pricing-title": "Tarifs & Conditions",
    "pricing-subtitle": "Tarifs transparents pour votre séjour au Mas Airaga",
    "pricing-standard-title": "Tarif Standard",
    "pricing-standard-period": "17 avril au 3 juillet & 29 août au 3 octobre",
    "pricing-standard-rate": "500€ / nuit",
    "pricing-standard-min": "Minimum 4 nuits",
    "pricing-standard-degressive": "Tarif dégressif",
    "pricing-standard-5nights": "5 nuits : 2 400€",
    "pricing-standard-6nights": "6 nuits : 2 700€",
    "pricing-standard-7nights": "7 nuits : 2 900€",
    "pricing-standard-15nights": "15 nuits : 5 000€",
    "pricing-high-title": "Haute Saison",
    "pricing-high-period": "4 juillet au 28 août",
    "pricing-high-rate": "3 900€ / semaine",
    "pricing-high-constraint": "Arrivée/départ : samedi uniquement",
    "pricing-included": "Ménage et linge de maison inclus",
    "pricing-deposit": "Caution : 1 500€",
    "pricing-tax": "Tarif hors Taxe de séjour",
    "pricing-closed": "Fermé avant le 17 avril et après le 3 octobre 2026",
    "faq-eyebrow": "Questions fréquentes",
    "faq-title": "Informations pratiques",
    "faq-checkin-q": "Horaires d'arrivée et de départ",
    "faq-checkin-a": "Arrivée : 17h - 23h · Départ : 8h - 10h",
    "faq-pets-q": "Animaux acceptés ?",
    "faq-pets-a": "Oui, avec supplément de 200€",
    "faq-smoking-q": "Peut-on fumer ?",
    "faq-smoking-a": "Interdit à l'intérieur, autorisé en extérieur",
    "calculator-title": "Calculateur de prix",
    "calculator-subtitle": "Estimez le coût de votre séjour",
    "calculator-checkin": "Date d'arrivée",
    "calculator-checkout": "Date de départ",
    "calculator-adults": "Adultes (18 ans et +)",
    "calculator-children": "Enfants (- de 18 ans)",
    "calculator-nights": "Nombre de nuits",
    "calculator-guests": "Voyageurs",
    "calculator-rate": "Tarif hébergement",
    "calculator-tourism-tax": "Taxe de séjour",
    "calculator-total": "Total TTC",
    "calculator-send-email": "Envoyer une demande de réservation",
    "calendarBlocked": "Cette date n'est pas disponible. Veuillez en choisir une autre.",
    "calendar-title": "Calendrier des disponibilités",
    "calendar-subtitle": "Dates disponibles et réservées",
    "legend-available": "Disponible",
    "legend-blocked": "Réservé",
    "legend-closed": "Fermé",
    "around-eyebrow": "Les Alentours",
    "around-title": "Découvrez les Alpilles",
    "around-subtitle": "Sites naturels, villages perchés et patrimoine provençal à explorer autour du Mas Airaga",
    "around-nature-title": "Nature & Paysages",
    "around-nature-desc": "Randonnées dans les Alpilles, champs de lavande, oliveraies centenaires",
    "around-villages-title": "Villages & Patrimoine",
    "around-villages-desc": "Les Baux-de-Provence, Saint-Rémy, Arles, Avignon et leurs marchés provençaux",
    "around-culture-title": "Culture & Art de vivre",
    "around-culture-desc": "Caves viticoles, moulins à huile, antiquités et gastronomie locale",
    "around-activity1": "Saint-Rémy-de-Provence",
    "around-activity1-desc": "Village provençal authentique avec son célèbre marché, à 4 km",
    "around-activity2": "Les Baux-de-Provence",
    "around-activity2-desc": "Village médiéval perché classé parmi les plus beaux villages de France",
    "around-activity3": "Alpilles",
    "around-activity3-desc": "Parc naturel régional avec sentiers de randonnée et panoramas",
    "around-activity4": "Avignon",
    "around-activity4-desc": "Palais des Papes et festival de théâtre, à 15 minutes",
    "around-activity5": "Arles",
    "around-activity5-desc": "Arènes romaines et patrimoine Van Gogh, à 30 minutes",
    "around-activity6": "Vignobles",
    "around-activity6-desc": "Route des vins des Alpilles et dégustations dans les domaines"
  },
  en: {
    "page-title": "Mas Airaga - Charming House in Eyragues",
    "nav-atouts": "Features",
    "nav-photos": "Photos",
    "nav-amenities": "Amenities",
    "nav-pricing": "Pricing",
    "nav-location": "Location",
    "nav-book": "Book",
    "hero-eyebrow": "Villa with pool",
    "hero-title": "Very nice \"Mas Airaga\" in a quiet location, 4 km from St-Rémy",
    "hero-lead": "Fully air-conditioned farmhouse, full of light, 185 m2 of living space. Garden scented with lavender and olive trees on approximately 2000 m2 with secure swimming pool. RELAXATION GUARANTEED!",
    "cta-book": "Book direct",
    "cta-discover": "Discover the house",
    "meta-guests": "10 guests",
    "meta-pool": "Secure pool",
    "meta-parking": "Private parking",
    "meta-ac": "Air conditioning",
    "atouts-eyebrow": "Why here",
    "atouts-title": "Features for your stay",
    "atouts-subtitle": "A 185 m2 Provençal farmhouse full of light, close to shops and 4 km from Saint-Rémy-de-Provence.",
    "atout1-title": "Secure swimming pool",
    "atout1-desc": "2000 m2 garden scented with lavender and olive trees with private secure swimming pool for absolute relaxation.",
    "atout2-title": "Generous space",
    "atout2-desc": "185 m2 of fully air-conditioned living space with 10 beds, ideal for families and groups of friends.",
    "atout3-title": "Ideal location",
    "atout3-desc": "4 km from Saint-Rémy-de-Provence, close to the Alpilles and the most beautiful villages of Provence.",
    "photos-eyebrow": "Virtual tour",
    "photos-title": "Discover each space",
    "photos-subtitle": "A guided tour of Mas Airaga, room by room.",
    "space-outdoor-title": "Pool and outdoor areas",
    "space-outdoor-desc": "2000 m2 garden with private secure pool, lavender and olive trees. Perfect for relaxing outdoors.",
    "space-living-title": "Living room and common areas",
    "space-living-desc": "Bright and spacious living room with TV, air conditioning and large windows overlooking the garden.",
    "space-kitchen-title": "Kitchen and dining room",
    "space-kitchen-desc": "Fully equipped kitchen with coffee machine, dishwasher and large dining table for sharing your meals.",
    "space-bedrooms-title": "Bedrooms (4 bedrooms, 10 beds)",
    "space-bedrooms-desc": "Comfortable bedrooms with quality bedding.",
    "bedroom1-title": "Bedroom 1 (Ground floor) - Ensuite shower room",
    "bedroom1-desc": "Queen bed",
    "bedroom23-title": "Bedrooms 2 & 3 (Upstairs) - Adjacent bathroom",
    "bedroom23-desc": "Queen beds with single sofa beds",
    "bedroom4-title": "Bedroom 4 (Upstairs) - Master bedroom, ensuite shower room",
    "bedroom4-desc": "Queen bed with sofa bed",
    "space-bathrooms-title": "Bathrooms (3 full bathrooms)",
    "space-bathrooms-desc": "Three modern bathrooms with shower, toilet and all necessary amenities.",
    "space-extras-title": "Amenities and leisure",
    "space-extras-desc": "Ping-pong table, barbecue, shaded terrace and all the comfort to enjoy your vacation.",
    "amenities-eyebrow": "Amenities",
    "amenities-title": "What's included",
    "amenity1": "Full air conditioning & heating",
    "amenity2": "Private secure swimming pool",
    "amenity3": "2000 m2 garden (lavender, olive trees)",
    "amenity4": "High-speed Wi-Fi",
    "amenity5": "10 beds (4 bedrooms)",
    "amenity6": "Fully equipped kitchen",
    "amenity7": "Washer and dryer",
    "amenity8": "Terrace with garden furniture",
    "amenity9": "Private parking",
    "amenity10": "Bed linen provided",
    "amenity11": "4 km from Saint-Rémy-de-Provence",
    "amenity12": "Close to shops and restaurants",
    "location-eyebrow": "Around you",
    "location-title": "Location",
    "location-subtitle": "Eyragues, Bouches-du-Rhône. Ideally located close to shops, 4 km from Saint-Rémy-de-Provence and in the heart of Provence.",
    "access-title": "Access times",
    "access-times": "Saint-Rémy: 4 km · Avignon: 15 min · Arles: 30 min · Marseille Airport: 1h",
    "booking-eyebrow": "Booking",
    "booking-title": "Book direct or on Airbnb",
    "booking-subtitle": "Enjoy the best price by booking direct. Tell us your dates, we'll respond quickly.",
    "form-name": "First and last name",
    "form-email": "Email",
    "form-phone": "Phone",
    "form-adults": "Adults",
    "form-children": "Children",
    "form-checkin": "Check-in",
    "form-checkout": "Check-out",
    "form-message": "Message",
    "form-submit": "Request availability",
    "booking-nights": "Nights",
    "booking-rate": "Accommodation",
    "booking-tax": "Tourist tax",
    "booking-total": "Estimated total",
    "badge-quick": "Quick response",
    "aside-title": "Advantageous direct rate",
    "aside-desc": "Direct contact with owner. Simple deposit and contract. Secure payment.",
    "benefits-title": "Benefits of booking direct",
    "benefit-1": "No Airbnb / Abritel / Booking fees",
    "benefit-2": "Direct contact with the owners",
    "benefit-3": "Rental contract provided",
    "benefit-4": "Special offers and discounts for long stays",
    "btn-email": "Send an email",
    "btn-airbnb": "View on Airbnb",
    "contact-owners": "Virginie and Flavien",
    "footer-registration": "Registered furnished accommodation • Eyragues, Provence",
    "footer-contact": "Contact:",
    "around-eyebrow": "Surroundings",
    "around-title": "Discover the Alpilles",
    "around-subtitle": "Natural sites, hilltop villages and Provencal heritage to explore around Mas Airaga",
    "around-nature-title": "Nature & Landscapes",
    "around-nature-desc": "Hiking in the Alpilles, lavender fields, century-old olive groves",
    "around-villages-title": "Villages & Heritage",
    "around-villages-desc": "Perched villages, Provencal markets, historical monuments",
    "around-culture-title": "Culture & Lifestyle",
    "around-culture-desc": "Wine estates, local crafts, Provencal gastronomy",
    "around-saintrem-title": "Saint-Rémy-de-Provence",
    "around-saintrem-desc": "Picturesque town with Provencal market, Van Gogh trail and authentic charm",
    "around-saintrem-distance": "4 km",
    "around-lesbaux-title": "Les Baux-de-Provence",
    "around-lesbaux-desc": "Medieval village perched on a rocky outcrop with breathtaking views",
    "around-lesbaux-distance": "12 km",
    "around-alpilles-title": "Alpilles Regional Park",
    "around-alpilles-desc": "Hiking trails, cycling, exceptional flora and fauna",
    "around-alpilles-distance": "In the heart",
    "around-avignon-title": "Avignon",
    "around-avignon-desc": "Papal City, Palais des Papes, Pont d'Avignon, summer festival",
    "around-avignon-distance": "25 km",
    "around-arles-title": "Arles",
    "around-arles-desc": "Roman arenas, Van Gogh heritage, Camargue gateway",
    "around-arles-distance": "30 km",
    "around-vineyards-title": "Vineyards",
    "around-vineyards-desc": "Wine estates, wine tastings, Châteauneuf-du-Pape and Provence wines",
    "around-vineyards-distance": "5-20 km",
    "reviews-eyebrow": "Guest reviews",
    "reviews-title": "What our guests think",
    "reviews-count": "44 reviews",
    "review1-date": "August 2025",
    "review1-text": "The location is quiet, and the house is comfortable. There's really everything, we felt at home! The host is very responsive and it really makes a difference.",
    "review2-date": "July 2025",
    "review2-text": "Amazing and spacious house, very comfortable and well equipped. Great garden and pool. Very clean and in a good location.",
    "review3-date": "August 2025",
    "review3-text": "Beautiful house for a large family! Superb yard and pool. House well equipped and exactly as in the photos. Perfect communication!",
    "review4-date": "August 2024",
    "review4-text": "An incredible stay! Very spacious house, numerous amenities and great pool. Virginie was super responsive. I highly recommend!",
    "review5-date": "July 2023",
    "review5-text": "Beautiful house, clean and very well maintained in a quiet and relaxing place. An excellent stay!",
    "review6-date": "August 2023",
    "review6-text": "Superb house with pool. All the equipment was there. Beautiful spacious and modern room. Perfect for families!",
    "reviews-see-all": "See all 44 reviews on Airbnb",
    "pricing-eyebrow": "Pricing",
    "pricing-title": "Rates & Conditions",
    "pricing-subtitle": "Transparent pricing for your stay at Mas Airaga",
    "pricing-standard-title": "Standard Rate",
    "pricing-standard-period": "April 17 to July 3 & August 29 to October 3",
    "pricing-standard-rate": "€500 / night",
    "pricing-standard-min": "Minimum 4 nights",
    "pricing-standard-degressive": "Degressive rate",
    "pricing-standard-5nights": "5 nights: €2,400",
    "pricing-standard-6nights": "6 nights: €2,700",
    "pricing-standard-7nights": "7 nights: €2,900",
    "pricing-standard-15nights": "15 nights: €5,000",
    "pricing-high-title": "High Season",
    "pricing-high-period": "July 4 to August 28",
    "pricing-high-rate": "€3,900 / week",
    "pricing-high-constraint": "Check-in/out: Saturday only",
    "pricing-included": "Cleaning and linens included",
    "pricing-deposit": "Deposit: €1,500",
    "pricing-tax": "Price excluding tourist tax",
    "pricing-closed": "Closed before April 17 and after October 3, 2026",
    "faq-eyebrow": "FAQ",
    "faq-title": "Practical Information",
    "faq-checkin-q": "Check-in and check-out times",
    "faq-checkin-a": "Check-in: 5pm - 11pm · Check-out: 8am - 10am",
    "faq-pets-q": "Pets allowed?",
    "faq-pets-a": "Yes, with €200 surcharge",
    "faq-smoking-q": "Smoking allowed?",
    "faq-smoking-a": "Forbidden indoors, allowed outdoors",
    "calculator-title": "Price Calculator",
    "calculator-subtitle": "Estimate the cost of your stay",
    "calculator-checkin": "Check-in date",
    "calculator-checkout": "Check-out date",
    "calculator-adults": "Adults (18 years and over)",
    "calculator-children": "Children (under 18)",
    "calculator-nights": "Number of nights",
    "calculator-guests": "Guests",
    "calculator-rate": "Accommodation rate",
    "calculator-tourism-tax": "Tourist tax",
    "calculator-total": "Total incl. tax",
    "calculator-send-email": "Send booking request",
    "calendarBlocked": "This date is not available. Please choose another one.",
    "calendar-title": "Availability Calendar",
    "calendar-subtitle": "Available and reserved dates",
    "legend-available": "Available",
    "legend-blocked": "Reserved",
    "legend-closed": "Closed",
  },
  nl: {
    "page-title": "Mas Airaga - Charmant vakantiehuis in Eyragues",
    "nav-atouts": "Voordelen",
    "nav-photos": "Foto's",
    "nav-amenities": "Voorzieningen",
    "nav-pricing": "Tarieven",
    "nav-location": "Locatie",
    "nav-book": "Reserveren",
    "hero-eyebrow": "Villa met zwembad",
    "hero-title": "Prachtige \"Mas Airaga\" in alle rust, 4 km van St-Rémy",
    "hero-lead": "Volledig geklimatiseerde mas, vol licht, 185 m2 woonoppervlak. Geparfumeerde tuin met lavendel en olijfbomen van ca. 2000 m2 met beveiligd zwembad. ONTSPANNING GEGARANDEERD!",
    "cta-book": "Direct reserveren",
    "cta-discover": "Ontdek het huis",
    "meta-guests": "10 gasten",
    "meta-pool": "Beveiligd zwembad",
    "meta-parking": "Privé parking",
    "meta-ac": "Airconditioning",
    "atouts-eyebrow": "Waarom hier",
    "atouts-title": "De voordelen voor uw verblijf",
    "atouts-subtitle": "Een Provençaalse mas van 185 m2 vol licht, nabij winkels en op 4 km van Saint-Rémy-de-Provence.",
    "atout1-title": "Beveiligd zwembad",
    "atout1-desc": "Tuin van 2000 m2 geparfumeerd met lavendel en olijfbomen met privé beveiligd zwembad voor absolute ontspanning.",
    "atout2-title": "Ruime ruimte",
    "atout2-desc": "185 m2 woonoppervlak volledig geklimatiseerd met 10 slaapplaatsen, ideaal voor gezinnen en vriendengroepen.",
    "atout3-title": "Ideale locatie",
    "atout3-desc": "Op 4 km van Saint-Rémy-de-Provence, dicht bij de Alpilles en de mooiste dorpen van de Provence.",
    "photos-eyebrow": "Virtuele rondleiding",
    "photos-title": "Ontdek elke ruimte",
    "photos-subtitle": "Een rondleiding door Mas Airaga, kamer per kamer.",
    "space-outdoor-title": "Zwembad en buitenruimte",
    "space-outdoor-desc": "Tuin van 2000 m2 met privé beveiligd zwembad, lavendel en olijfbomen. Perfect om buiten te ontspannen.",
    "space-living-title": "Woonkamer en leefruimtes",
    "space-living-desc": "Lichte en ruime woonkamer met TV, airconditioning en grote ramen met uitzicht op de tuin.",
    "space-kitchen-title": "Keuken en eetkamer",
    "space-kitchen-desc": "Volledig uitgeruste keuken met koffiezetapparaat, vaatwasser en grote eettafel om uw maaltijden te delen.",
    "space-bedrooms-title": "Slaapkamers (4 slaapkamers, 10 slaapplaatsen)",
    "space-bedrooms-desc": "Comfortabele slaapkamers met kwaliteitsbeddengoed.",
    "bedroom1-title": "Slaapkamer 1 (begane grond) - En-suite doucheruimte",
    "bedroom1-desc": "Queensize bed",
    "bedroom23-title": "Slaapkamers 2 & 3 (verdieping) - Aangrenzende badkamer",
    "bedroom23-desc": "Queensize bedden met eenpersoonsslaapbanken",
    "bedroom4-title": "Slaapkamer 4 (verdieping) - Master bedroom, en-suite doucheruimte",
    "bedroom4-desc": "Queensize bed met slaapbank",
    "space-bathrooms-title": "Badkamers (3 complete badkamers)",
    "space-bathrooms-desc": "Drie moderne badkamers met douche, toilet en alle nodige voorzieningen.",
    "space-extras-title": "Uitrusting en ontspanning",
    "space-extras-desc": "Tafeltennistafel, barbecue, schaduwrijk terras en al het comfort om van uw vakantie te genieten.",
    "amenities-eyebrow": "Voorzieningen",
    "amenities-title": "Wat is inbegrepen",
    "amenity1": "Volledige airconditioning & verwarming",
    "amenity2": "Privé beveiligd zwembad",
    "amenity3": "Tuin 2000 m2 (lavendel, olijfbomen)",
    "amenity4": "Snel Wi-Fi",
    "amenity5": "10 slaapplaatsen (4 slaapkamers)",
    "amenity6": "Volledig uitgeruste keuken",
    "amenity7": "Wasmachine en droger",
    "amenity8": "Terras met tuinmeubilair",
    "amenity9": "Privé parking",
    "amenity10": "Huishoudlinnen verstrekt",
    "amenity11": "Op 4 km van Saint-Rémy-de-Provence",
    "amenity12": "Dicht bij winkels en restaurants",
    "location-eyebrow": "Rondom u",
    "location-title": "Locatie",
    "location-subtitle": "Eyragues, Bouches-du-Rhône. Ideaal gelegen nabij winkels, 4 km van Saint-Rémy-de-Provence en in het hart van de Provence.",
    "access-title": "Toegangstijden",
    "access-times": "Saint-Rémy: 4 km · Avignon: 15 min · Arles: 30 min · Luchthaven Marseille: 1u",
    "booking-eyebrow": "Reservering",
    "booking-title": "Rechtstreeks reserveren of via Airbnb",
    "booking-subtitle": "Profiteer van de beste prijs rechtstreeks. Geef uw datums op, wij reageren snel.",
    "form-name": "Voor- en achternaam",
    "form-email": "E-mail",
    "form-phone": "Telefoon",
    "form-adults": "Volwassenen",
    "form-children": "Kinderen",
    "form-checkin": "Aankomst",
    "form-checkout": "Vertrek",
    "form-message": "Bericht",
    "form-submit": "Beschikbaarheid aanvragen",
    "booking-nights": "Nachten",
    "booking-rate": "Accommodatie",
    "booking-tax": "Toeristenbelasting",
    "booking-total": "Geschat totaal",
    "badge-quick": "Snelle reactie",
    "aside-title": "Voordelig direct tarief",
    "aside-desc": "Direct contact met eigenaar. Borg en eenvoudig contract. Veilige betaling.",
    "benefits-title": "Voordelen van directe reservering",
    "benefit-1": "Geen kosten Airbnb / Abritel / Booking",
    "benefit-2": "Direct contact met de eigenaren",
    "benefit-3": "Huurcontract verstrekt",
    "benefit-4": "Speciale aanbiedingen en kortingen voor langdurig verblijf",
    "btn-email": "E-mail versturen",
    "btn-airbnb": "Bekijk op Airbnb",
    "contact-owners": "Virginie en Flavien",
    "footer-registration": "Gemeubileerd huis gedeclareerd • Eyragues, Provence",
    "footer-contact": "Contact:",
    "reviews-eyebrow": "Klantbeoordelingen",
    "reviews-title": "Wat onze gasten ervan vinden",
    "reviews-count": "44 beoordelingen",
    "review1-date": "Augustus 2025",
    "review1-text": "We hadden een geweldige tijd in het prachtige huis van Virginie en Flavien in Eyragues. Het had alles wat we nodig hadden voor twee kleine kinderen en de gastheren waren extreem responsief en behulpzaam tijdens ons verblijf. We vonden het heerlijk om op loopafstand van het dorp te zijn en slechts 10 minuten rijden van Saint-Rémy!",
    "review2-date": "Juli 2025",
    "review2-text": "We hadden een geweldig verblijf - het huis is ruim, comfortabel en goed uitgerust. Uitstekende airconditioning in elke kamer. Mooi zwembadgedeelte met een tafeltennistafel en BBQ. Gemakkelijk te wandelen naar het nabijgelegen dorp. Korte rit naar St Rémy, een klassiek Provençaals stadje.",
    "review3-date": "Augustus 2025",
    "review3-text": "We verbleven hier een week met een groot gezin. De vier slaapkamers waren allemaal groot en ruim voor onze 7 gasten. De tuin was zeer indrukwekkend met een zwembad van mooie omvang. De tafeltennistafel was een leuke toevoeging. De gastheer zorgde voor een goed babyledikant voor onze pasgeborene.",
    "review4-date": "Augustus 2024",
    "review4-text": "Ons verblijf was behoorlijk idyllisch - mooi huis in een charmante buurt. Het huis was uitzonderlijk goed uitgerust en Virginie was zeer responsief. Eyragues is een beetje licht op eetgelegenheden, maar verder weg (St Rémy) was de keuze uitstekend.",
    "review5-date": "Juli 2023",
    "review5-text": "We hadden een magisch verblijf in de Provence. Het was de perfecte plek om de steden en dorpen te verkennen en alles wat deze regio te bieden heeft, terwijl we een plek hadden om terug te keren om te ontspannen en af te koelen. Het huis was perfect voor ons gezin en kinderen - mooi, schoon en Virginie was een geweldige gastvrouw.",
    "review6-date": "Augustus 2023",
    "review6-text": "Dit huis is ongelooflijk. Het overtrof onze verwachtingen qua locatie. Eyragues is een briljant dorp met alles wat je nodig hebt: bakker, winkel, bar, restaurants. Het huis is onberispelijk. Prachtige kamers en badkamers en de buitenruimtes zijn perfect.",
    "reviews-see-all": "Bekijk alle 44 beoordelingen op Airbnb",
    "pricing-eyebrow": "Tarieven",
    "pricing-title": "Tarieven & Voorwaarden",
    "pricing-subtitle": "Transparante tarieven voor uw verblijf in Mas Airaga",
    "pricing-standard-title": "Standaard tarief",
    "pricing-standard-period": "17 april tot 3 juli & 29 augustus tot 3 oktober",
    "pricing-standard-rate": "€500 / nacht",
    "pricing-standard-min": "Minimaal 4 nachten",
    "pricing-standard-degressive": "Degressief tarief",
    "pricing-standard-5nights": "5 nachten: €2.400",
    "pricing-standard-6nights": "6 nachten: €2.700",
    "pricing-standard-7nights": "7 nachten: €2.900",
    "pricing-standard-15nights": "15 nachten: €5.000",
    "pricing-high-title": "Hoogseizoen",
    "pricing-high-period": "4 juli tot 28 augustus",
    "pricing-high-rate": "€3.900 / week",
    "pricing-high-constraint": "Aankomst/vertrek: alleen zaterdag",
    "pricing-included": "Schoonmaak en huishoudlinnen inbegrepen",
    "pricing-deposit": "Borg: €1.500",
    "pricing-tax": "Tarief excl. toeristenbelasting",
    "pricing-closed": "Gesloten vóór 17 april en na 3 oktober 2026",
    "faq-eyebrow": "Veelgestelde vragen",
    "faq-title": "Praktische informatie",
    "faq-checkin-q": "Check-in en check-out tijden",
    "faq-checkin-a": "Aankomst: 17u - 23u · Vertrek: 8u - 10u",
    "faq-pets-q": "Huisdieren toegestaan?",
    "faq-pets-a": "Ja, met toeslag van €200",
    "faq-smoking-q": "Roken toegestaan?",
    "faq-smoking-a": "Verboden binnen, toegestaan buiten",
    "calculator-title": "Prijscalculator",
    "calculator-subtitle": "Schat de kosten van uw verblijf",
    "calculator-checkin": "Aankomstdatum",
    "calculator-checkout": "Vertrekdatum",
    "calculator-adults": "Volwassenen (18 jaar en ouder)",
    "calculator-children": "Kinderen (jonger dan 18)",
    "calculator-nights": "Aantal nachten",
    "calculator-guests": "Gasten",
    "calculator-rate": "Accommodatietarief",
    "calculator-tourism-tax": "Toeristenbelasting",
    "calculator-total": "Totaal incl. belasting",
    "calculator-send-email": "Reserveringsverzoek versturen",
    "calendarBlocked": "Deze datum is niet beschikbaar. Kies een andere datum.",
    "calendar-title": "Beschikbaarheidskalender",
    "calendar-subtitle": "Beschikbare en gereserveerde data",
    "legend-available": "Beschikbaar",
    "legend-blocked": "Gereserveerd",
    "legend-closed": "Gesloten",
    "around-eyebrow": "De omgeving",
    "around-title": "Ontdek de Alpilles",
    "around-subtitle": "Natuurgebieden, bergdorpen en Provençaals erfgoed om te verkennen rond Mas Airaga",
    "around-nature-title": "Natuur & Landschappen",
    "around-nature-desc": "Wandelingen in de Alpilles, lavendelvelden, eeuwenoude olijfgaarden",
    "around-villages-title": "Dorpen & Erfgoed",
    "around-villages-desc": "Bergdorpen, Provençaalse markten, historische monumenten",
    "around-culture-title": "Cultuur & Levenskunst",
    "around-culture-desc": "Wijndomeinen, lokaal ambacht, Provençaalse gastronomie",
    "around-saintrem-title": "Saint-Rémy-de-Provence",
    "around-saintrem-desc": "Pittoresk stadje met Provençaalse markt, Van Gogh-pad en authentieke charme",
    "around-saintrem-distance": "4 km",
    "around-lesbaux-title": "Les Baux-de-Provence",
    "around-lesbaux-desc": "Middeleeuws dorp op een rotsachtige uitloper met adembenemend uitzicht",
    "around-lesbaux-distance": "12 km",
    "around-alpilles-title": "Natuurpark Alpilles",
    "around-alpilles-desc": "Wandelpaden, fietsen, uitzonderlijke flora en fauna",
    "around-alpilles-distance": "In het hart",
    "around-avignon-title": "Avignon",
    "around-avignon-desc": "Pausenstad, Pausenpaleis, Brug van Avignon, zomerfestival",
    "around-avignon-distance": "25 km",
    "around-arles-title": "Arles",
    "around-arles-desc": "Romeinse arena, Van Gogh-erfgoed, poort naar de Camargue",
    "around-arles-distance": "30 km",
    "around-vineyards-title": "Wijngaarden",
    "around-vineyards-desc": "Wijndomeinen, proeverijen, Châteauneuf-du-Pape en wijnen van de Provence",
    "around-vineyards-distance": "5-20 km"
  },
  de: {
    "page-title": "Mas Airaga - Charmantes Ferienhaus in Eyragues",
    "nav-atouts": "Vorteile",
    "nav-photos": "Fotos",
    "nav-amenities": "Ausstattung",
    "nav-pricing": "Preise",
    "nav-location": "Lage",
    "nav-book": "Buchen",
    "hero-eyebrow": "Villa mit Pool",
    "hero-title": "Wunderschönes \"Mas Airaga\" in Ruhe, 4 km von St-Rémy",
    "hero-lead": "Voll klimatisiertes Mas, lichtdurchflutet, 185 m2 Wohnfläche. Nach Lavendel und Olivenbäumen duftender Garten von ca. 2000 m2 mit gesichertem Pool. ENTSPANNUNG GARANTIERT!",
    "cta-book": "Direkt buchen",
    "cta-discover": "Haus entdecken",
    "meta-guests": "10 Gäste",
    "meta-pool": "Gesicherter Pool",
    "meta-parking": "Privater Parkplatz",
    "meta-ac": "Klimaanlage",
    "atouts-eyebrow": "Warum hier",
    "atouts-title": "Die Vorteile für Ihren Aufenthalt",
    "atouts-subtitle": "Ein provenzalisches Mas von 185 m2 voller Licht, in der Nähe von Geschäften und 4 km von Saint-Rémy-de-Provence entfernt.",
    "atout1-title": "Gesicherter Pool",
    "atout1-desc": "Garten von 2000 m2, duftend nach Lavendel und Olivenbäumen mit privatem gesicherten Pool für absolute Entspannung.",
    "atout2-title": "Großzügiger Raum",
    "atout2-desc": "185 m2 Wohnfläche vollständig klimatisiert mit 10 Schlafplätzen, ideal für Familien und Freundesgruppen.",
    "atout3-title": "Ideale Lage",
    "atout3-desc": "4 km von Saint-Rémy-de-Provence, in der Nähe der Alpilles und der schönsten Dörfer der Provence.",
    "photos-eyebrow": "Virtuelle Tour",
    "photos-title": "Entdecken Sie jeden Raum",
    "photos-subtitle": "Eine Führung durch Mas Airaga, Zimmer für Zimmer.",
    "space-outdoor-title": "Pool und Außenbereich",
    "space-outdoor-desc": "Garten von 2000 m2 mit privatem gesicherten Pool, Lavendel und Olivenbäumen. Perfekt zum Entspannen im Freien.",
    "space-living-title": "Wohnzimmer und Wohnbereiche",
    "space-living-desc": "Helles und geräumiges Wohnzimmer mit TV, Klimaanlage und großen Fenstern mit Blick auf den Garten.",
    "space-kitchen-title": "Küche und Esszimmer",
    "space-kitchen-desc": "Voll ausgestattete Küche mit Kaffeemaschine, Geschirrspüler und großem Esstisch zum Teilen Ihrer Mahlzeiten.",
    "space-bedrooms-title": "Schlafzimmer (4 Schlafzimmer, 10 Schlafplätze)",
    "space-bedrooms-desc": "Komfortable Schlafzimmer mit hochwertiger Bettwäsche.",
    "bedroom1-title": "Schlafzimmer 1 (Erdgeschoss) - En-suite Duschbad",
    "bedroom1-desc": "Queensize-Bett",
    "bedroom23-title": "Schlafzimmer 2 & 3 (Obergeschoss) - Angrenzendes Badezimmer",
    "bedroom23-desc": "Queensize-Betten mit Einzelschlafsofas",
    "bedroom4-title": "Schlafzimmer 4 (Obergeschoss) - Master-Schlafzimmer, en-suite Duschbad",
    "bedroom4-desc": "Queensize-Bett mit Schlafsofa",
    "space-bathrooms-title": "Badezimmer (3 komplette Badezimmer)",
    "space-bathrooms-desc": "Drei moderne Badezimmer mit Dusche, WC und allen notwendigen Einrichtungen.",
    "space-extras-title": "Ausstattung und Freizeit",
    "space-extras-desc": "Tischtennisplatte, Grill, schattige Terrasse und allen Komfort, um Ihren Urlaub zu genießen.",
    "amenities-eyebrow": "Ausstattung",
    "amenities-title": "Was ist inbegriffen",
    "amenity1": "Komplette Klimaanlage & Heizung",
    "amenity2": "Privater gesicherter Pool",
    "amenity3": "Garten 2000 m2 (Lavendel, Olivenbäume)",
    "amenity4": "Schnelles WLAN",
    "amenity5": "10 Schlafplätze (4 Schlafzimmer)",
    "amenity6": "Voll ausgestattete Küche",
    "amenity7": "Waschmaschine und Trockner",
    "amenity8": "Terrasse mit Gartenmöbeln",
    "amenity9": "Privater Parkplatz",
    "amenity10": "Haushaltswäsche bereitgestellt",
    "amenity11": "4 km von Saint-Rémy-de-Provence",
    "amenity12": "In der Nähe von Geschäften und Restaurants",
    "location-eyebrow": "Um Sie herum",
    "location-title": "Lage",
    "location-subtitle": "Eyragues, Bouches-du-Rhône. Ideal gelegen in der Nähe von Geschäften, 4 km von Saint-Rémy-de-Provence und im Herzen der Provence.",
    "access-title": "Zugangszeiten",
    "access-times": "Saint-Rémy: 4 km · Avignon: 15 Min · Arles: 30 Min · Flughafen Marseille: 1 Std",
    "booking-eyebrow": "Buchung",
    "booking-title": "Direkt buchen oder über Airbnb",
    "booking-subtitle": "Profitieren Sie vom besten Preis direkt. Geben Sie Ihre Daten an, wir antworten schnell.",
    "form-name": "Vor- und Nachname",
    "form-email": "E-Mail",
    "form-phone": "Telefon",
    "form-adults": "Erwachsene",
    "form-children": "Kinder",
    "form-checkin": "Ankunft",
    "form-checkout": "Abreise",
    "form-message": "Nachricht",
    "form-submit": "Verfügbarkeit anfragen",
    "booking-nights": "Nächte",
    "booking-rate": "Unterkunft",
    "booking-tax": "Kurtaxe",
    "booking-total": "Geschätztes Gesamt",
    "badge-quick": "Schnelle Antwort",
    "aside-title": "Vorteilhafter Direktpreis",
    "aside-desc": "Direkter Kontakt mit dem Eigentümer. Kaution und einfacher Vertrag. Sichere Zahlung.",
    "benefits-title": "Vorteile der Direktbuchung",
    "benefit-1": "Keine Gebühren Airbnb / Abritel / Booking",
    "benefit-2": "Direkter Kontakt mit den Eigentümern",
    "benefit-3": "Mietvertrag bereitgestellt",
    "benefit-4": "Sonderangebote und Ermäßigungen für Langzeitaufenthalte",
    "btn-email": "E-Mail senden",
    "btn-airbnb": "Auf Airbnb ansehen",
    "contact-owners": "Virginie und Flavien",
    "footer-registration": "Möbliertes Haus deklariert • Eyragues, Provence",
    "footer-contact": "Kontakt:",
    "reviews-eyebrow": "Kundenbewertungen",
    "reviews-title": "Was unsere Gäste denken",
    "reviews-count": "44 Bewertungen",
    "review1-date": "August 2025",
    "review1-text": "Wir hatten eine großartige Zeit in Virginie und Flaviens schönem Haus in Eyragues. Es hatte alles, was wir für zwei kleine Kinder brauchten, und die Gastgeber waren während unseres Aufenthalts äußerst reaktionsschnell und zuvorkommend. Wir liebten es, zu Fuß vom Dorf entfernt zu sein und nur 10 Minuten Fahrt von Saint-Rémy!",
    "review2-date": "Juli 2025",
    "review2-text": "Wir hatten einen ausgezeichneten Aufenthalt - das Haus ist geräumig, komfortabel und gut ausgestattet. Ausgezeichnete Klimaanlage in jedem Zimmer. Schöner Poolbereich mit Tischtennisplatte und Grill. Einfach zu Fuß zum nahe gelegenen Dorf. Kurze Fahrt nach St Rémy, einer klassischen provenzalischen Stadt.",
    "review3-date": "August 2025",
    "review3-text": "Wir verbrachten hier eine Woche mit einer großen Familie. Die vier Schlafzimmer waren alle groß und geräumig für unsere 7 Gäste. Der Garten war sehr beeindruckend mit einem schön großen Pool. Die Tischtennisplatte war eine schöne Ergänzung. Der Gastgeber stellte ein gutes Babybett für unser Neugeborenes zur Verfügung.",
    "review4-date": "August 2024",
    "review4-text": "Unser Aufenthalt war ziemlich idyllisch - schönes Haus in einer charmanten Gegend. Das Haus war außergewöhnlich gut ausgestattet und Virginie war sehr reaktionsschnell. Eyragues ist etwas dünn besetzt mit Restaurants, aber weiter entfernt (St Rémy) war die Auswahl ausgezeichnet.",
    "review5-date": "Juli 2023",
    "review5-text": "Wir hatten einen magischen Aufenthalt in der Provence. Es war der perfekte Ort, um die Städte und Dörfer und alles, was diese Region zu bieten hat, zu erkunden, während wir einen Ort hatten, um zurückzukehren, um zu entspannen und abzukühlen. Das Haus war perfekt für unsere Familie und Kinder - schön, sauber und Virginie war eine wunderbare Gastgeberin.",
    "review6-date": "August 2023",
    "review6-text": "Dieses Haus ist unglaublich. Es übertraf unsere Erwartungen in Bezug auf die Lage. Eyragues ist ein brillantes Dorf mit allem, was Sie brauchen: Bäckerei, Laden, Bar, Restaurants. Das Haus ist tadellos. Schöne Zimmer und Badezimmer und die Außenbereiche sind perfekt.",
    "reviews-see-all": "Alle 44 Bewertungen auf Airbnb ansehen",
    "pricing-eyebrow": "Preise",
    "pricing-title": "Preise & Bedingungen",
    "pricing-subtitle": "Transparente Preise für Ihren Aufenthalt im Mas Airaga",
    "pricing-standard-title": "Standardpreis",
    "pricing-standard-period": "17. April bis 3. Juli & 29. August bis 3. Oktober",
    "pricing-standard-rate": "€500 / Nacht",
    "pricing-standard-min": "Mindestens 4 Nächte",
    "pricing-standard-degressive": "Degressiver Preis",
    "pricing-standard-5nights": "5 Nächte: €2.400",
    "pricing-standard-6nights": "6 Nächte: €2.700",
    "pricing-standard-7nights": "7 Nächte: €2.900",
    "pricing-standard-15nights": "15 Nächte: €5.000",
    "pricing-high-title": "Hochsaison",
    "pricing-high-period": "4. Juli bis 28. August",
    "pricing-high-rate": "€3.900 / Woche",
    "pricing-high-constraint": "Ankunft/Abreise: nur Samstag",
    "pricing-included": "Reinigung und Haushaltswäsche inbegriffen",
    "pricing-deposit": "Kaution: €1.500",
    "pricing-tax": "Preis ohne Kurtaxe",
    "pricing-closed": "Geschlossen vor dem 17. April und nach dem 3. Oktober 2026",
    "faq-eyebrow": "Häufig gestellte Fragen",
    "faq-title": "Praktische Informationen",
    "faq-checkin-q": "Check-in und Check-out Zeiten",
    "faq-checkin-a": "Ankunft: 17-23 Uhr · Abreise: 8-10 Uhr",
    "faq-pets-q": "Haustiere erlaubt?",
    "faq-pets-a": "Ja, mit Zuschlag von €200",
    "faq-smoking-q": "Rauchen erlaubt?",
    "faq-smoking-a": "Verboten drinnen, erlaubt draußen",
    "calculator-title": "Preisrechner",
    "calculator-subtitle": "Schätzen Sie die Kosten Ihres Aufenthalts",
    "calculator-checkin": "Ankunftsdatum",
    "calculator-checkout": "Abreisedatum",
    "calculator-adults": "Erwachsene (18 Jahre und älter)",
    "calculator-children": "Kinder (unter 18 Jahren)",
    "calculator-nights": "Anzahl der Nächte",
    "calculator-guests": "Gäste",
    "calculator-rate": "Unterkunftspreis",
    "calculator-tourism-tax": "Kurtaxe",
    "calculator-total": "Gesamt inkl. Steuer",
    "calculator-send-email": "Buchungsanfrage senden",
    "calendarBlocked": "Dieses Datum ist nicht verfügbar. Bitte wählen Sie ein anderes.",
    "calendar-title": "Verfügbarkeitskalender",
    "calendar-subtitle": "Verfügbare und reservierte Termine",
    "legend-available": "Verfügbar",
    "legend-blocked": "Reserviert",
    "legend-closed": "Geschlossen",
    "around-eyebrow": "Die Umgebung",
    "around-title": "Entdecken Sie die Alpilles",
    "around-subtitle": "Naturgebiete, Bergdörfer und provenzalisches Erbe rund um Mas Airaga",
    "around-nature-title": "Natur & Landschaften",
    "around-nature-desc": "Wanderungen in den Alpilles, Lavendelfelder, jahrhundertealte Olivenhaine",
    "around-villages-title": "Dörfer & Erbe",
    "around-villages-desc": "Bergdörfer, provenzalische Märkte, historische Denkmäler",
    "around-culture-title": "Kultur & Lebenskunst",
    "around-culture-desc": "Weingüter, lokales Handwerk, provenzalische Gastronomie",
    "around-saintrem-title": "Saint-Rémy-de-Provence",
    "around-saintrem-desc": "Malerische Stadt mit provenzalischem Markt, Van-Gogh-Pfad und authentischem Charme",
    "around-saintrem-distance": "4 km",
    "around-lesbaux-title": "Les Baux-de-Provence",
    "around-lesbaux-desc": "Mittelalterliches Dorf auf einem Felsvorsprung mit atemberaubender Aussicht",
    "around-lesbaux-distance": "12 km",
    "around-alpilles-title": "Naturpark Alpilles",
    "around-alpilles-desc": "Wanderwege, Radfahren, außergewöhnliche Flora und Fauna",
    "around-alpilles-distance": "Im Herzen",
    "around-avignon-title": "Avignon",
    "around-avignon-desc": "Papststadt, Papstpalast, Brücke von Avignon, Sommerfestival",
    "around-avignon-distance": "25 km",
    "around-arles-title": "Arles",
    "around-arles-desc": "Römische Arena, Van-Gogh-Erbe, Tor zur Camargue",
    "around-arles-distance": "30 km",
    "around-vineyards-title": "Weinberge",
    "around-vineyards-desc": "Weingüter, Verkostungen, Châteauneuf-du-Pape und Weine der Provence",
    "around-vineyards-distance": "5-20 km"
  }
};

// Language switcher
let currentLang = 'fr';

function setLanguage(lang) {
  currentLang = lang;
  document.documentElement.lang = lang;

  // Update all elements with data-i18n attribute
  document.querySelectorAll('[data-i18n]').forEach(element => {
    const key = element.getAttribute('data-i18n');
    if (translations[lang] && translations[lang][key]) {
      element.textContent = translations[lang][key];
    }
  });

  // Update active button
  document.querySelectorAll('.nav-lang-btn').forEach(btn => {
    btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
  });

  // Save preference
  localStorage.setItem('preferred-language', lang);
}

// Language button listeners
document.querySelectorAll('.nav-lang-btn').forEach(btn => {
  btn.addEventListener('click', () => {
    setLanguage(btn.getAttribute('data-lang'));
  });
});

// Load saved language preference or detect browser language
const savedLang = localStorage.getItem('preferred-language');
let browserLang = 'en'; // default to English
if (navigator.language.startsWith('fr')) {
  browserLang = 'fr';
} else if (navigator.language.startsWith('nl')) {
  browserLang = 'nl';
} else if (navigator.language.startsWith('de')) {
  browserLang = 'de';
}
const initialLang = savedLang || browserLang;
setLanguage(initialLang);

// Booking form with intelligent calendar and automatic price calculation
const bookingForm = document.getElementById("bookingForm");
const bookingCheckinInput = document.getElementById("booking-checkin");
const bookingCheckoutInput = document.getElementById("booking-checkout");
const bookingAdultsInput = document.getElementById("booking-adults");
const bookingChildrenInput = document.getElementById("booking-children");
const bookingPriceSummary = document.getElementById("booking-price-summary");
const bookingNightsValue = document.getElementById("booking-nights-value");
const bookingRateValue = document.getElementById("booking-rate-value");
const bookingTaxValue = document.getElementById("booking-tax-value");
const bookingTotalValue = document.getElementById("booking-total-value");
const bookingErrorsDiv = document.getElementById("booking-errors");

let bookingCalculatedData = null;

// Set default value to first available date (April 17, 2026)
if (bookingCheckinInput) {
  bookingCheckinInput.value = '2026-04-17';
}

// Helper function to get next Saturday
function getNextSaturday(date) {
  const result = new Date(date);
  result.setDate(result.getDate() + ((6 - result.getDay() + 7) % 7));
  return result;
}

// Helper function to format date as YYYY-MM-DD
function formatDateInput(date) {
  return date.toISOString().split('T')[0];
}

// Helper function to get all Saturdays in high season
function getHighSeasonSaturdays() {
  const saturdays = [];
  const start = new Date('2026-07-04');
  const end = new Date('2026-08-29');

  let current = getNextSaturday(new Date('2026-07-03'));
  while (current <= end) {
    saturdays.push(formatDateInput(current));
    current.setDate(current.getDate() + 7);
  }

  return saturdays;
}

// Calculate booking price
function calculateBookingPrice() {
  if (!bookingCheckinInput.value || !bookingCheckoutInput.value) {
    bookingPriceSummary.style.display = 'none';
    bookingCalculatedData = null;
    return;
  }

  const checkin = new Date(bookingCheckinInput.value);
  const checkout = new Date(bookingCheckoutInput.value);
  const adults = parseInt(bookingAdultsInput.value) || 0;
  const children = parseInt(bookingChildrenInput.value) || 0;
  const totalGuests = adults + children;
  const errors = [];

  const nights = Math.round((checkout - checkin) / (1000 * 60 * 60 * 24));

  if (nights <= 0) {
    bookingPriceSummary.style.display = 'none';
    bookingCalculatedData = null;
    return;
  }

  if (totalGuests > 10) {
    errors.push(currentLang === 'fr'
      ? 'Maximum 10 voyageurs.'
      : 'Maximum 10 guests.');
  }

  const seasonStart = new Date('2026-04-17');
  const highSeasonStart = new Date('2026-07-04');
  const highSeasonEnd = new Date('2026-08-28');
  const standardSeasonEnd = new Date('2026-10-03');

  if (checkin < seasonStart || checkout > standardSeasonEnd) {
    errors.push(currentLang === 'fr'
      ? 'Fermé avant le 17 avril et après le 3 octobre 2026.'
      : 'Closed before April 17 and after October 3, 2026.');
  }

  const isHighSeason = checkin >= highSeasonStart && checkout <= highSeasonEnd;
  const isMixedSeason = checkin < highSeasonStart && checkout > highSeasonStart;

  let price = 0;

  if (isHighSeason) {
    // Fully in high season
    const checkinDay = checkin.getDay();
    const checkoutDay = checkout.getDay();

    if (checkinDay !== 6 || checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les arrivées et départs doivent être le samedi.'
        : 'During high season, check-in and check-out must be on Saturday.');
    }

    if (nights % 7 !== 0) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les séjours doivent être par semaine complète (7, 14, 21 nuits...).'
        : 'During high season, stays must be full weeks (7, 14, 21 nights...).');
    }

    const weeks = Math.floor(nights / 7);
    price = weeks * 3900;

  } else if (isMixedSeason) {
    // Mixed season: starts in standard, extends into high season
    const checkoutDay = checkout.getDay();

    // Check if checkout is in July/August (high season period)
    const isCheckoutInHighSeason = checkout >= highSeasonStart && checkout <= highSeasonEnd;

    if (isCheckoutInHighSeason && checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'Départ en juillet/août uniquement possible le samedi.'
        : 'Check-out in July/August only allowed on Saturday.');
    }

    // Calculate split pricing
    // Standard season nights: from checkin to July 4
    const standardNights = Math.round((highSeasonStart - checkin) / (1000 * 60 * 60 * 24));

    // High season nights: from July 4 to checkout
    const highSeasonNights = Math.round((checkout - highSeasonStart) / (1000 * 60 * 60 * 24));

    // Calculate standard season portion
    let standardPrice = 0;
    if (standardNights >= 15) {
      standardPrice = 5000 + ((standardNights - 15) * 333);
    } else if (standardNights === 7) {
      standardPrice = 2900;
    } else if (standardNights === 6) {
      standardPrice = 2700;
    } else if (standardNights === 5) {
      standardPrice = 2400;
    } else {
      standardPrice = standardNights * 500;
    }

    // Calculate high season portion (7-day blocks at 3900€/week)
    const highSeasonWeeks = Math.floor(highSeasonNights / 7);
    const highSeasonPrice = highSeasonWeeks * 3900;

    // Remaining nights in high season (less than a week) - not allowed if checkout is in high season
    const remainingHighSeasonNights = highSeasonNights % 7;
    if (remainingHighSeasonNights > 0 && isCheckoutInHighSeason) {
      errors.push(currentLang === 'fr'
        ? 'En juillet/août, les séjours doivent être par semaine complète (7 jours).'
        : 'In July/August, stays must be full weeks (7 days).');
    }

    price = standardPrice + highSeasonPrice;

  } else {
    // Fully in standard season
    if (nights < 4) {
      errors.push(currentLang === 'fr'
        ? 'Minimum 4 nuits en période normale.'
        : 'Minimum 4 nights during standard period.');
    }

    if (nights >= 15) {
      price = 5000 + ((nights - 15) * 333);
    } else if (nights === 7) {
      price = 2900;
    } else if (nights === 6) {
      price = 2700;
    } else if (nights === 5) {
      price = 2400;
    } else {
      price = nights * 500;
    }
  }

  const taxPerAdultPerNight = 0.90;
  const touristTax = adults * nights * taxPerAdultPerNight;
  const totalPrice = price + touristTax;

  bookingCalculatedData = {
    checkin: bookingCheckinInput.value,
    checkout: bookingCheckoutInput.value,
    nights,
    adults,
    children,
    price,
    touristTax,
    totalPrice
  };

  bookingNightsValue.textContent = nights;
  bookingRateValue.textContent = `${price.toLocaleString('fr-FR')}€`;
  bookingTaxValue.textContent = `${touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€`;
  bookingTotalValue.textContent = `${totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€`;

  if (errors.length > 0) {
    bookingErrorsDiv.innerHTML = errors.join('<br>');
  } else {
    bookingErrorsDiv.textContent = '';
  }

  bookingPriceSummary.style.display = 'block';
}

// Intelligent calendar constraints
if (bookingCheckinInput) {
  bookingCheckinInput.addEventListener('change', () => {
    const checkinDate = new Date(bookingCheckinInput.value);
    const highSeasonStart = new Date('2026-07-04');
    const highSeasonEnd = new Date('2026-08-28');

    // Check if in high season
    const isHighSeason = checkinDate >= highSeasonStart && checkinDate <= highSeasonEnd;

    if (isHighSeason) {
      // High season: only Saturdays
      const checkinDay = checkinDate.getDay();
      if (checkinDay !== 6) {
        // Find next Saturday
        const nextSat = getNextSaturday(checkinDate);
        bookingCheckinInput.value = formatDateInput(nextSat);
      }

      // Set checkout to 7 days later (next Saturday)
      const checkoutDate = new Date(bookingCheckinInput.value);
      checkoutDate.setDate(checkoutDate.getDate() + 7);
      bookingCheckoutInput.value = formatDateInput(checkoutDate);
      bookingCheckoutInput.min = formatDateInput(checkoutDate);

    } else {
      // Standard season: minimum 4 nights
      const minCheckout = new Date(checkinDate);
      minCheckout.setDate(minCheckout.getDate() + 4);
      bookingCheckoutInput.min = formatDateInput(minCheckout);
      bookingCheckoutInput.value = formatDateInput(minCheckout);
    }

    calculateBookingPrice();
  });
}

if (bookingCheckoutInput) {
  bookingCheckoutInput.addEventListener('change', () => {
    const checkinDate = new Date(bookingCheckinInput.value);
    const checkoutDate = new Date(bookingCheckoutInput.value);
    const highSeasonStart = new Date('2026-07-04');
    const highSeasonEnd = new Date('2026-08-28');

    // Check if checkout is in high season but checkin is not (mixed season)
    const isMixedSeason = checkinDate < highSeasonStart && checkoutDate > highSeasonStart;
    const isCheckoutInHighSeason = checkoutDate >= highSeasonStart && checkoutDate <= highSeasonEnd;

    if (isMixedSeason && isCheckoutInHighSeason) {
      // If checkout is in July/August, it must be a Saturday
      const checkoutDay = checkoutDate.getDay();
      if (checkoutDay !== 6) {
        // Find next Saturday
        const nextSat = getNextSaturday(checkoutDate);
        bookingCheckoutInput.value = formatDateInput(nextSat);
      }
    }

    calculateBookingPrice();
  });
}

if (bookingAdultsInput) {
  bookingAdultsInput.addEventListener('change', () => {
    const adults = parseInt(bookingAdultsInput.value) || 0;
    const children = parseInt(bookingChildrenInput.value) || 0;
    if (adults + children > 10) {
      bookingAdultsInput.value = 10 - children;
    }
    calculateBookingPrice();
  });
}

if (bookingChildrenInput) {
  bookingChildrenInput.addEventListener('change', () => {
    const adults = parseInt(bookingAdultsInput.value) || 0;
    const children = parseInt(bookingChildrenInput.value) || 0;
    if (adults + children > 10) {
      bookingChildrenInput.value = 10 - adults;
    }
    calculateBookingPrice();
  });
}

// Initial calculation
calculateBookingPrice();

if (bookingForm) {
  bookingForm.addEventListener("submit", (event) => {
    event.preventDefault();

    if (!bookingCalculatedData) {
      alert(currentLang === 'fr'
        ? 'Veuillez sélectionner des dates valides.'
        : 'Please select valid dates.');
      return;
    }

    const formData = new FormData(bookingForm);
    const name = formData.get("name");
    const email = formData.get("email");
    const phone = formData.get("phone") || "";
    const message = formData.get("message") || "";

    const contactEmail = "mas.airaga.contact@gmail.com";
    const subject = encodeURIComponent(
      currentLang === 'fr'
        ? "Demande de réservation - Mas Airaga"
        : "Booking request - Mas Airaga"
    );

    const phoneText = phone ? `\n${currentLang === 'fr' ? 'Téléphone' : 'Phone'} : ${phone}` : '';

    const body = encodeURIComponent(
      currentLang === 'fr'
        ? `Bonjour,\n\nJe souhaite réserver le Mas Airaga avec les informations suivantes :\n\nNom : ${name}\nEmail : ${email}${phoneText}\n\nArrivée : ${bookingCalculatedData.checkin}\nDépart : ${bookingCalculatedData.checkout}\nNombre de nuits : ${bookingCalculatedData.nights}\n\nVoyageurs :\n- Adultes : ${bookingCalculatedData.adults}\n- Enfants : ${bookingCalculatedData.children}\n\nEstimation du prix :\n- Tarif hébergement : ${bookingCalculatedData.price.toLocaleString('fr-FR')}€\n- Taxe de séjour : ${bookingCalculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€\n- Total TTC : ${bookingCalculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€\n\nMessage : ${message}\n\nCordialement`
        : `Hello,\n\nI would like to book Mas Airaga with the following information:\n\nName: ${name}\nEmail: ${email}${phoneText}\n\nCheck-in: ${bookingCalculatedData.checkin}\nCheck-out: ${bookingCalculatedData.checkout}\nNumber of nights: ${bookingCalculatedData.nights}\n\nGuests:\n- Adults: ${bookingCalculatedData.adults}\n- Children: ${bookingCalculatedData.children}\n\nPrice estimate:\n- Accommodation rate: €${bookingCalculatedData.price.toLocaleString('fr-FR')}\n- Tourist tax: €${bookingCalculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n- Total incl. tax: €${bookingCalculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n\nMessage: ${message}\n\nBest regards`
    );

    window.location.href = `mailto:${contactEmail}?subject=${subject}&body=${body}`;
  });
}

// Hero slider
const slides = document.querySelectorAll('.hero__slide');
let currentSlide = 0;

function nextSlide() {
  slides[currentSlide].classList.remove('active');
  currentSlide = (currentSlide + 1) % slides.length;
  slides[currentSlide].classList.add('active');
}

if (slides.length > 0) {
  setInterval(nextSlide, 5000); // Change slide every 5 seconds
}

// Scroll arrow
const scrollArrow = document.querySelector('.hero__scroll-arrow');
if (scrollArrow) {
  scrollArrow.addEventListener('click', () => {
    const firstSection = document.querySelector('#atouts');
    if (firstSection) {
      firstSection.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }
  });
}

// Sticky header shrink on scroll
const nav = document.querySelector('.nav');
let lastScroll = 0;

window.addEventListener('scroll', () => {
  const currentScroll = window.pageYOffset;

  if (currentScroll > 100) {
    nav.classList.add('scrolled');
  } else {
    nav.classList.remove('scrolled');
  }

  lastScroll = currentScroll;
});

// Scroll animations (fade-in, slide-up)
const observerOptions = {
  threshold: 0.1,
  rootMargin: '0px 0px -50px 0px'
};

const observer = new IntersectionObserver((entries) => {
  entries.forEach(entry => {
    if (entry.isIntersecting) {
      entry.target.classList.add('visible');
      observer.unobserve(entry.target); // Only animate once
    }
  });
}, observerOptions);

// Observe all sections
document.querySelectorAll('.section').forEach(section => {
  section.classList.add('fade-in');
  observer.observe(section);
});

// Observe cards with slide-up animation
document.querySelectorAll('.atout-card, .pricing-card, .faq-item, .around-category, .around-card, .review-card').forEach((card, index) => {
  card.classList.add('slide-up');

  // Add stagger effect for cards in the same container
  const staggerClass = `stagger-${(index % 4) + 1}`;
  card.classList.add(staggerClass);

  observer.observe(card);
});

// Price Calculator
const checkinInput = document.getElementById('calc-checkin');
const checkoutInput = document.getElementById('calc-checkout');
const adultsInput = document.getElementById('calc-adults');
const childrenInput = document.getElementById('calc-children');
const resultDiv = document.getElementById('calculator-result');
const nightsSpan = document.getElementById('calc-nights');
const guestsSpan = document.getElementById('calc-guests');
const rateSpan = document.getElementById('calc-rate');
const taxSpan = document.getElementById('calc-tax');
const totalSpan = document.getElementById('calc-total');
const errorsDiv = document.getElementById('calc-errors');
const sendEmailBtn = document.getElementById('calc-send-email');

let calculatedData = null;

function calculatePrice() {
  if (!checkinInput.value || !checkoutInput.value) {
    resultDiv.style.display = 'none';
    sendEmailBtn.style.display = 'none';
    return;
  }

  const checkin = new Date(checkinInput.value);
  const checkout = new Date(checkoutInput.value);
  const adults = parseInt(adultsInput.value) || 0;
  const children = parseInt(childrenInput.value) || 0;
  const totalGuests = adults + children;
  const errors = [];

  // Calculate number of nights
  const nights = Math.round((checkout - checkin) / (1000 * 60 * 60 * 24));

  if (nights <= 0) {
    errorsDiv.textContent = currentLang === 'fr'
      ? 'La date de départ doit être après la date d\'arrivée.'
      : 'Check-out date must be after check-in date.';
    resultDiv.style.display = 'block';
    nightsSpan.textContent = '-';
    guestsSpan.textContent = '-';
    rateSpan.textContent = '-';
    taxSpan.textContent = '-';
    totalSpan.textContent = '-';
    sendEmailBtn.style.display = 'none';
    return;
  }

  if (totalGuests > 10) {
    errors.push(currentLang === 'fr'
      ? 'Maximum 10 voyageurs.'
      : 'Maximum 10 guests.');
  }

  // Define season dates for 2026
  const seasonStart = new Date('2026-04-17');
  const highSeasonStart = new Date('2026-07-04');
  const highSeasonEnd = new Date('2026-08-28');
  const standardSeasonEnd = new Date('2026-10-03');

  // Check if dates are within valid season
  if (checkin < seasonStart || checkout > standardSeasonEnd) {
    errorsDiv.textContent = currentLang === 'fr'
      ? 'Fermé avant le 17 avril et après le 3 octobre 2026.'
      : 'Closed before April 17 and after October 3, 2026.';
    resultDiv.style.display = 'block';
    nightsSpan.textContent = nights;
    guestsSpan.textContent = `${adults} adulte(s), ${children} enfant(s)`;
    rateSpan.textContent = '-';
    taxSpan.textContent = '-';
    totalSpan.textContent = '-';
    sendEmailBtn.style.display = 'none';
    return;
  }

  // Check if stay is entirely in high season
  const isHighSeason = checkin >= highSeasonStart && checkout <= highSeasonEnd;
  const isMixedSeason = checkin < highSeasonStart && checkout > highSeasonStart;

  let price = 0;
  let rateDescription = '';

  if (isHighSeason) {
    // Fully in high season: €3900/week, Saturday to Saturday only, multiple weeks allowed
    const checkinDay = checkin.getDay();
    const checkoutDay = checkout.getDay();

    if (checkinDay !== 6 || checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les arrivées et départs doivent être le samedi.'
        : 'During high season, check-in and check-out must be on Saturday.');
    }

    if (nights % 7 !== 0) {
      errors.push(currentLang === 'fr'
        ? 'En haute saison, les séjours doivent être par semaine complète (7, 14, 21 nuits...).'
        : 'During high season, stays must be full weeks (7, 14, 21 nights...).');
    }

    const weeks = Math.floor(nights / 7);
    price = weeks * 3900;
    rateDescription = currentLang === 'fr'
      ? (weeks === 1 ? '3 900€ / semaine' : `${weeks} semaines × 3 900€ = ${price.toLocaleString('fr-FR')}€`)
      : (weeks === 1 ? '€3,900 / week' : `${weeks} weeks × €3,900 = €${price.toLocaleString('fr-FR')}`);

  } else if (isMixedSeason) {
    // Mixed season: starts in standard, extends into high season
    const checkoutDay = checkout.getDay();

    // Check if checkout is in July/August (high season period)
    const isCheckoutInHighSeason = checkout >= highSeasonStart && checkout <= highSeasonEnd;

    if (isCheckoutInHighSeason && checkoutDay !== 6) {
      errors.push(currentLang === 'fr'
        ? 'Départ en juillet/août uniquement possible le samedi.'
        : 'Check-out in July/August only allowed on Saturday.');
    }

    // Calculate split pricing
    // Standard season nights: from checkin to July 4
    const standardNights = Math.round((highSeasonStart - checkin) / (1000 * 60 * 60 * 24));

    // High season nights: from July 4 to checkout
    const highSeasonNights = Math.round((checkout - highSeasonStart) / (1000 * 60 * 60 * 24));

    // Calculate standard season portion
    let standardPrice = 0;
    if (standardNights >= 15) {
      standardPrice = 5000 + ((standardNights - 15) * 333);
    } else if (standardNights === 7) {
      standardPrice = 2900;
    } else if (standardNights === 6) {
      standardPrice = 2700;
    } else if (standardNights === 5) {
      standardPrice = 2400;
    } else {
      standardPrice = standardNights * 500;
    }

    // Calculate high season portion (7-day blocks at 3900€/week)
    const highSeasonWeeks = Math.floor(highSeasonNights / 7);
    const highSeasonPrice = highSeasonWeeks * 3900;

    // Remaining nights in high season (less than a week) - not allowed if checkout is in high season
    const remainingHighSeasonNights = highSeasonNights % 7;
    if (remainingHighSeasonNights > 0 && isCheckoutInHighSeason) {
      errors.push(currentLang === 'fr'
        ? 'En juillet/août, les séjours doivent être par semaine complète (7 jours).'
        : 'In July/August, stays must be full weeks (7 days).');
    }

    price = standardPrice + highSeasonPrice;
    rateDescription = currentLang === 'fr'
      ? `Standard: ${standardPrice.toLocaleString('fr-FR')}€ + Haute saison: ${highSeasonPrice.toLocaleString('fr-FR')}€`
      : `Standard: €${standardPrice.toLocaleString('fr-FR')} + High season: €${highSeasonPrice.toLocaleString('fr-FR')}`;

  } else {
    // Fully in standard season pricing
    if (nights < 4) {
      errors.push(currentLang === 'fr'
        ? 'Minimum 4 nuits en période normale.'
        : 'Minimum 4 nights during standard period.');
    }

    // Degressive pricing
    if (nights >= 15) {
      // 15 nuits = 5000€, puis 333€ par nuit supplémentaire
      price = 5000 + ((nights - 15) * 333);
      rateDescription = currentLang === 'fr'
        ? `5 000€ + ${nights - 15} × 333€ = ${price.toLocaleString('fr-FR')}€`
        : `€5,000 + ${nights - 15} × €333 = €${price.toLocaleString('fr-FR')}`;
    } else if (nights === 7) {
      price = 2900;
      rateDescription = currentLang === 'fr' ? '2 900€ (7 nuits)' : '€2,900 (7 nights)';
    } else if (nights === 6) {
      price = 2700;
      rateDescription = currentLang === 'fr' ? '2 700€ (6 nuits)' : '€2,700 (6 nights)';
    } else if (nights === 5) {
      price = 2400;
      rateDescription = currentLang === 'fr' ? '2 400€ (5 nuits)' : '€2,400 (5 nights)';
    } else {
      price = nights * 500;
      rateDescription = currentLang === 'fr' ? `500€ × ${nights} nuits` : `€500 × ${nights} nights`;
    }
  }

  // Calculate tourist tax (Terre de Provence - meublé non classé)
  // 0.90€ per adult per night (18 years and over)
  const taxPerAdultPerNight = 0.90;
  const touristTax = adults * nights * taxPerAdultPerNight;
  const totalPrice = price + touristTax;

  // Store calculated data for email
  calculatedData = {
    checkin: checkinInput.value,
    checkout: checkoutInput.value,
    nights,
    adults,
    children,
    price,
    touristTax,
    totalPrice
  };

  // Display results
  nightsSpan.textContent = nights;
  guestsSpan.textContent = currentLang === 'fr'
    ? `${adults} adulte(s), ${children} enfant(s)`
    : `${adults} adult(s), ${children} child(ren)`;
  rateSpan.textContent = `${price.toLocaleString('fr-FR')}€`;
  taxSpan.textContent = `${touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€`;
  totalSpan.textContent = `${totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€`;

  if (errors.length > 0) {
    errorsDiv.innerHTML = errors.join('<br>');
    sendEmailBtn.style.display = 'none';
  } else {
    errorsDiv.textContent = '';
    sendEmailBtn.style.display = 'block';
  }

  resultDiv.style.display = 'block';
}

// Send email button handler
if (sendEmailBtn) {
  sendEmailBtn.addEventListener('click', () => {
    if (!calculatedData) return;

    const subject = encodeURIComponent(
      currentLang === 'fr'
        ? "Demande de réservation - Mas Airaga"
        : "Booking request - Mas Airaga"
    );

    const body = encodeURIComponent(
      currentLang === 'fr'
        ? `Bonjour,\n\nJe souhaite réserver le Mas Airaga avec les informations suivantes :\n\nArrivée : ${calculatedData.checkin}\nDépart : ${calculatedData.checkout}\nNombre de nuits : ${calculatedData.nights}\n\nVoyageurs :\n- Adultes : ${calculatedData.adults}\n- Enfants : ${calculatedData.children}\n\nRécapitulatif des prix :\n- Tarif hébergement : ${calculatedData.price.toLocaleString('fr-FR')}€\n- Taxe de séjour : ${calculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€\n- Total TTC : ${calculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}€\n\nCordialement`
        : `Hello,\n\nI would like to book Mas Airaga with the following information:\n\nCheck-in: ${calculatedData.checkin}\nCheck-out: ${calculatedData.checkout}\nNumber of nights: ${calculatedData.nights}\n\nGuests:\n- Adults: ${calculatedData.adults}\n- Children: ${calculatedData.children}\n\nPrice summary:\n- Accommodation rate: €${calculatedData.price.toLocaleString('fr-FR')}\n- Tourist tax: €${calculatedData.touristTax.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n- Total incl. tax: €${calculatedData.totalPrice.toLocaleString('fr-FR', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\n\nBest regards`
    );

    window.location.href = `mailto:mas.airaga.contact@gmail.com?subject=${subject}&body=${body}`;
  });
}

if (checkinInput && checkoutInput && adultsInput && childrenInput) {
  checkinInput.addEventListener('change', calculatePrice);
  checkoutInput.addEventListener('change', calculatePrice);
  adultsInput.addEventListener('change', calculatePrice);
  childrenInput.addEventListener('change', calculatePrice);
}

// Fix for mobile Safari/Chrome image loading issues
const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
if (isMobile) {
  // Wait for DOM to be fully loaded
  window.addEventListener('DOMContentLoaded', function() {
    // Remove lazy loading on mobile devices
    const lazyImages = document.querySelectorAll('img[loading="lazy"]');

    lazyImages.forEach(img => {
      // Remove lazy loading attribute
      img.removeAttribute('loading');

      // Force eager loading
      img.loading = 'eager';

      // Add visibility and rendering hints
      img.style.visibility = 'visible';
      img.style.opacity = '1';

      // Force browser to recognize the image
      const src = img.getAttribute('src');
      if (src) {
        img.src = '';
        img.src = src;
      }
    });

    // Additional check after a small delay to ensure images are loaded
    setTimeout(() => {
      lazyImages.forEach(img => {
        if (!img.complete || img.naturalHeight === 0) {
          const src = img.getAttribute('src');
          if (src) {
            img.src = src + '?reload=' + Date.now();
          }
        }
      });
    }, 100);
  });
}

// Mobile hamburger menu
const hamburger = document.getElementById('nav-hamburger');
const navLinks = document.getElementById('nav-links');

if (hamburger && navLinks) {
  hamburger.addEventListener('click', () => {
    hamburger.classList.toggle('active');
    navLinks.classList.toggle('active');
    document.body.style.overflow = navLinks.classList.contains('active') ? 'hidden' : '';
  });

  // Close menu when clicking on a link
  navLinks.querySelectorAll('a').forEach(link => {
    link.addEventListener('click', () => {
      hamburger.classList.remove('active');
      navLinks.classList.remove('active');
      document.body.style.overflow = '';
    });
  });

  // Close menu when clicking outside
  document.addEventListener('click', (e) => {
    if (!hamburger.contains(e.target) && !navLinks.contains(e.target)) {
      hamburger.classList.remove('active');
      navLinks.classList.remove('active');
      document.body.style.overflow = '';
    }
  });
}

// Smooth scroll for anchor links
document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
  anchor.addEventListener("click", function (e) {
    const targetId = this.getAttribute("href");
    const target = document.querySelector(targetId);
    if (target) {
      e.preventDefault();
      target.scrollIntoView({ behavior: "smooth", block: "start" });
    }
  });
});

// Scroll to top button
const scrollToTopBtn = document.getElementById('scroll-to-top');

if (scrollToTopBtn) {
  window.addEventListener('scroll', () => {
    if (window.pageYOffset > 300) {
      scrollToTopBtn.classList.add('visible');
    } else {
      scrollToTopBtn.classList.remove('visible');
    }
  });

  scrollToTopBtn.addEventListener('click', () => {
    window.scrollTo({ top: 0, behavior: 'smooth' });
  });
}

// Lightbox functionality
const lightbox = document.getElementById('lightbox');
const lightboxImage = document.getElementById('lightbox-image');
const lightboxCaption = document.getElementById('lightbox-caption');
const galleryItems = document.querySelectorAll('.gallery-item');
const closeBtn = lightbox ? lightbox.querySelector('.lightbox__close') : null;
const prevBtn = lightbox ? lightbox.querySelector('.lightbox__prev') : null;
const nextBtn = lightbox ? lightbox.querySelector('.lightbox__next') : null;

let currentImageIndex = 0;
let currentGalleryImages = [];

if (lightbox && galleryItems.length > 0) {
  // Add click listeners to all gallery items
  galleryItems.forEach((item, index) => {
    item.addEventListener('click', () => {
      openLightbox(index);
    });
  });

  // Close button
  closeBtn.addEventListener('click', closeLightbox);

  // Previous/Next buttons
  prevBtn.addEventListener('click', showPrevImage);
  nextBtn.addEventListener('click', showNextImage);

  // Keyboard navigation
  document.addEventListener('keydown', (e) => {
    if (lightbox.style.display === 'flex') {
      if (e.key === 'Escape') closeLightbox();
      if (e.key === 'ArrowLeft') showPrevImage();
      if (e.key === 'ArrowRight') showNextImage();
    }
  });

  // Close on background click
  lightbox.addEventListener('click', (e) => {
    if (e.target === lightbox) {
      closeLightbox();
    }
  });
}

function openLightbox(index) {
  // Convert NodeList to Array for easier manipulation
  currentGalleryImages = Array.from(galleryItems);
  currentImageIndex = index;

  const img = currentGalleryImages[currentImageIndex];
  lightboxImage.src = img.src;
  lightboxImage.alt = img.alt;

  // Set caption from data-category and alt
  const category = img.getAttribute('data-category') || '';
  const alt = img.alt || '';
  lightboxCaption.textContent = category ? `${category}` : alt;

  lightbox.style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  lightbox.style.display = 'none';
  document.body.style.overflow = '';
}

function showPrevImage() {
  currentImageIndex = (currentImageIndex - 1 + currentGalleryImages.length) % currentGalleryImages.length;
  updateLightboxImage();
}

function showNextImage() {
  currentImageIndex = (currentImageIndex + 1) % currentGalleryImages.length;
  updateLightboxImage();
}

function updateLightboxImage() {
  const img = currentGalleryImages[currentImageIndex];
  lightboxImage.src = img.src;
  lightboxImage.alt = img.alt;

  const category = img.getAttribute('data-category') || '';
  const alt = img.alt || '';
  lightboxCaption.textContent = category ? `${category}` : alt;
}

// Mobile carousel navigation
document.addEventListener('DOMContentLoaded', function() {
  const carouselCards = document.querySelectorAll('.carousel-card');

  carouselCards.forEach(card => {
    card.addEventListener('click', function() {
      const targetId = this.getAttribute('data-target');
      const targetSection = document.getElementById(targetId);

      if (targetSection) {
        // Smooth scroll to the section
        targetSection.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });
});

// Touch gesture support for lightbox (swipe left/right)
let touchStartX = 0;
let touchEndX = 0;
let touchStartY = 0;
let touchEndY = 0;

function handleSwipeGesture() {
  const swipeThreshold = 50; // Minimum distance for swipe
  const deltaX = touchEndX - touchStartX;
  const deltaY = touchEndY - touchStartY;

  // Only register horizontal swipes (ignore vertical scrolling)
  if (Math.abs(deltaX) > Math.abs(deltaY) && Math.abs(deltaX) > swipeThreshold) {
    if (deltaX > 0) {
      // Swipe right - show previous image
      showPreviousImage();
    } else {
      // Swipe left - show next image
      showNextImage();
    }
  }
}

if (lightbox) {
  lightbox.addEventListener('touchstart', function(e) {
    touchStartX = e.changedTouches[0].screenX;
    touchStartY = e.changedTouches[0].screenY;
  }, false);

  lightbox.addEventListener('touchend', function(e) {
    touchEndX = e.changedTouches[0].screenX;
    touchEndY = e.changedTouches[0].screenY;
    handleSwipeGesture();
  }, false);
}

// ========================================
// WebP Support with Automatic Fallback
// ========================================

/**
 * Automatically upgrade JPG images to WebP format with fallback
 * Converts <img src="image.jpg"> to:
 * <picture>
 *   <source srcset="image.webp" type="image/webp">
 *   <img src="image.jpg" ...>
 * </picture>
 */
(function initWebPSupport() {
  // Check if browser supports WebP
  const supportsWebP = (function() {
    const elem = document.createElement('canvas');
    if (!!(elem.getContext && elem.getContext('2d'))) {
      return elem.toDataURL('image/webp').indexOf('data:image/webp') === 0;
    }
    return false;
  })();

  // Get all gallery images (not logo or other UI elements)
  const images = document.querySelectorAll('.gallery-item, .space-gallery img, .hero__slide, .carousel-card img');

  images.forEach(img => {
    // Skip if already processed
    if (img.dataset.webpProcessed) {
      return;
    }

    // For background images on hero slides
    if (img.classList.contains('hero__slide')) {
      const bgImage = img.style.backgroundImage;
      if (bgImage && bgImage.includes('.jpg')) {
        const jpgPath = bgImage.match(/url\(['"]?([^'"]+)['"]?\)/)?.[1];
        if (jpgPath) {
          const webpPath = jpgPath.replace(/\.jpg$/i, '.webp');
          // Try loading WebP, fallback to JPG if fails
          const testImg = new Image();
          testImg.onload = () => {
            img.style.backgroundImage = `url('${webpPath}')`;
          };
          testImg.onerror = () => {
            // Keep JPG - already set
          };
          testImg.src = webpPath;
        }
      }
      img.dataset.webpProcessed = 'true';
      return;
    }

    const jpgSrc = img.getAttribute('src');
    if (!jpgSrc || !jpgSrc.endsWith('.jpg')) {
      img.dataset.webpProcessed = 'true';
      return;
    }

    // Create WebP path
    const webpSrc = jpgSrc.replace(/\.jpg$/i, '.webp');

    // If browser supports WebP, just swap the src
    if (supportsWebP) {
      // Test if WebP exists
      const testImg = new Image();
      testImg.onload = () => {
        img.src = webpSrc;
        img.dataset.webpProcessed = 'true';
      };
      testImg.onerror = () => {
        // Keep JPG
        img.dataset.webpProcessed = 'true';
      };
      testImg.src = webpSrc;
    } else {
      // Browser doesn't support WebP, keep JPG
      img.dataset.webpProcessed = 'true';
    }
  });

  console.log(`✅ WebP support initialized (Browser supports WebP: ${supportsWebP})`);
})();

// ========================================
// Airbnb Calendar Sync (iCal)
// ========================================

/**
 * Fetch and parse Airbnb iCal calendar to get blocked dates
 */
(function initAirbnbCalendar() {
  const ICAL_URL = 'https://www.airbnb.com/calendar/ical/11578905.ics?t=a3a2aff205c847e8b1ddbabf18d0ec55&locale=en';
  const CORS_PROXY = 'https://api.allorigins.win/raw?url='; // Free CORS proxy
  const CACHE_KEY = 'mas-airaga-blocked-dates';
  const CACHE_DURATION = 6 * 60 * 60 * 1000; // 6 hours in milliseconds

  let blockedDates = [];

  /**
   * Parse iCal format to extract blocked date ranges
   */
  function parseICalendar(icalData) {
    const blocked = [];
    const lines = icalData.split(/\r?\n/);
    let currentEvent = {};

    for (let i = 0; i < lines.length; i++) {
      const line = lines[i].trim();

      if (line === 'BEGIN:VEVENT') {
        currentEvent = {};
      } else if (line === 'END:VEVENT') {
        // Process the event
        if (currentEvent.dtstart && currentEvent.dtend) {
          // Parse dates (format: YYYYMMDD or YYYYMMDDTHHMMSSZ)
          const startDate = parseDateFromIcal(currentEvent.dtstart);
          const endDate = parseDateFromIcal(currentEvent.dtend);

          if (startDate && endDate) {
            blocked.push({ start: startDate, end: endDate });
          }
        }
        currentEvent = {};
      } else if (line.startsWith('DTSTART')) {
        const match = line.match(/DTSTART[;:](.+)/);
        if (match) currentEvent.dtstart = match[1];
      } else if (line.startsWith('DTEND')) {
        const match = line.match(/DTEND[;:](.+)/);
        if (match) currentEvent.dtend = match[1];
      }
    }

    return blocked;
  }

  /**
   * Parse iCal date format to JavaScript Date
   */
  function parseDateFromIcal(dateStr) {
    // Handle VALUE=DATE format (YYYYMMDD)
    const cleanStr = dateStr.replace(/^VALUE=DATE:/, '');

    if (cleanStr.length === 8) {
      // YYYYMMDD format
      const year = parseInt(cleanStr.substring(0, 4));
      const month = parseInt(cleanStr.substring(4, 6)) - 1; // JS months are 0-indexed
      const day = parseInt(cleanStr.substring(6, 8));
      return new Date(year, month, day);
    } else if (cleanStr.includes('T')) {
      // YYYYMMDDTHHMMSSZ format
      const year = parseInt(cleanStr.substring(0, 4));
      const month = parseInt(cleanStr.substring(4, 6)) - 1;
      const day = parseInt(cleanStr.substring(6, 8));
      return new Date(year, month, day);
    }

    return null;
  }

  /**
   * Check if a date is blocked
   */
  function isDateBlocked(date) {
    const checkDate = new Date(date);
    checkDate.setHours(0, 0, 0, 0);

    return blockedDates.some(range => {
      const start = new Date(range.start);
      const end = new Date(range.end);
      start.setHours(0, 0, 0, 0);
      end.setHours(0, 0, 0, 0);

      // Check if date falls within blocked range (inclusive)
      return checkDate >= start && checkDate < end;
    });
  }

  /**
   * Format date as YYYY-MM-DD
   */
  function formatDate(date) {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
  }

  /**
   * Fetch calendar data from Airbnb
   */
  async function fetchCalendar() {
    try {
      // Check cache first
      const cached = localStorage.getItem(CACHE_KEY);
      if (cached) {
        const { data, timestamp } = JSON.parse(cached);
        const age = Date.now() - timestamp;

        if (age < CACHE_DURATION) {
          console.log('✅ Using cached calendar data');
          return data;
        }
      }

      // Fetch fresh data
      console.log('⬇️ Fetching Airbnb calendar...');
      const response = await fetch(CORS_PROXY + encodeURIComponent(ICAL_URL));

      if (!response.ok) {
        throw new Error(`HTTP error! status: ${response.status}`);
      }

      const icalData = await response.text();
      const parsed = parseICalendar(icalData);

      // Cache the result
      localStorage.setItem(CACHE_KEY, JSON.stringify({
        data: parsed,
        timestamp: Date.now()
      }));

      console.log(`✅ Calendar synced: ${parsed.length} blocked periods found`);
      return parsed;

    } catch (error) {
      console.warn('⚠️ Failed to fetch Airbnb calendar:', error);

      // Fallback to cached data if available
      const cached = localStorage.getItem(CACHE_KEY);
      if (cached) {
        const { data } = JSON.parse(cached);
        console.log('ℹ️ Using stale cache as fallback');
        return data;
      }

      return [];
    }
  }

  /**
   * Update date inputs to disable blocked dates
   */
  function updateDateInputs() {
    const checkinInput = document.getElementById('booking-checkin');
    const checkoutInput = document.getElementById('booking-checkout');
    const calcCheckinInput = document.getElementById('calc-checkin');
    const calcCheckoutInput = document.getElementById('calc-checkout');

    if (!checkinInput) return;

    // Add change listeners to validate selected dates
    const validateDate = (input) => {
      if (!input.value) return;

      const selectedDate = new Date(input.value);
      if (isDateBlocked(selectedDate)) {
        alert(translations[currentLang].calendarBlocked || 'Cette date n\'est pas disponible. Veuillez en choisir une autre.');
        input.value = '';
      }
    };

    [checkinInput, checkoutInput, calcCheckinInput, calcCheckoutInput].forEach(input => {
      if (input) {
        input.addEventListener('change', () => validateDate(input));
      }
    });
  }

  /**
   * Initialize calendar sync
   */
  /**
   * Render visual availability calendar
   */
  // Selection state
  let selectedCheckin = null;
  let selectedCheckout = null;

  function formatDateForInput(date) {
    const year = date.getFullYear();
    const month = String(date.getMonth() + 1).padStart(2, '0');
    const day = String(date.getDate()).padStart(2, '0');
    return `${year}-${month}-${day}`;
  }

  // Check if date is a Saturday
  function isSaturday(date) {
    return date.getDay() === 6;
  }

  // Determine pricing season for a date
  function getSeason(date) {
    const month = date.getMonth();
    const day = date.getDate();

    // High season: July 4 - August 28
    if ((month === 6 && day >= 4) || (month === 7 && day <= 28)) {
      return 'high';
    }
    // Standard season: April 17 - July 3 & August 29 - October 3
    return 'standard';
  }

  // Check if a date is selectable based on current selection and rules
  function isDateSelectable(date, isCheckout = false) {
    // If selecting check-in (no selection yet)
    if (!selectedCheckin && !isCheckout) {
      const season = getSeason(date);
      // High season: only Saturdays allowed for check-in
      if (season === 'high') {
        return isSaturday(date);
      }
      // Standard season: any available date
      return true;
    }

    // If selecting check-out (check-in already selected)
    if (selectedCheckin && !selectedCheckout && isCheckout) {
      const checkinSeason = getSeason(selectedCheckin);
      const checkoutSeason = getSeason(date);

      // High season rules
      if (checkinSeason === 'high') {
        // Must be Saturday
        if (!isSaturday(date)) {
          return false;
        }
        // Must be exactly 7 days after check-in
        const daysDiff = Math.round((date - selectedCheckin) / (1000 * 60 * 60 * 24));
        return daysDiff === 7;
      }

      // Standard season rules
      if (checkinSeason === 'standard') {
        // Must be at least 4 nights
        const daysDiff = Math.round((date - selectedCheckin) / (1000 * 60 * 60 * 24));
        if (daysDiff < 4) {
          return false;
        }

        // Cannot cross into high season without proper Saturday alignment
        // Check if any date in range is in high season
        let currentDate = new Date(selectedCheckin);
        while (currentDate <= date) {
          if (getSeason(currentDate) === 'high' && !isSaturday(currentDate)) {
            // If we cross into high season, the boundary must be on a Saturday
            return false;
          }
          currentDate.setDate(currentDate.getDate() + 1);
        }

        return true;
      }
    }

    return false;
  }

  function handleDateClick(date) {
    // If both dates are already selected, reset and start over
    if (selectedCheckin && selectedCheckout) {
      selectedCheckin = null;
      selectedCheckout = null;
    }

    // If no check-in selected, set it
    if (!selectedCheckin) {
      // Validate check-in date
      if (!isDateSelectable(date, false)) {
        const season = getSeason(date);
        const lang = document.documentElement.lang || 'fr';
        const messages = {
          fr: season === 'high'
            ? 'En haute saison, les arrivées sont uniquement possibles le samedi.'
            : 'Cette date ne peut pas être sélectionnée comme date d\'arrivée.',
          en: season === 'high'
            ? 'In high season, check-in is only allowed on Saturdays.'
            : 'This date cannot be selected as check-in date.',
          nl: season === 'high'
            ? 'In het hoogseizoen is inchecken alleen mogelijk op zaterdag.'
            : 'Deze datum kan niet worden geselecteerd als incheckdatum.',
          de: season === 'high'
            ? 'In der Hochsaison ist der Check-in nur samstags möglich.'
            : 'Dieses Datum kann nicht als Check-in-Datum ausgewählt werden.'
        };
        alert(messages[lang] || messages.fr);
        return;
      }
      selectedCheckin = date;
      selectedCheckout = null;
    }
    // If check-in is selected but no check-out
    else if (!selectedCheckout) {
      // Check if trying to select earlier date (reset selection)
      if (date <= selectedCheckin) {
        selectedCheckin = date;
        selectedCheckout = null;
        renderCalendar();
        return;
      }

      // Validate check-out date
      if (!isDateSelectable(date, true)) {
        const season = getSeason(selectedCheckin);
        const daysDiff = Math.round((date - selectedCheckin) / (1000 * 60 * 60 * 24));
        const lang = document.documentElement.lang || 'fr';

        let message = '';
        if (season === 'high') {
          const messages = {
            fr: 'En haute saison, le départ doit être un samedi (séjour de 7 nuits exactement).',
            en: 'In high season, check-out must be on Saturday (exactly 7 nights).',
            nl: 'In het hoogseizoen moet uitchecken op zaterdag (precies 7 nachten).',
            de: 'In der Hochsaison muss der Check-out samstags sein (genau 7 Nächte).'
          };
          message = messages[lang] || messages.fr;
        } else if (daysDiff < 4) {
          const messages = {
            fr: 'Le séjour doit être de minimum 4 nuits.',
            en: 'Stay must be minimum 4 nights.',
            nl: 'Verblijf moet minimaal 4 nachten zijn.',
            de: 'Aufenthalt muss mindestens 4 Nächte betragen.'
          };
          message = messages[lang] || messages.fr;
        } else {
          const messages = {
            fr: 'Cette date de départ n\'est pas valide selon les règles de réservation.',
            en: 'This check-out date is not valid according to booking rules.',
            nl: 'Deze uitcheckdatum is niet geldig volgens de boekingsregels.',
            de: 'Dieses Check-out-Datum ist gemäß den Buchungsregeln nicht gültig.'
          };
          message = messages[lang] || messages.fr;
        }
        alert(message);
        return;
      }

      selectedCheckout = date;
    }

    // Update form inputs
    const checkinInput = document.getElementById('booking-checkin');
    const checkoutInput = document.getElementById('booking-checkout');
    const calcCheckinInput = document.getElementById('calc-checkin');
    const calcCheckoutInput = document.getElementById('calc-checkout');

    if (checkinInput && selectedCheckin) {
      checkinInput.value = formatDateForInput(selectedCheckin);
    }
    if (checkoutInput && selectedCheckout) {
      checkoutInput.value = formatDateForInput(selectedCheckout);
    }
    if (calcCheckinInput && selectedCheckin) {
      calcCheckinInput.value = formatDateForInput(selectedCheckin);
    }
    if (calcCheckoutInput && selectedCheckout) {
      calcCheckoutInput.value = formatDateForInput(selectedCheckout);
    }

    // Re-render calendar to update visual state
    renderCalendar();
  }

  function renderCalendar() {
    const calendarGrid = document.getElementById('availability-calendar-grid');
    if (!calendarGrid) return;

    calendarGrid.innerHTML = '';

    const today = new Date();
    const startDate = new Date(2026, 3, 17); // April 17, 2026
    const endDate = new Date(2026, 9, 3); // October 3, 2026

    const monthNames = ['Janvier', 'Février', 'Mars', 'Avril', 'Mai', 'Juin',
                        'Juillet', 'Août', 'Septembre', 'Octobre', 'Novembre', 'Décembre'];
    const weekdayNames = ['D', 'L', 'M', 'M', 'J', 'V', 'S'];

    let currentMonth = new Date(startDate.getFullYear(), startDate.getMonth(), 1);

    while (currentMonth <= endDate) {
      const monthDiv = document.createElement('div');
      monthDiv.className = 'calendar-month';

      // Month header
      const header = document.createElement('div');
      header.className = 'calendar-month-header';
      header.textContent = `${monthNames[currentMonth.getMonth()]} ${currentMonth.getFullYear()}`;
      monthDiv.appendChild(header);

      // Weekday headers
      const weekdaysDiv = document.createElement('div');
      weekdaysDiv.className = 'calendar-weekdays';
      weekdayNames.forEach(day => {
        const dayDiv = document.createElement('div');
        dayDiv.className = 'calendar-weekday';
        dayDiv.textContent = day;
        weekdaysDiv.appendChild(dayDiv);
      });
      monthDiv.appendChild(weekdaysDiv);

      // Days grid
      const daysDiv = document.createElement('div');
      daysDiv.className = 'calendar-days';

      const firstDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), 1);
      const lastDay = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 0);
      const startDay = firstDay.getDay();

      // Empty cells before first day
      for (let i = 0; i < startDay; i++) {
        const emptyDiv = document.createElement('div');
        emptyDiv.className = 'calendar-day calendar-day--empty';
        daysDiv.appendChild(emptyDiv);
      }

      // Days of month
      for (let day = 1; day <= lastDay.getDate(); day++) {
        const date = new Date(currentMonth.getFullYear(), currentMonth.getMonth(), day);
        const dayDiv = document.createElement('div');
        dayDiv.className = 'calendar-day';
        dayDiv.textContent = day;

        // Determine base availability (color from Airbnb data)
        let isAvailable = false;

        if (date < startDate || date > endDate) {
          // Closed period
          dayDiv.classList.add('calendar-day--closed');
        } else if (isDateBlocked(date)) {
          // Blocked/reserved
          dayDiv.classList.add('calendar-day--blocked');
        } else {
          // Available date - keep original green color
          isAvailable = true;
          dayDiv.classList.add('calendar-day--available');
        }

        // Determine if date can be selected and if it should be grayed out
        let canSelect = false;
        let shouldGrayOut = false;

        if (isAvailable) {
          if (!selectedCheckin) {
            // No selection yet - only allow valid check-in dates
            canSelect = isDateSelectable(date, false);
          } else if (!selectedCheckout) {
            // Check-in selected, now selecting check-out
            if (date <= selectedCheckin) {
              // Can click same date or earlier to reset selection
              canSelect = true;
            } else {
              // Check if valid check-out based on rules
              const isValidCheckout = isDateSelectable(date, true);
              canSelect = isValidCheckout;

              // Gray out invalid checkout dates
              if (!isValidCheckout) {
                shouldGrayOut = true;
              }
            }
          } else {
            // Both selected - can click any available to reset
            canSelect = true;
          }
        }

        // Apply gray-out visual effect for impossible dates
        if (shouldGrayOut) {
          dayDiv.classList.add('calendar-day--disabled');
        }

        // Check if this date is selected (blue highlighting)
        const dateStr = date.toDateString();
        if (selectedCheckin && dateStr === selectedCheckin.toDateString()) {
          dayDiv.classList.add('calendar-day--selected');
          dayDiv.classList.add('calendar-day--checkin');
        } else if (selectedCheckout && dateStr === selectedCheckout.toDateString()) {
          dayDiv.classList.add('calendar-day--selected');
          dayDiv.classList.add('calendar-day--checkout');
        } else if (selectedCheckin && selectedCheckout && date > selectedCheckin && date < selectedCheckout) {
          // Dates in between check-in and check-out (light blue)
          dayDiv.classList.add('calendar-day--in-range');
        }

        // Highlight today
        if (date.toDateString() === today.toDateString()) {
          dayDiv.classList.add('calendar-day--today');
        }

        // Set cursor and click handler
        if (canSelect) {
          dayDiv.style.cursor = 'pointer';
          dayDiv.addEventListener('click', () => handleDateClick(date));
        } else if (isAvailable) {
          // Available but not selectable - show not-allowed cursor
          dayDiv.style.cursor = 'not-allowed';
        }

        daysDiv.appendChild(dayDiv);
      }

      monthDiv.appendChild(daysDiv);
      calendarGrid.appendChild(monthDiv);

      // Move to next month
      currentMonth = new Date(currentMonth.getFullYear(), currentMonth.getMonth() + 1, 1);
    }
  }

  async function init() {
    try {
      blockedDates = await fetchCalendar();
      updateDateInputs();
      renderCalendar();
      console.log('✅ Airbnb calendar integration initialized');
    } catch (error) {
      console.error('❌ Calendar initialization failed:', error);
    }
  }

  // Reset selection when clicking outside calendar
  document.addEventListener('click', (e) => {
    const calendarElement = document.querySelector('.availability-calendar');
    if (!calendarElement) return;

    // Check if click is outside the calendar
    if (!calendarElement.contains(e.target)) {
      // Only reset if there's an active selection
      if (selectedCheckin || selectedCheckout) {
        selectedCheckin = null;
        selectedCheckout = null;
        renderCalendar();
      }
    }
  });

  // Initialize on page load
  init();

  // Re-sync every 6 hours
  setInterval(() => {
    console.log('🔄 Re-syncing Airbnb calendar...');
    init();
  }, CACHE_DURATION);

  // Expose for debugging
  window.MasAiraga = {
    isDateBlocked,
    getBlockedDates: () => blockedDates,
    refreshCalendar: init,
    resetSelection: () => {
      selectedCheckin = null;
      selectedCheckout = null;
      renderCalendar();
    }
  };
})();
